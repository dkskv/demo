(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{"./src/stories/Carousel.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SwipeContainerStory:function(){return SwipeContainerStory},__namedExportsOrder:function(){return Carousel_stories_namedExportsOrder},default:function(){return Carousel_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),dnd=__webpack_require__("./src/decorators/dnd.ts"),useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),hooks=__webpack_require__("./src/hooks.ts"),utils_direction=__webpack_require__("./src/utils/direction.ts"),styles=__webpack_require__("./src/utils/styles.ts"),dom=__webpack_require__("./src/utils/dom.ts"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function getBoxLength(box,direction){return direction.rangesOfBox(box)[0].size}var SwipeContainer=function SwipeContainer(_ref){var _ref2,box=_ref.box,children=_ref.children,_ref$direction=_ref.direction,direction=void 0===_ref$direction?utils_direction.N.horizontal:_ref$direction,_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1],_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),contentLength=_useState2[0],setContentLength=_useState2[1];(0,react.useEffect)((function(){var _element$childNodes,content=null==element||null===(_element$childNodes=element.childNodes)||void 0===_element$childNodes?void 0:_element$childNodes[0];if(content instanceof HTMLElement){var contentBox=(0,dom.Zt)(content);setContentLength(getBoxLength(contentBox,direction))}}),[element,direction]),(0,react.useEffect)((function(){setCoordinate(0)}),[direction]);var _useState3=(0,react.useState)(0),_useState4=(0,slicedToArray.Z)(_useState3,2),coordinate=_useState4[0],setCoordinate=_useState4[1],actualCoordinate=(0,useActualRef.s)(coordinate),maxCoordinate=Math.max(0,contentLength-getBoxLength(box,direction)),_useState5=(0,react.useState)(0),_useState6=(0,slicedToArray.Z)(_useState5,2),impulse=_useState6[0],setImpulse=_useState6[1],actualImpulse=(0,useActualRef.s)(impulse),dragTimestamp=(0,react.useRef)(0),request=(0,react.useRef)(0);function clampExtendedCoordinate(coordinate,overflowZone){return(0,es.uZ5)(-overflowZone,maxCoordinate+overflowZone,coordinate)}function inExtrusionZone(coordinate){return coordinate<0||coordinate>maxCoordinate}function placeOnEdge(coordinate){return coordinate<0?0:maxCoordinate}var startMoving=function startMoving(){function doStep(coordinate,impulse,dt){var nextImpulse=impulse+dt*(coordinate<0?.05:coordinate>maxCoordinate?-.05:0)+function calcBrakingImpulse(srcImpulse,frictionForce,dt){return(0,es.Fa1)(Math.abs,-srcImpulse,Math.sign(srcImpulse)*-frictionForce*dt)}(impulse,.03,dt),movedCoordinate=coordinate+nextImpulse/1,nextCoordinate=clampExtendedCoordinate(movedCoordinate,100),didStoppedByLimit=nextCoordinate!==movedCoordinate,didLeaveExtrusionZone=inExtrusionZone(coordinate)&&!inExtrusionZone(nextCoordinate);return{coordinate:didLeaveExtrusionZone?placeOnEdge(coordinate):nextCoordinate,impulse:didStoppedByLimit||didLeaveExtrusionZone?0:nextImpulse}}var prevTimestamp;cancelAnimationFrame(request.current),function move(){request.current=requestAnimationFrame((function(timestamp){var _prevTimestamp,dt=timestamp-(null!==(_prevTimestamp=prevTimestamp)&&void 0!==_prevTimestamp?_prevTimestamp:timestamp);prevTimestamp=timestamp,setCoordinate((function(coordinate){var step=doStep(coordinate,actualImpulse.current,dt);return(0!==step.impulse||inExtrusionZone(step.coordinate))&&move(),setImpulse(step.impulse),step.coordinate}))}))}()};var _useDragMovement=(0,dnd.eM)({element:element,onChange:function handleDrag(delta){dragTimestamp.current=performance.now(),setCoordinate((function(prevCoordinate){var impulse=-direction.coordinatesOfPoint(delta)[0];return prevCoordinate<0&&impulse<0?impulse*=1-prevCoordinate/-100:prevCoordinate>maxCoordinate&&impulse>0&&(impulse*=1-(prevCoordinate-maxCoordinate)/100),setImpulse(impulse),clampExtendedCoordinate(prevCoordinate+impulse,100)}))},onStart:function handleDragStart(){cancelAnimationFrame(request.current)},onEnd:function handleDragEnd(){performance.now()-dragTimestamp.current<40||inExtrusionZone(actualCoordinate.current)?startMoving():setImpulse(0)}}),isDrag=_useDragMovement.isDrag,containerLength=getBoxLength(box,direction);return(0,jsx_runtime.jsxs)("div",{ref:setElement,style:(0,objectSpread2.Z)({display:"inline-block",background:"SkyBlue",userSelect:"none",cursor:"grab",position:"relative",overflow:"hidden"},(0,styles.b8)(box)),children:[(0,jsx_runtime.jsx)("div",{style:(_ref2={position:"absolute"},(0,defineProperty.Z)(_ref2,direction.cssKeys.thickness,"100%"),(0,defineProperty.Z)(_ref2,direction.cssKeys.normalCoordinate,0),(0,defineProperty.Z)(_ref2,direction.cssKeys.coordinate,-coordinate),_ref2),children:children}),(0,jsx_runtime.jsx)("div",{style:(0,defineProperty.Z)({position:"absolute"},direction.reversed.cssKeys.normalCoordinate,0),children:(0,jsx_runtime.jsx)(Scrollbar,{isActive:0!==impulse||isDrag,direction:direction,length:containerLength,thickness:5,range:numbersRange.K.createByDelta(coordinate/contentLength,containerLength/contentLength)})})]})},Scrollbar=function Scrollbar(_ref4){var direction=_ref4.direction,length=_ref4.length,thickness=_ref4.thickness,range=_ref4.range,isActive=_ref4.isActive,box=direction.boxFromRanges(new numbersRange.K(0,length),new numbersRange.K(0,thickness)),thumbBox=direction.boxFromRanges(range.map((function(n){return n*length})),new numbersRange.K(0,thickness));return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({position:"relative"},(0,styles.b8)(box)),{},{background:"transparent",overflow:"hidden"}),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({position:"absolute"},(0,styles.b8)(thumbBox)),{},{background:"yellow",transitionProperty:"opacity",transitionDuration:"500ms",opacity:isActive?1:0})})})};try{SwipeContainer.displayName="SwipeContainer",SwipeContainer.__docgenInfo={description:"",displayName:"SwipeContainer",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SwipeContainer/index.tsx#SwipeContainer"]={docgenInfo:SwipeContainer.__docgenInfo,name:"SwipeContainer",path:"src/components/SwipeContainer/index.tsx#SwipeContainer"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx"),Carousel_stories={title:"Demo",parameters:{}},SwipeContainerStory=function SwipeContainerStory(){var _useState=(0,react.useState)(utils_direction.N.horizontal),_useState2=(0,slicedToArray.Z)(_useState,2),direction=_useState2[0],setDirection=_useState2[1],handleRotate=(0,react.useCallback)((function(){setDirection((function(prevDir){return prevDir.opposite}))}),[]),viewBox=direction.boxFromRanges(new numbersRange.K(0,500),new numbersRange.K(0,70)),itemBox=direction.boxFromRanges(new numbersRange.K(0,100),new numbersRange.K(0,70));return(0,jsx_runtime.jsxs)(Space.T,{direction:utils_direction.N.vertical,size:20,children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{onClick:handleRotate,children:"Rotate"})}),(0,jsx_runtime.jsx)(SwipeContainer,{box:viewBox,direction:direction,children:(0,jsx_runtime.jsx)(Space.T,{size:5,direction:direction,children:(0,es.DZ1)((function(i){return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(itemBox)),styles.FV),{},{background:"lightgrey"}),children:i})}),20)})})]})};SwipeContainerStory.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const [direction, setDirection] = useState(Directions.horizontal);\r\n\r\n  const handleRotate = useCallback(() => {\r\n    setDirection((prevDir) => prevDir.opposite);\r\n  }, []);\r\n\r\n  const viewBox = direction.boxFromRanges(\r\n    new NumbersRange(0, 500),\r\n    new NumbersRange(0, 70)\r\n  );\r\n  const itemBox = direction.boxFromRanges(\r\n    new NumbersRange(0, 100),\r\n    new NumbersRange(0, 70)\r\n  );\r\n\r\n  return (\r\n    <Space direction={Directions.vertical} size={20}>\r\n      <div>\r\n        <button onClick={handleRotate}>Rotate</button>\r\n      </div>\r\n      <SwipeContainer box={viewBox} direction={direction}>\r\n        <Space size={5} direction={direction}>\r\n          {times(\r\n            (i: number) => (\r\n              <div\r\n                style={{\r\n                  ...getBoxStyle(itemBox),\r\n                  ...centererStyle,\r\n                  background: "lightgrey",\r\n                }}\r\n              >\r\n                {i}\r\n              </div>\r\n            ),\r\n            20\r\n          )}\r\n        </Space>\r\n      </SwipeContainer>\r\n    </Space>\r\n  );\r\n}'}},SwipeContainerStory.parameters);var Carousel_stories_namedExportsOrder=["SwipeContainerStory"]},"./src/stories/ImageViewer.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ImageViewer:function(){return ImageViewer},__namedExportsOrder:function(){return ImageViewer_stories_namedExportsOrder},default:function(){return ImageViewer_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),styles=__webpack_require__("./src/utils/styles.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ImageBox=function ImageBox(_ref){var box=_ref.box,src=_ref.src,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?boundingBox.k.createByDimensions(0,0,1,1):_ref$viewBox;return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)({position:"relative",overflow:"hidden"},(0,styles.b8)(box)),children:(0,jsx_runtime.jsx)("img",{alt:"error",src:src,style:{position:"absolute",transform:"translate(".concat(100*-viewBox.x0,"%, ").concat(100*-viewBox.y0,"%)"),width:"".concat(1/viewBox.dx*100,"%"),height:"".concat(1/viewBox.dy*100,"%")}})})};try{ImageBox.displayName="ImageBox",ImageBox.__docgenInfo={description:"",displayName:"ImageBox",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},viewBox:{defaultValue:{value:"BoundingBox.createByDimensions(0, 0, 1, 1)"},description:"",name:"viewBox",required:!1,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ImageBox/index.tsx#ImageBox"]={docgenInfo:ImageBox.__docgenInfo,name:"ImageBox",path:"src/components/ImageBox/index.tsx#ImageBox"})}catch(__react_docgen_typescript_loader_error){}var ResizableControl=__webpack_require__("./src/components/ResizableControl/index.tsx"),dnd=__webpack_require__("./src/decorators/dnd.ts");var useScale=__webpack_require__("./src/decorators/useScale.ts"),hooks=__webpack_require__("./src/hooks.ts"),common=__webpack_require__("./src/utils/common.ts"),constants=__webpack_require__("./src/utils/constants.ts"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),point=__webpack_require__("./src/utils/point.ts"),ScalableImage=function ScalableImage(_ref){var box=_ref.box,src=_ref.src,viewBox=_ref.viewBox,onViewBoxChange=_ref.onViewBoxChange,_ref$scaleBounds=_ref.scaleBounds,scaleBounds=void 0===_ref$scaleBounds?new numbersRange.K(.2,1):_ref$scaleBounds,_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1];(0,useScale.T)(element,{onChange:function handleScale(delta,p){var nextViewBox=viewBox.scale(delta*constants.i).constrainSize(scaleBounds,scaleBounds).placeInSameOrigin(viewBox,p).clampByOuter(boundingBox.k.fromOrigin(1,1));onViewBoxChange(nextViewBox)}});var isScaled=viewBox.dx<1||viewBox.dy<1,_useBooleanState=function useBooleanState(initialValue){var _useState=(0,react.useState)(initialValue),_useState2=(0,slicedToArray.Z)(_useState,2),value=_useState2[0],setValue=_useState2[1];return[value,(0,react.useCallback)((function(){setValue(!0)}),[]),(0,react.useCallback)((function(){setValue(!1)}),[])]}(!1),_useBooleanState2=(0,slicedToArray.Z)(_useBooleanState,3),isDrag=_useBooleanState2[0],enableDragFlag=_useBooleanState2[1],disableDragFlag=_useBooleanState2[2];return(0,dnd.eM)({element:element,onChange:isScaled?function handleDrag(delta){var scaledDelta=delta.div(new point.E(box.dx/viewBox.dx,box.dy/viewBox.dy)),nextViewBox=viewBox.shift(scaledDelta.negate()).clampByOuter(boundingBox.k.fromOrigin(1,1));onViewBoxChange(nextViewBox)}:common.ZT,onStart:isScaled?enableDragFlag:common.ZT,onEnd:isScaled?disableDragFlag:common.ZT}),(0,jsx_runtime.jsx)("div",{ref:setElement,style:{cursor:isScaled?isDrag?"grabbing":"grab":"auto"},children:(0,jsx_runtime.jsx)(ImageBox,{box:box,src:src,viewBox:viewBox})})};try{ScalableImage.displayName="ScalableImage",ScalableImage.__docgenInfo={description:"",displayName:"ScalableImage",props:{viewBox:{defaultValue:null,description:"",name:"viewBox",required:!0,type:{name:"BoundingBox"}},onViewBoxChange:{defaultValue:null,description:"",name:"onViewBoxChange",required:!0,type:{name:"(b: BoundingBox) => void"}},scaleBounds:{defaultValue:{value:"new NumbersRange(0.2, 1)"},description:"",name:"scaleBounds",required:!1,type:{name:"NumbersRange"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScalableImage/index.tsx#ScalableImage"]={docgenInfo:ScalableImage.__docgenInfo,name:"ScalableImage",path:"src/components/ScalableImage/index.tsx#ScalableImage"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx"),ImageViewer_stories={title:"Demo"},ImageViewer=function ImageViewer(){var _useState=(0,react.useState)((function(){return boundingBox.k.createByDimensions(0,0,.25,.25)})),_useState2=(0,slicedToArray.Z)(_useState,2),controlValue=_useState2[0],setControlValue=_useState2[1],imageBox=boundingBox.k.createByDimensions(0,0,400,400),controlBox=boundingBox.k.createByDimensions(0,0,300,300),scaleBounds=new numbersRange.K(.2,1),src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg";return(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)(ScalableImage,{viewBox:controlValue,onViewBoxChange:setControlValue,src:src,box:imageBox,scaleBounds:scaleBounds}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)({position:"relative",border:"1px solid black",overflow:"hidden"},(0,styles.b8)(controlBox)),children:[(0,jsx_runtime.jsx)(ImageBox,{box:controlBox,src:src}),(0,jsx_runtime.jsx)(ResizableControl.Z,{value:controlValue,onChange:setControlValue,outerBox:controlBox.resetOrigin(),keepAspectRatio:!0,sizeBounds:{width:scaleBounds,height:scaleBounds},children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{border:"1px solid orange",boxShadow:"0 0 0 100vmax rgba(34, 60, 80, 0.7)"})})})]})]})};ImageViewer.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\n  const [controlValue, setControlValue] = useState<BoundingBox>(() =>\n    BoundingBox.createByDimensions(0, 0, 0.25, 0.25)\n  );\n\n  const imageBox = BoundingBox.createByDimensions(0, 0, 400, 400);\n  const controlBox = BoundingBox.createByDimensions(0, 0, 300, 300);\n\n  const scaleBounds = new NumbersRange(0.2, 1);\n\n  const src =\n    "https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg";\n\n  return (\n    <Space size={20}>\n      <ScalableImage\n        viewBox={controlValue}\n        onViewBoxChange={setControlValue}\n        src={src}\n        box={imageBox}\n        scaleBounds={scaleBounds}\n      />\n      <div\n        style={{\n          position: "relative",\n          border: "1px solid black",\n          overflow: "hidden",\n          ...getBoxStyle(controlBox),\n        }}\n      >\n        <ImageBox box={controlBox} src={src} />\n        <ResizableControl\n          value={controlValue}\n          onChange={setControlValue}\n          outerBox={controlBox.resetOrigin()}\n          keepAspectRatio={true}\n          sizeBounds={{ width: scaleBounds, height: scaleBounds }}\n        >\n          <div\n            style={{\n              ...stretchStyle,\n              border: "1px solid orange",\n              boxShadow: `0 0 0 100vmax rgba(34, 60, 80, 0.7)`,\n            }}\n          />\n        </ResizableControl>\n      </div>\n    </Space>\n  );\n}'}},ImageViewer.parameters);var ImageViewer_stories_namedExportsOrder=["ImageViewer"]},"./src/stories/Resizable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ResizableBox:function(){return ResizableBox},__namedExportsOrder:function(){return Resizable_stories_namedExportsOrder},default:function(){return Resizable_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Checkbox=__webpack_require__("./src/components/Checkbox/index.tsx"),es=__webpack_require__("./node_modules/ramda/es/index.js"),direction=__webpack_require__("./src/utils/direction.ts"),styles=__webpack_require__("./src/utils/styles.ts"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function getMarking(patternKey){return(0,jsx_runtime.jsx)("line",{x1:"".concat(0,"%"),x2:"".concat(100,"%"),y1:"".concat(50,"%"),y2:"".concat(50,"%"),stroke:"url(#".concat(patternKey,")"),strokeWidth:"100%"},patternKey)}try{getMarking.displayName="getMarking",getMarking.__docgenInfo={description:"",displayName:"getMarking",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/utils.tsx#getMarking"]={docgenInfo:getMarking.__docgenInfo,name:"getMarking",path:"src/components/Grid/utils.tsx#getMarking"})}catch(__react_docgen_typescript_loader_error){}var Grid=function Grid(_ref){var step=_ref.step,thickness=_ref.thickness,color=_ref.color,id=_ref.id;function getPatternKey(direction){return"".concat(id,"_").concat(direction.key)}var directions=[direction.N.horizontal,direction.N.vertical],patterns=[{step:step,thickness:thickness},{step:step,thickness:thickness}],offset=-thickness/2;return(0,jsx_runtime.jsxs)("svg",{id:id,style:(0,objectSpread2.Z)({position:"absolute",left:offset,top:offset},styles.$K),children:[(0,jsx_runtime.jsx)("defs",{children:(0,es.yL_)((function(direction,pattern){return function createDef(patternKey,direction,_ref,color){var _patternProps,_rectProps,step=_ref.step,thickness=_ref.thickness,patternProps=(_patternProps={},(0,defineProperty.Z)(_patternProps,direction.cssKeys.length,"".concat(step,"px")),(0,defineProperty.Z)(_patternProps,direction.cssKeys.thickness,"1"),_patternProps),rectProps=(_rectProps={},(0,defineProperty.Z)(_rectProps,direction.cssKeys.length,"".concat(thickness,"px")),(0,defineProperty.Z)(_rectProps,direction.cssKeys.thickness,"1"),_rectProps);return(0,react.createElement)("pattern",(0,objectSpread2.Z)((0,objectSpread2.Z)({},patternProps),{},{id:patternKey,key:patternKey,patternUnits:"userSpaceOnUse"}),(0,jsx_runtime.jsx)("rect",(0,objectSpread2.Z)((0,objectSpread2.Z)({},rectProps),{},{fill:color})))}(getPatternKey(direction),direction,pattern,color)}),directions,patterns)}),directions.map((function(direction){return getMarking(getPatternKey(direction))}))]},id)};try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},step:{defaultValue:null,description:"Шаг между линиями, в %",name:"step",required:!0,type:{name:"number"}},thickness:{defaultValue:null,description:"Толщина каждой линии, в px",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/index.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/index.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}var Resizable=__webpack_require__("./src/components/Resizable/index.tsx"),Space=__webpack_require__("./src/components/Space/index.tsx"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),common=__webpack_require__("./src/utils/common.ts"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),Resizable_stories={title:"Demo"},ResizableBox=function ResizableBox(){var gridStep=20,gridLargeStep=80,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isGridEnabled=_useState2[0],setIsGridEnabled=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isLockedRatio=_useState4[0],setIsLockedRatio=_useState4[1],outerBox=boundingBox.k.createByDimensions(0,0,800,600).map((0,common.ju)(gridLargeStep)),_useState5=(0,react.useState)((function(){return boundingBox.k.createByDimensions(50,60,200,150)})),_useState6=(0,slicedToArray.Z)(_useState5,2),value=_useState6[0],setValue=_useState6[1];function magnetizeBox(b){return b.map((0,common.ju)(gridStep))}(0,react.useEffect)((function(){isGridEnabled&&setValue(magnetizeBox)}),[isGridEnabled]);var handleEnd=(0,react.useCallback)((function(){isGridEnabled&&setValue(magnetizeBox)}),[isGridEnabled]),grid=[[gridStep,1],[gridLargeStep,2]].map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),step=_ref2[0],thickness=_ref2[1];return(0,jsx_runtime.jsx)(Grid,{id:String(step),step:step,thickness:thickness,color:"rgba(0, 0, 0, 0.5)"},step)}));return(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:direction.N.vertical,children:[(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)(Checkbox.X,{value:isGridEnabled,onChange:setIsGridEnabled,label:"Enable grid"}),(0,jsx_runtime.jsx)(Checkbox.X,{value:isLockedRatio,onChange:setIsLockedRatio,label:"Lock ratio"})]}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)({position:"relative",border:"1px solid black"},(0,styles.b8)(outerBox)),children:[isGridEnabled&&grid,(0,jsx_runtime.jsx)(Resizable.Z,{value:value,sizeBounds:{width:new numbersRange.K(100,600),height:new numbersRange.K(80,400)},onEnd:handleEnd,outerBox:outerBox.resetOrigin(),onChange:setValue,keepAspectRatio:isLockedRatio,children:(0,jsx_runtime.jsx)("span",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),styles.FV),{},{background:"purple",color:"white",cursor:"pointer"}),children:"Resize me"})})]})]})};ResizableBox.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const gridStep = 20;\r\n  const gridLargeStep = 20 * 4;\r\n\r\n  const [isGridEnabled, setIsGridEnabled] = useState(false);\r\n  const [isLockedRatio, setIsLockedRatio] = useState(false);\r\n\r\n  const outerBox = BoundingBox.createByDimensions(0, 0, 800, 600).map(\r\n    magnetize(gridLargeStep)\r\n  );\r\n  const [value, setValue] = useState(() =>\r\n    BoundingBox.createByDimensions(50, 60, 200, 150)\r\n  );\r\n\r\n  function magnetizeBox(b: BoundingBox) {\r\n    return b.map(magnetize(gridStep));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isGridEnabled) {\r\n      setValue(magnetizeBox);\r\n    }\r\n  }, [isGridEnabled]);\r\n\r\n  const handleEnd = useCallback(() => {\r\n    if (isGridEnabled) {\r\n      setValue(magnetizeBox);\r\n    }\r\n  }, [isGridEnabled]);\r\n\r\n  const grid = [\r\n    [gridStep, 1],\r\n    [gridLargeStep, 2],\r\n  ].map(([step, thickness]) => (\r\n    <Grid\r\n      key={step}\r\n      id={String(step)}\r\n      step={step}\r\n      thickness={thickness}\r\n      color="rgba(0, 0, 0, 0.5)"\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Space size={40} direction={Directions.vertical}>\r\n      <Space size={20}>\r\n        <Checkbox\r\n          value={isGridEnabled}\r\n          onChange={setIsGridEnabled}\r\n          label="Enable grid"\r\n        />\r\n        <Checkbox\r\n          value={isLockedRatio}\r\n          onChange={setIsLockedRatio}\r\n          label="Lock ratio"\r\n        />\r\n      </Space>\r\n      <div\r\n        style={{\r\n          position: "relative",\r\n          border: "1px solid black",\r\n          ...getBoxStyle(outerBox),\r\n        }}\r\n      >\r\n        {isGridEnabled && grid}\r\n        <Resizable\r\n          value={value}\r\n          sizeBounds={{\r\n            width: new NumbersRange(100, 600),\r\n            height: new NumbersRange(80, 400),\r\n          }}\r\n          onEnd={handleEnd}\r\n          // todo: устранить необходимость вызывать `resetOrigin`\r\n          outerBox={outerBox.resetOrigin()}\r\n          onChange={setValue}\r\n          keepAspectRatio={isLockedRatio}\r\n        >\r\n          <span\r\n            style={{\r\n              ...stretchStyle,\r\n              ...centererStyle,\r\n              background: "purple",\r\n              color: "white",\r\n              cursor: "pointer",\r\n            }}\r\n          >\r\n            Resize me\r\n          </span>\r\n        </Resizable>\r\n      </div>\r\n    </Space>\r\n  );\r\n}'}},ResizableBox.parameters);var Resizable_stories_namedExportsOrder=["ResizableBox"]},"./src/stories/Sliders.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Sliders:function(){return Sliders},__namedExportsOrder:function(){return Sliders_stories_namedExportsOrder},default:function(){return Sliders_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),makeStateful=__webpack_require__("./src/decorators/makeStateful.tsx"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),Space=__webpack_require__("./src/components/Space/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),NumbersRangeInput=function NumbersRangeInput(_ref){var range=_ref.value,_ref$bounds=_ref.bounds,bounds=void 0===_ref$bounds?numbersRange.K.infinite():_ref$bounds,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?numbersRange.K.infinite():_ref$sizeBounds,onChange=_ref.onChange,direction=_ref.direction,children=_ref.children,handleChangeStartValue=(0,react.useCallback)((function(event){var value=Number(event.target.value);onChange(range.setStart(value).constrainSize(sizeBounds).moveTo(range.end,1))}),[range,sizeBounds,onChange]),handleChangeEndValue=(0,react.useCallback)((function(event){var value=Number(event.target.value);onChange(range.setEnd(value).constrainSize(sizeBounds).moveTo(range.start,0))}),[range,sizeBounds,onChange]);return(0,jsx_runtime.jsxs)(Space.T,{direction:direction,size:20,children:[(0,jsx_runtime.jsx)("input",{type:"number",onChange:handleChangeStartValue,value:range.start,min:bounds.start,max:bounds.end}),children,(0,jsx_runtime.jsx)("input",{type:"number",onChange:handleChangeEndValue,value:range.end,min:bounds.start,max:bounds.end})]})},components_NumbersRangeInput=NumbersRangeInput;try{NumbersRangeInput.displayName="NumbersRangeInput",NumbersRangeInput.__docgenInfo={description:"",displayName:"NumbersRangeInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},bounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Диапазон минимального и максимального значений",name:"bounds",required:!1,type:{name:"NumbersRange"}},sizeBounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Минимальный и максимальный размер диапазона",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"IDirection"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"]={docgenInfo:NumbersRangeInput.__docgenInfo,name:"NumbersRangeInput",path:"src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"})}catch(__react_docgen_typescript_loader_error){}var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),utils_direction=__webpack_require__("./src/utils/direction.ts"),ResizableControl=__webpack_require__("./src/components/ResizableControl/index.tsx"),common=__webpack_require__("./src/utils/common.ts"),_excluded=["value","onChange","onStart","onEnd","sizeBounds","direction","thumbKeys"],Slider=function Slider(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.ZT:_ref$onEnd,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?numbersRange.K.infinite():_ref$sizeBounds,_ref$direction=_ref.direction,direction=void 0===_ref$direction?utils_direction.N.horizontal:_ref$direction,_ref$thumbKeys=_ref.thumbKeys,thumbKeys=void 0===_ref$thumbKeys?[0,1]:_ref$thumbKeys,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),handleChange=useDirectedCallback(onChange,direction),handleStart=useDirectedCallback(onStart,direction),handleEnd=useDirectedCallback(onEnd,direction);return(0,jsx_runtime.jsx)(ResizableControl.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),{},{value:direction.boxFromRanges(directRange(value,direction),numbersRange.K.normalizationBounds()),onChange:handleChange,onStart:handleStart,onEnd:handleEnd,sizeBounds:(0,defineProperty.Z)({},direction.lengthKey,sizeBounds),thumbKeys:direction.sides.filter((function(_,i){return thumbKeys.includes(i)}))}))};function directRange(range,direction){return direction.isReversed?range.map((function(a){return 1-a})).invert():range}function useDirectedCallback(callback,direction){return(0,react.useCallback)((function(box,pressedKeys){var range=direction.rangesOfBox(box)[0];callback(directRange(range,direction),pressedKeys)}),[callback,direction])}var components_Slider=Slider;try{Slider.displayName="Slider",Slider.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"Нормированный диапазон (в пределах от 0 до 1)",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"((value: NumbersRange) => void)"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"((value: NumbersRange) => void)"}},sizeBounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Диапазон возможных размеров трека",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},thumbKeys:{defaultValue:{value:"[0, 1]"},description:"",name:"thumbKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},outerBox:{defaultValue:null,description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!0,type:{name:"BoundingBox"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/index.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/Slider/index.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}var normalization=__webpack_require__("./src/utils/normalization.ts"),es=__webpack_require__("./node_modules/ramda/es/index.js");function useSmoothControl(_ref){var value=_ref.value,onChange=_ref.onChange,converter=_ref.converter,isSmooth=_ref.isSmooth,_useState=(0,react.useState)((function(){return converter.fromDestination(value)})),_useState2=(0,slicedToArray.Z)(_useState,2),controlValue=_useState2[0],setControlValue=_useState2[1],actualValue=(0,react.useRef)(value),handleControlChange=(0,react.useCallback)((function(value){setControlValue(value);var outputValue=converter.toDestination(value);(0,es.fS0)(actualValue.current,outputValue)||onChange(outputValue)}),[converter,onChange]),handleControlEnd=(0,react.useCallback)((function(value){setControlValue(converter.fromDestination(converter.toDestination(value)))}),[converter]);return(0,react.useEffect)((function(){setControlValue((function(controlValue){var propsControlValue=converter.fromDestination(value);return(0,es.fS0)(converter.toDestination(controlValue),converter.toDestination(propsControlValue))?controlValue:propsControlValue}))}),[value,converter]),{controlValue:isSmooth?controlValue:converter.fromDestination(value),handleControlChange:handleControlChange,handleControlEnd:handleControlEnd}}var styles=__webpack_require__("./src/utils/styles.ts"),NumberRangeInputWithSlider=function NumberRangeInputWithSlider(props){var value=props.value,onChange=props.onChange,bounds=props.bounds,_props$sizeBounds=props.sizeBounds,sizeBounds=void 0===_props$sizeBounds?numbersRange.K.endless(0):_props$sizeBounds,_props$isSmoothSlider=props.isSmoothSlider,isSmoothSlider=void 0!==_props$isSmoothSlider&&_props$isSmoothSlider,sliderBox=props.sliderBox,sliderStyle=props.sliderStyle,_props$direction=props.direction,direction=void 0===_props$direction?utils_direction.N.horizontal:_props$direction,_props$children=props.children,children=void 0===_props$children?(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:"purple"})}):_props$children,converter=(0,react.useMemo)((function(){return function createConverter(bounds){return{toDestination:function toDestination(normalizedRange){return normalizedRange.map((function(n){return Math.round(bounds.denormalizeNumber(n))}))},fromDestination:function fromDestination(numbersRange){return numbersRange.map((function(n){return bounds.normalizeNumber(n)}))}}}(bounds)}),[bounds]),_useSmoothControl=useSmoothControl({value:value,onChange:onChange,converter:converter,isSmooth:isSmoothSlider}),controlValue=_useSmoothControl.controlValue,handleControlChange=_useSmoothControl.handleControlChange,handleControlEnd=_useSmoothControl.handleControlEnd;return(0,jsx_runtime.jsx)(components_NumbersRangeInput,{value:value,onChange:onChange,bounds:bounds,sizeBounds:sizeBounds,direction:direction,children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({background:"lavender"},sliderStyle),(0,styles.b8)(sliderBox)),{},{position:"relative"}),children:(0,jsx_runtime.jsx)(components_Slider,{value:controlValue,onChange:handleControlChange,onEnd:handleControlEnd,sizeBounds:(0,normalization.Fv)(sizeBounds,bounds.size),direction:direction,outerBox:sliderBox,children:children})})})},components_NumberRangeInputWithSlider=(0,makeStateful.Z)(NumberRangeInputWithSlider);try{NumberRangeInputWithSlider.displayName="NumberRangeInputWithSlider",NumberRangeInputWithSlider.__docgenInfo={description:"",displayName:"NumberRangeInputWithSlider",props:{sizeBounds:{defaultValue:null,description:"Минимальный и максимальный размер диапазона",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:null,description:"",name:"thumbKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"((value: NumbersRange) => void)"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"((value: NumbersRange) => void)"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"IDirection"}},bounds:{defaultValue:null,description:"Диапазон минимального и максимального значений",name:"bounds",required:!0,type:{name:"NumbersRange"}},isSmoothSlider:{defaultValue:null,description:"",name:"isSmoothSlider",required:!1,type:{name:"boolean"}},sliderBox:{defaultValue:null,description:"",name:"sliderBox",required:!0,type:{name:"BoundingBox"}},sliderStyle:{defaultValue:null,description:"",name:"sliderStyle",required:!1,type:{name:"CSSProperties"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: NumbersRange, options: unknown) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"NumbersRange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"]={docgenInfo:NumberRangeInputWithSlider.__docgenInfo,name:"NumberRangeInputWithSlider",path:"src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"})}catch(__react_docgen_typescript_loader_error){}var Checkbox=__webpack_require__("./src/components/Checkbox/index.tsx"),SingleSlider_excluded=["value","onChange","onStart","onEnd","direction"],SingleSlider=function SingleSlider(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.ZT:_ref$onEnd,_ref$direction=_ref.direction,direction=void 0===_ref$direction?utils_direction.N.horizontal:_ref$direction,rest=(0,objectWithoutProperties.Z)(_ref,SingleSlider_excluded);return(0,jsx_runtime.jsx)(components_Slider,(0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),{},{value:new numbersRange.K(0,value),onChange:useSingleCallback(onChange),onStart:useSingleCallback(onStart),onEnd:useSingleCallback(onEnd),direction:direction,thumbKeys:direction.isReversed?[0]:[1],isDraggable:!1}))};function useSingleCallback(callback){return(0,react.useCallback)((function(range){callback(range.end)}),[callback])}var components_SingleSlider=SingleSlider;try{SingleSlider.displayName="SingleSlider",SingleSlider.__docgenInfo={description:"",displayName:"SingleSlider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"((value: number) => void)"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"((value: number) => void)"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:null,description:"",name:"thumbKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},outerBox:{defaultValue:null,description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!0,type:{name:"BoundingBox"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SingleSlider/index.tsx#SingleSlider"]={docgenInfo:SingleSlider.__docgenInfo,name:"SingleSlider",path:"src/components/SingleSlider/index.tsx#SingleSlider"})}catch(__react_docgen_typescript_loader_error){}var NumberInputWithSlider=function NumberInputWithSlider(_ref){var value=_ref.value,onChange=_ref.onChange,sliderStyle=_ref.sliderStyle,sliderBox=_ref.sliderBox,max=_ref.max,_ref$isSmoothSlider=_ref.isSmoothSlider,isSmoothSlider=void 0!==_ref$isSmoothSlider&&_ref$isSmoothSlider,direction=_ref.direction,_ref$children=_ref.children,children=void 0===_ref$children?(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:"purple"})}):_ref$children,converter=(0,react.useMemo)((function(){return{toDestination:function toDestination(n){return Math.round(n*max)},fromDestination:function fromDestination(n){return n/max}}}),[max]),_useSmoothControl=useSmoothControl({value:value,onChange:onChange,converter:converter,isSmooth:isSmoothSlider}),controlValue=_useSmoothControl.controlValue,handleControlChange=_useSmoothControl.handleControlChange,handleControlEnd=_useSmoothControl.handleControlEnd,handleInputChange=(0,react.useCallback)((function(event){onChange(Number(event.target.value))}),[onChange]);return(0,jsx_runtime.jsxs)(Space.T,{size:20,direction:direction,children:[(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({background:"lavender"},sliderStyle),(0,styles.b8)(sliderBox)),{},{position:"relative"}),children:(0,jsx_runtime.jsx)(components_SingleSlider,{value:controlValue,onChange:handleControlChange,onEnd:handleControlEnd,outerBox:sliderBox,direction:direction,children:children})}),(0,jsx_runtime.jsx)("input",{type:"number",onChange:handleInputChange,value:value,min:0,max:max})]})},components_NumberInputWithSlider=(0,makeStateful.Z)(NumberInputWithSlider);try{NumberInputWithSlider.displayName="NumberInputWithSlider",NumberInputWithSlider.__docgenInfo={description:"",displayName:"NumberInputWithSlider",props:{keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:null,description:"",name:"thumbKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"((value: number) => void)"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"((value: number) => void)"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"IDirection"}},isSmoothSlider:{defaultValue:{value:"false"},description:"",name:"isSmoothSlider",required:!1,type:{name:"boolean"}},sliderBox:{defaultValue:null,description:"",name:"sliderBox",required:!0,type:{name:"BoundingBox"}},sliderStyle:{defaultValue:null,description:"",name:"sliderStyle",required:!1,type:{name:"CSSProperties"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: number, options: unknown) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumberInputWithSlider/index.tsx#NumberInputWithSlider"]={docgenInfo:NumberInputWithSlider.__docgenInfo,name:"NumberInputWithSlider",path:"src/components/NumberInputWithSlider/index.tsx#NumberInputWithSlider"})}catch(__react_docgen_typescript_loader_error){}var Sliders_stories={title:"Demo"},Sliders=function Sliders(){var _useState=(0,react.useState)(utils_direction.N.horizontal),_useState2=(0,slicedToArray.Z)(_useState,2),direction=_useState2[0],setDirection=_useState2[1],_useState3=(0,react.useState)(!0),_useState4=(0,slicedToArray.Z)(_useState3,2),isSmooth=_useState4[0],setIsSmooth=_useState4[1],commonProps={sliderBox:direction.boxFromRanges(new numbersRange.K(0,500),new numbersRange.K(0,25)),isSmoothSlider:isSmooth,direction:direction};return(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:utils_direction.N.vertical,children:[(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)("button",{onClick:function handleRotate(){setDirection((function(a){return a.opposite.reversed}))},children:"Rotate"}),(0,jsx_runtime.jsx)(Checkbox.X,{value:isSmooth,onChange:setIsSmooth,label:"Smooth"})]}),(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:direction.opposite.regular,children:[(0,jsx_runtime.jsx)(components_NumberRangeInputWithSlider,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:new numbersRange.K(1,7),bounds:new numbersRange.K(-10,10)})),(0,jsx_runtime.jsx)(components_NumberRangeInputWithSlider,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:new numbersRange.K(0,10),bounds:new numbersRange.K(-30,30),sizeBounds:new numbersRange.K(10,30)})),(0,jsx_runtime.jsx)(components_NumberInputWithSlider,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:4,max:10}))]})]})};Sliders.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\n    const [direction, setDirection] = useState(Directions.horizontal);\n    const [isSmooth, setIsSmooth] = useState(true);\n\n    const handleRotate = () => {\n      setDirection((a) => a.opposite.reversed);\n    };\n\n    const sliderBox = direction.boxFromRanges(\n      new NumbersRange(0, 500),\n      new NumbersRange(0, 25)\n    );\n\n    const commonProps = { sliderBox, isSmoothSlider: isSmooth, direction };\n\n    return (\n      <Space size={40} direction={Directions.vertical}>\n        <Space size={20}>\n          <button onClick={handleRotate}>Rotate</button>\n          <Checkbox value={isSmooth} onChange={setIsSmooth} label="Smooth" />\n        </Space>\n        <Space size={40} direction={direction.opposite.regular}>\n          <NumberRangeInputWithSlider\n            {...commonProps}\n            initialValue={new NumbersRange(1, 7)}\n            bounds={new NumbersRange(-10, 10)}\n          />\n          <NumberRangeInputWithSlider\n            {...commonProps}\n            initialValue={new NumbersRange(0, 10)}\n            bounds={new NumbersRange(-30, 30)}\n            sizeBounds={new NumbersRange(10, 30)}\n          />\n          <NumberInputWithSlider {...commonProps} initialValue={4} max={10} />\n        </Space>\n      </Space>\n    );\n  }'}},Sliders.parameters);var Sliders_stories_namedExportsOrder=["Sliders"]},"./src/stories/Sortable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SortableContainers:function(){return SortableContainers},__namedExportsOrder:function(){return Sortable_stories_namedExportsOrder},default:function(){return Sortable_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),dom=__webpack_require__("./src/utils/dom.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),dragResponseFromVoid={canDrop:!1,isOutside:!0},dropResponseFromVoid={canDrop:!1,isOutside:!0},voidContainerHandler=(0,es.Bxt)({canDrop:!1}),DndContext=(0,react.createContext)({register:(0,es.Bxt)(common.ZT),onDrag:(0,es.Bxt)(dragResponseFromVoid),onDrop:(0,es.Bxt)(dropResponseFromVoid)});var DndConnector=function DndConnector(_ref){var children=_ref.children,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),containers=_useState2[0],setContainers=_useState2[1],register=(0,react.useCallback)((function(item){setContainers((0,es.R3I)(item));return function unregister(){return setContainers((0,es.d1t)((0,es.OH4)("key",item.key)))}}),[]),handleDndEvent=(0,react.useCallback)((function(containerKey,item){var sourceContainer=(0,es.sEJ)((0,es.OH4)("key",containerKey),containers);if(!sourceContainer)throw new Error("Контейнер с ключом ".concat(containerKey," не зарегистрирован. Убедитесь, что ref связан с элементом"));var itemBoxOnPage=(0,dom.Zt)(sourceContainer.element).placeOutside(item.box),isNotSourceContainer=(0,es.CyQ)((0,es.U4f)(sourceContainer)),isContainerOverlapBox=function isContainerOverlapWith(box){return function(_ref2){var element=_ref2.element;return(0,dom.Zt)(element).intersectionArea(box)>0}}(itemBoxOnPage);return{targetContainer:containers.find((0,es.HkC)(isNotSourceContainer,isContainerOverlapBox)),itemOnPage:replaceBox(item,itemBoxOnPage),isOutside:!isContainerOverlapBox(sourceContainer)}}),[containers]),_useDndNotifier=function useDndNotifier(){var visited=(0,react.useRef)(new Map).current,notifyAboutDrag=(0,react.useCallback)((function(item,container){var previous=visited.get(item.key);visited.set(item.key,container);var isContainerChanged=previous!==container;if(isContainerChanged&&previous&&previous.onDragOut(item.key),!container)return dragResponseFromVoid;var relativeItemBox=(0,dom.Zt)(container.element).placeInside(item.box);return container.onDragIn(replaceBox(item,relativeItemBox),isContainerChanged)}),[visited]),notifyAboutDrop=(0,react.useCallback)((function(item,container){if(visited.delete(item.key),!container)return dropResponseFromVoid;var relativeItemBox=(0,dom.Zt)(container.element).placeInside(item.box);return container.onDropIn(replaceBox(item,relativeItemBox))}),[visited]);return{notifyAboutDrag:notifyAboutDrag,notifyAboutDrop:notifyAboutDrop}}(),notifyAboutDrag=_useDndNotifier.notifyAboutDrag,notifyAboutDrop=_useDndNotifier.notifyAboutDrop,onDrag=(0,react.useCallback)((function(containerKey,item){var _handleDndEvent=handleDndEvent(containerKey,item),itemOnPage=_handleDndEvent.itemOnPage,targetContainer=_handleDndEvent.targetContainer,isOutside=_handleDndEvent.isOutside;return(0,objectSpread2.Z)((0,objectSpread2.Z)({},notifyAboutDrag(itemOnPage,targetContainer)),{},{isOutside:isOutside})}),[handleDndEvent,notifyAboutDrag]),onDrop=(0,react.useCallback)((function(containerKey,item){var _handleDndEvent2=handleDndEvent(containerKey,item),itemOnPage=_handleDndEvent2.itemOnPage,targetContainer=_handleDndEvent2.targetContainer,isOutside=_handleDndEvent2.isOutside;return(0,objectSpread2.Z)((0,objectSpread2.Z)({},notifyAboutDrop(itemOnPage,targetContainer)),{},{isOutside:isOutside})}),[handleDndEvent,notifyAboutDrop]),value=(0,react.useMemo)((function(){return{register:register,onDrag:onDrag,onDrop:onDrop}}),[register,onDrag,onDrop]);return(0,jsx_runtime.jsx)(DndContext.Provider,{value:value,children:children})};function replaceBox(item,box){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{box:box})}try{DndConnector.displayName="DndConnector",DndConnector.__docgenInfo={description:"Компонент выступает в роли сервера между контейнерами, которые хотят обменяться элементами",displayName:"DndConnector",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/dndConnection.tsx#DndConnector"]={docgenInfo:DndConnector.__docgenInfo,name:"DndConnector",path:"src/decorators/dndConnection.tsx#DndConnector"})}catch(__react_docgen_typescript_loader_error){}var classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),Emitter=function(){function Emitter(){(0,classCallCheck.Z)(this,Emitter),this.fs=[]}return(0,createClass.Z)(Emitter,[{key:"subscribe",value:function subscribe(f){var _this=this;return this.fs.push(f),function(){_this.fs=(0,es.zud)([f],_this.fs)}}},{key:"emit",value:function emit(a){this.fs.forEach((function(f){return f(a)}))}}]),Emitter}(),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),point=__webpack_require__("./src/utils/point.ts");function reorder(action,items){var targetIndex=function defineTargetIndex(_ref2,items){var point=_ref2.point,sourceIndex=_ref2.sourceIndex,sourceBox=items[sourceIndex].box,actionBox=sourceBox.moveTo(point),dir=Math.sign(point.y-sourceBox.y0),shiftedIndex=sourceIndex;for(;;){if(shiftedIndex<0){shiftedIndex=0;break}if(shiftedIndex>items.length-1){shiftedIndex=items.length-1;break}var boxCy=getBoxCy(items[shiftedIndex].box),y1=actionBox.y1,y2=actionBox.y2;if(!(-1===dir&&y1<boxCy||1===dir&&y2>boxCy)){shiftedIndex-=dir;break}shiftedIndex+=dir}return shiftedIndex}(action,items);return(0,es.pBW)(action.sourceIndex,targetIndex,items)}function insertNear(item,items){var index=function defineInsertionIndex(item,items){var points=items.length?[point.E.nullish].concat((0,toConsumableArray.Z)(items.map((function(_ref){return _ref.box.denormalizePoint(new point.E(0,1))})))):[],itemPoint=item.box.center;return points.reduce((function(minIndex,point,index){return itemPoint.distance(points[minIndex])>itemPoint.distance(point)?index:minIndex}),0)}(item,items);return(0,es.$Tr)(index,item,items)}function getBoxCy(box){return box.ysRange.denormalizeNumber(.5)}function positionInChain(items){var _step,nextItems=[],lastY=0,_iterator=(0,createForOfIteratorHelper.Z)(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,key=_step$value.key,box=_step$value.box;nextItems.push({key:key,box:box.moveTo(new point.E(0,lastY))}),lastY+=box.height}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nextItems}var useActualRef=__webpack_require__("./src/decorators/useActualRef.ts");function useTemporarySet(){var collectionRef=(0,react.useRef)(new Set),timeoutRef=(0,react.useRef)();(0,react.useEffect)((function(){return function(){void 0!==timeoutRef.current&&clearTimeout(timeoutRef.current)}}),[]);var forceUpdate=function useForceUpdate(){return(0,react.useReducer)(es.aEe,0)[1]}();return{add:(0,react.useCallback)((function(value,dur){collectionRef.current.add(value),forceUpdate(),timeoutRef.current=setTimeout((function(){collectionRef.current.delete(value),forceUpdate()}),dur)}),[forceUpdate]),getAddingIndex:(0,react.useCallback)((function(value){return collectionRef.current.has(value)?Array.from(collectionRef.current.values()).indexOf(value):-1}),[]),getSize:(0,react.useCallback)((function(){return collectionRef.current.size}),[])}}var SortableManager=function(_Emitter){(0,inherits.Z)(SortableManager,_Emitter);var _super=(0,createSuper.Z)(SortableManager);function SortableManager(items){var _this;return(0,classCallCheck.Z)(this,SortableManager),(_this=_super.call(this)).items=items,_this}return(0,createClass.Z)(SortableManager,[{key:"notify",value:function notify(){this.emit(this.items)}},{key:"insert",value:function insert(item){this.items=insertNear(item,this.items),this.notify()}},{key:"has",value:function has(key){return!!this.items.find((function(item){return key===item.key}))}},{key:"relocate",value:function relocate(item){var sourceIndex=this.findIndex(item.key);this.items=reorder({sourceIndex:sourceIndex,point:item.box.origin},this.items),this.notify()}},{key:"lower",value:function lower(key){var index=this.findIndex(key);this.items=(0,es.pBW)(index,this.items.length-1,this.items),this.notify()}},{key:"remove",value:function remove(key){var index=this.findIndex(key);this.items=(0,es.OdJ)(index,1,this.items),this.notify()}},{key:"align",value:function align(){this.items=positionInChain(this.items),this.notify()}},{key:"totalHeight",get:function get(){return(0,es.Smz)(this.items.map((function(_ref){return _ref.box.height})))}},{key:"findIndex",value:function findIndex(key){return this.items.findIndex((0,es.OH4)("key",key))}}]),SortableManager}(Emitter);var styles=__webpack_require__("./src/utils/styles.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),hooks=__webpack_require__("./src/hooks.ts"),dnd=__webpack_require__("./src/decorators/dnd.ts"),_excluded=["value","children","style"],DraggableBox=function DraggableBox(_ref){var value=_ref.value,children=_ref.children,style=_ref.style,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];return(0,dnd.BU)((0,objectSpread2.Z)({element:element},rest)),(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(value)),{},{position:"absolute"},style),children:react.Children.only(children)})};try{DraggableBox.displayName="DraggableBox",DraggableBox.__docgenInfo={description:"",displayName:"DraggableBox",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},outerBox:{defaultValue:null,description:"Внешний бокс, в чьих пределах может перемещаться данный",name:"outerBox",required:!1,type:{name:"BoundingBox"}},element:{defaultValue:null,description:"Перемещаемый элемент",name:"element",required:!1,type:{name:"HTMLElement | null"}},isInOwnCoordinates:{defaultValue:null,description:"Оповещать об изменении координат элемента относительно его `offsetParent`",name:"isInOwnCoordinates",required:!1,type:{name:"boolean"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DraggableBox/index.tsx#DraggableBox"]={docgenInfo:DraggableBox.__docgenInfo,name:"DraggableBox",path:"src/components/DraggableBox/index.tsx#DraggableBox"})}catch(__react_docgen_typescript_loader_error){}var SortableContainer=function SortableContainer(_ref){var id=_ref.id,box=_ref.box,initialItems=_ref.items,_ref$transitionDurati=_ref.transitionDuration,transitionDuration=void 0===_ref$transitionDurati?0:_ref$transitionDurati,style=_ref.style,renderItem=_ref.children,_useSortableItems=function useSortableItems(initialItems){var manager=(0,react.useMemo)((function(){return new SortableManager(initialItems)}),[initialItems]),_useState=(0,react.useState)(initialItems),_useState2=(0,slicedToArray.Z)(_useState,2),items=_useState2[0],setItems=_useState2[1];return(0,react.useEffect)((function(){return manager.subscribe(setItems)}),[manager]),[items,manager]}(initialItems),_useSortableItems2=(0,slicedToArray.Z)(_useSortableItems,2),items=_useSortableItems2[0],manager=_useSortableItems2[1],_useActiveSortableIte=function useActiveSortableItem(droppingDuration){var _useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.Z)(_useState3,2),activeItem=_useState4[0],setActiveItem=_useState4[1],_useTemporarySet=useTemporarySet(),addDroppingItem=_useTemporarySet.add,getAddingIndex=_useTemporarySet.getAddingIndex,getSize=_useTemporarySet.getSize,dropActiveItem=(0,react.useCallback)((function(key){setActiveItem(null),addDroppingItem(key,droppingDuration)}),[addDroppingItem,droppingDuration]),activeItemRef=(0,useActualRef.s)(activeItem),getOverlapIndex=(0,react.useCallback)((function(key){var _activeItemRef$curren;return key===(null===(_activeItemRef$curren=activeItemRef.current)||void 0===_activeItemRef$curren?void 0:_activeItemRef$curren.key)?getSize()+1:getAddingIndex(key)+1}),[activeItemRef,getAddingIndex,getSize]);return{activeItem:activeItem,setActiveItem:setActiveItem,dropActiveItem:dropActiveItem,getOverlapIndex:getOverlapIndex}}(transitionDuration),activeItem=_useActiveSortableIte.activeItem,setActiveItem=_useActiveSortableIte.setActiveItem,dropActiveItem=_useActiveSortableIte.dropActiveItem,getOverlapIndex=_useActiveSortableIte.getOverlapIndex,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isActiveHidden=_useState2[0],setIsActiveHidden=_useState2[1],canDropRef=(0,react.useRef)(!1),handleDragIn=(0,react.useCallback)((function(item,isFirstEvent){return isFirstEvent&&(canDropRef.current=manager.totalHeight+item.box.height<=box.height),canDropRef.current&&(isFirstEvent?manager.insert(item):manager.relocate(item),manager.align(),setActiveItem(item)),{canDrop:canDropRef.current}}),[manager,setActiveItem,box]),handleDropIn=(0,react.useCallback)((function(item){return canDropRef.current&&dropActiveItem(item.key),{canDrop:canDropRef.current}}),[dropActiveItem]),handleDragOut=(0,react.useCallback)((function(key){canDropRef.current&&(setActiveItem(null),manager.remove(key),manager.align())}),[manager,setActiveItem]),_useDndConnection=function useDndConnection(key,input){var _useContext=(0,react.useContext)(DndContext),onDrag=_useContext.onDrag,onDrop=_useContext.onDrop,register=_useContext.register,ref=(0,react.useRef)(null);return(0,react.useEffect)((function(){if(ref.current){var _input$onDragIn=input.onDragIn,_onDragIn=void 0===_input$onDragIn?voidContainerHandler:_input$onDragIn,_input$onDropIn=input.onDropIn,_onDropIn=void 0===_input$onDropIn?voidContainerHandler:_input$onDropIn,_input$onDragOut=input.onDragOut,_onDragOut=void 0===_input$onDragOut?common.ZT:_input$onDragOut;return register({key:key,element:ref.current,onDragIn:_onDragIn,onDropIn:_onDropIn,onDragOut:_onDragOut})}}),[]),{ref:ref,onDrag:onDrag,onDrop:onDrop}}(id,{onDragIn:handleDragIn,onDropIn:handleDropIn,onDragOut:handleDragOut}),ref=_useDndConnection.ref,onDrag=_useDndConnection.onDrag,onDrop=_useDndConnection.onDrop,handleChange=(0,react.useCallback)((function(item){var _onDrag=onDrag(id,item),isOutside=_onDrag.isOutside,canDrop=_onDrag.canDrop;setIsActiveHidden(canDrop),setActiveItem(item),isOutside?manager.lower(item.key):manager.relocate(item),manager.align()}),[id,onDrag,manager,setActiveItem]),handleEnd=(0,react.useCallback)((function(item){var _onDrop=onDrop(id,item),canDrop=_onDrop.canDrop,isOutside=_onDrop.isOutside;return setIsActiveHidden(!1),dropActiveItem(item.key),canDrop?(manager.remove(item.key),void manager.align()):isOutside?(manager.remove(item.key),manager.insert(item),void setTimeout((function(){return manager.align()}))):(manager.relocate(item),void manager.align())}),[dropActiveItem,onDrop,id,manager]),sortedItems=(0,react.useMemo)((function(){return(0,es.MRu)((0,es.vgT)("key"),items)}),[items]);return(0,jsx_runtime.jsx)("div",{ref:ref,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(box)),{},{position:"relative"},style),children:sortedItems.map((function(item){var key=item.key,box=item.box,isActive=(null==activeItem?void 0:activeItem.key)===key,commonStyle={zIndex:getOverlapIndex(key)};return(0,jsx_runtime.jsx)(DraggableBox,{value:isActive?activeItem.box:box,onChange:function onChange(box){return handleChange({key:key,box:box})},onEnd:function onEnd(box){return handleEnd({key:key,box:box})},style:isActive?(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonStyle),{},{visibility:isActiveHidden?"hidden":"visible"}):(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonStyle),{},{transitionDuration:"".concat(transitionDuration,"ms"),transitionProperty:"top left"}),children:renderItem(item)},key)}))})};try{SortableContainer.displayName="SortableContainer",SortableContainer.__docgenInfo={description:"",displayName:"SortableContainer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"IDndElement[]"}},transitionDuration:{defaultValue:{value:"0"},description:"Время анимации в ms",name:"transitionDuration",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:null,description:"Item renderer",name:"children",required:!1,type:{name:"((item: ISortableItem) => ReactNode) & ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SortableContainer/index.tsx#SortableContainer"]={docgenInfo:SortableContainer.__docgenInfo,name:"SortableContainer",path:"src/components/SortableContainer/index.tsx#SortableContainer"})}catch(__react_docgen_typescript_loader_error){}var boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),Sortable_stories={title:"Demo"},generateItems=function generateItems(colors,sizes){return positionInChain((0,es.yL_)((function(color,height){return{key:color,box:boundingBox.k.createByDimensions(0,0,200,height)}}),colors,sizes))};function renderItem(_ref){var key=_ref.key;return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:key,cursor:"pointer",opacity:.5})})}var SortableContainers=function SortableContainers(){var items=generateItems(["red","blue","green","purple"],[50,100,100,150]),items2=generateItems(["orange","black","yellow","deepskyblue"],[50,100,100,150]),containerStyle={background:"grey",flexShrink:0};return(0,jsx_runtime.jsx)("div",{style:{display:"flex",columnGap:280,position:"relative"},children:(0,jsx_runtime.jsxs)(DndConnector,{children:[(0,jsx_runtime.jsx)(SortableContainer,{id:"first",items:items,transitionDuration:300,box:boundingBox.k.createByDimensions(0,0,200,600),style:containerStyle,children:renderItem}),(0,jsx_runtime.jsx)(SortableContainer,{id:"second",items:items2,transitionDuration:300,box:boundingBox.k.createByDimensions(0,0,200,600),style:containerStyle,children:renderItem}),(0,jsx_runtime.jsxs)("div",{style:{padding:"10px",border:"1px solid blue"},children:["Nesting",(0,jsx_runtime.jsxs)("div",{style:{padding:"10px",border:"1px solid blue"},children:["Nesting",(0,jsx_runtime.jsx)(SortableContainer,{id:"third",items:[],transitionDuration:300,box:boundingBox.k.createByDimensions(0,0,200,600),style:containerStyle,children:renderItem})]})]})]})})};SortableContainers.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const items = generateItems(\r\n    ["red", "blue", "green", "purple"],\r\n    [50, 100, 100, 150]\r\n  );\r\n\r\n  const items2 = generateItems(\r\n    ["orange", "black", "yellow", "deepskyblue"],\r\n    [50, 100, 100, 150]\r\n  );\r\n\r\n  const containerStyle = { background: "grey", flexShrink: 0 };\r\n\r\n  return (\r\n    <div style={{ display: "flex", columnGap: 280, position: "relative" }}>\r\n      <DndConnector>\r\n        <SortableContainer\r\n          id="first"\r\n          items={items}\r\n          transitionDuration={300}\r\n          box={BoundingBox.createByDimensions(0, 0, width, 600)}\r\n          style={containerStyle}\r\n        >\r\n          {renderItem}\r\n        </SortableContainer>\r\n        <SortableContainer\r\n          id="second"\r\n          items={items2}\r\n          transitionDuration={300}\r\n          box={BoundingBox.createByDimensions(0, 0, width, 600)}\r\n          style={containerStyle}\r\n        >\r\n          {renderItem}\r\n        </SortableContainer>\r\n        <div style={{ padding: "10px", border: "1px solid blue" }}>\r\n          Nesting\r\n          <div style={{ padding: "10px", border: "1px solid blue" }}>\r\n            Nesting\r\n            <SortableContainer\r\n              id="third"\r\n              items={[]}\r\n              transitionDuration={300}\r\n              box={BoundingBox.createByDimensions(0, 0, width, 600)}\r\n              style={containerStyle}\r\n            >\r\n              {renderItem}\r\n            </SortableContainer>\r\n          </div>\r\n        </div>\r\n      </DndConnector>\r\n    </div>\r\n  );\r\n}'}},SortableContainers.parameters);var Sortable_stories_namedExportsOrder=["SortableContainers"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/components/Checkbox/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return Checkbox}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Checkbox=function Checkbox(_ref){var label=_ref.label,value=_ref.value,onChange=_ref.onChange;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{checked:value,type:"checkbox",onChange:function(_onChange){function onChange(_x){return _onChange.apply(this,arguments)}return onChange.toString=function(){return _onChange.toString()},onChange}((function(_ref2){var checked=_ref2.target.checked;onChange(checked)}))}),label]})};try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Checkbox/index.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/Checkbox/index.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Resizable/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return components_Resizable}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),makeStateful=__webpack_require__("./src/decorators/makeStateful.tsx"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),common=__webpack_require__("./src/utils/common.ts"),hooks=__webpack_require__("./src/hooks.ts"),styles=__webpack_require__("./src/utils/styles.ts"),dnd=__webpack_require__("./src/decorators/dnd.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Draggable_Draggable=function Draggable(_ref){var value=_ref.value,onStart=_ref.onStart,onChange=_ref.onChange,onEnd=_ref.onEnd,_ref$isCentered=_ref.isCentered,isCentered=void 0!==_ref$isCentered&&_ref$isCentered,children=_ref.children,style=_ref.style,_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];(0,dnd.c0)({element:element,onStart:onStart,onChange:onChange,onEnd:onEnd});var transform=isCentered?"translate(-50%, -50%)":void 0;return(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.sG)(value)),{},{position:"absolute",transform:transform},style),children:react.Children.only(children)})},StatefulDraggable=(0,makeStateful.Z)(Draggable_Draggable);try{Draggable_Draggable.displayName="Draggable",Draggable_Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Point"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragCallback"}},isCentered:{defaultValue:{value:"false"},description:"Установить origin элемента в центр",name:"isCentered",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/index.tsx#Draggable"]={docgenInfo:Draggable_Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/index.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}try{StatefulDraggable.displayName="StatefulDraggable",StatefulDraggable.__docgenInfo={description:"",displayName:"StatefulDraggable",props:{style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragCallback"}},isCentered:{defaultValue:{value:"false"},description:"Установить origin элемента в центр",name:"isCentered",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Point"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: Point, options: IPressedKeys) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"Point"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/index.tsx#StatefulDraggable"]={docgenInfo:StatefulDraggable.__docgenInfo,name:"StatefulDraggable",path:"src/components/Draggable/index.tsx#StatefulDraggable"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),point=__webpack_require__("./src/utils/point.ts"),boxParams=__webpack_require__("./src/utils/boxParams.ts"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),ResizingPoint=function(_Point){(0,inherits.Z)(ResizingPoint,_Point);var _super=(0,createSuper.Z)(ResizingPoint);function ResizingPoint(){return(0,classCallCheck.Z)(this,ResizingPoint),_super.apply(this,arguments)}return(0,createClass.Z)(ResizingPoint,[{key:"mirroredPoint",get:function get(){return this.reflectAroundPoint(new point.E(.5,.5))}},{key:"getSigns",value:function getSigns(origin){return this.subtract(origin).map(Math.sign)}},{key:"resizeBox",value:function resizeBox(box,target){var origin=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mirroredPoint,source=box.denormalizePoint(this),signs=this.getSigns(origin),moveVector=target.subtract(source).mul(signs);return box.shiftDeltas(moveVector.x,moveVector.y)}}]),ResizingPoint}(point.E),resizingPointsPreset=new(function(){function ResizingPointsPreset(){(0,classCallCheck.Z)(this,ResizingPointsPreset),this.get=this.get.bind(this)}return(0,createClass.Z)(ResizingPointsPreset,[{key:"all",get:function get(){return[].concat((0,toConsumableArray.Z)(this.edges),(0,toConsumableArray.Z)(this.corners))}},{key:"edges",get:function get(){return[].concat((0,toConsumableArray.Z)(this.verticalSides),(0,toConsumableArray.Z)(this.horizontalSides))}},{key:"corners",get:function get(){return(0,es.icZ)(this.verticalSides,this.horizontalSides).map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),s1=_ref2[0],s2=_ref2[1];return"".concat(s1,"-").concat(s2)}))}},{key:"horizontalSides",get:function get(){return[boxParams.y.top,boxParams.y.bottom]}},{key:"verticalSides",get:function get(){return[boxParams.y.left,boxParams.y.right]}},{key:"get",value:function get(key){var _ref3=this.isCorner(key)?this.getCornerPoint(key):this.getEdgePoint(key),x=_ref3.x,y=_ref3.y;return new ResizingPoint(x,y)}},{key:"getCornerPoint",value:function getCornerPoint(key){var _map=key.split("-").map(this.getEdgePoint),_map2=(0,slicedToArray.Z)(_map,2),p1=_map2[0],p2=_map2[1];return p1.mul(p2).map(Math.round)}},{key:"getEdgePoint",value:function getEdgePoint(key){switch(key){case boxParams.y.left:return new point.E(0,.5);case boxParams.y.right:return new point.E(1,.5);case boxParams.y.top:return new point.E(.5,0);case boxParams.y.bottom:return new point.E(.5,1);default:throw new Error("Incorrect thumb key")}}},{key:"isCorner",value:function isCorner(key){return key.includes("-")}}]),ResizingPointsPreset}()),numbersRange=__webpack_require__("./src/utils/numbersRange.ts");function constrainResizedBox(resizedBox,_ref,_ref2){var sourceBox=_ref.sourceBox,transformOrigin=_ref.transformOrigin,aspectRatio=_ref2.aspectRatio,sizeBounds=_ref2.sizeBounds,outerBox=_ref2.outerBox,keepAspectRatio=null!==aspectRatio;if(keepAspectRatio&&(resizedBox=resizedBox.setAspectRatio(aspectRatio)),resizedBox=(resizedBox=function constrainSize(box,_ref3){var width=_ref3.width,height=_ref3.height,withoutBounds=numbersRange.K.infinite();return box.constrainSize(null!=width?width:withoutBounds,null!=height?height:withoutBounds)}(resizedBox,sizeBounds)).placeInSameOrigin(sourceBox,transformOrigin),resizedBox=outerBox.clipInner(resizedBox),keepAspectRatio){if(aspectRatio.toPrecision(5)!==resizedBox.aspectRatio.toPrecision(5))return sourceBox}return resizedBox}var useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),constants=__webpack_require__("./src/utils/constants.ts"),useScale=__webpack_require__("./src/decorators/useScale.ts");function useResize(params){var onChange=params.onChange,onStart=params.onStart,onEnd=params.onEnd,thumbKeys=params.thumbKeys,ThumbComponent=params.ThumbComponent,aspectRatioRef=(0,react.useRef)(null),paramsRef=(0,useActualRef.s)(params),handleStart=(0,react.useCallback)((function(_,pk){var box=paramsRef.current.box;aspectRatioRef.current=box.aspectRatio,null==onStart||onStart(box,pk)}),[paramsRef,onStart]),handleEnd=(0,react.useCallback)((function(_,pk){var box=paramsRef.current.box;null==onEnd||onEnd(box,pk)}),[paramsRef,onEnd]),handleChangeSize=(0,react.useCallback)((function(resizingPoint,resizingPointTarget,pressedKeys){var _paramsRef$current=paramsRef.current,box=_paramsRef$current.box,keepAspectRatio=_paramsRef$current.keepAspectRatio,sizeBounds=_paramsRef$current.sizeBounds,outerBox=_paramsRef$current.outerBox,resizedBox=resizingPoint.resizeBox(box,resizingPointTarget),constraints={aspectRatio:keepAspectRatio||pressedKeys.shiftKey?aspectRatioRef.current:null,sizeBounds:sizeBounds,outerBox:outerBox},nextBox=constrainResizedBox(resizedBox,{sourceBox:box,transformOrigin:resizingPoint.mirroredPoint},constraints);onChange(nextBox,pressedKeys)}),[paramsRef,onChange]);return thumbKeys.map((function(key){var resizingPoint=resizingPointsPreset.get(key),box=paramsRef.current.box;return(0,jsx_runtime.jsx)(Draggable_Draggable,{isCentered:!0,value:box.denormalizePoint(resizingPoint),onChange:function onChange(point,pressedKeys){return handleChangeSize(resizingPoint,point,pressedKeys)},onStart:handleStart,onEnd:handleEnd,children:(0,jsx_runtime.jsx)(ThumbComponent,{})},String(key))}))}function useScalableBox(_ref){var element=_ref.element,box=_ref.box,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.ZT:_ref$onEnd,outerBox=_ref.outerBox,sizeBounds=_ref.sizeBounds,actualBox=(0,useActualRef.s)(box),handleScaleStart=(0,react.useCallback)((function(p,pressedKeys){onStart(actualBox.current,pressedKeys)}),[actualBox,onStart]),handleScale=(0,react.useCallback)((function(delta,p,pressedKeys){var value=actualBox.current,scaledBox=value.scale(delta*constants.i),nextBox=constrainResizedBox(scaledBox,{sourceBox:value,transformOrigin:p},{aspectRatio:scaledBox.aspectRatio,outerBox:outerBox,sizeBounds:sizeBounds});onChange(nextBox,pressedKeys)}),[actualBox,onChange,outerBox,sizeBounds]),handleScaleEnd=(0,react.useCallback)((function(p,pressedKeys){onEnd(actualBox.current,pressedKeys)}),[actualBox,onEnd]);(0,useScale.T)(element,{onChange:handleScale,onStart:handleScaleStart,onEnd:handleScaleEnd})}try{useResize.displayName="useResize",useResize.__docgenInfo={description:"",displayName:"useResize",props:{box:{defaultValue:null,description:"Текущее состояние бокса",name:"box",required:!0,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},sizeBounds:{defaultValue:null,description:"Ограничения размера сторон",name:"sizeBounds",required:!0,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!0,type:{name:"boolean"}},outerBox:{defaultValue:null,description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!0,type:{name:"BoundingBox"}},thumbKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!0,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!0,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/hooks.tsx#useResize"]={docgenInfo:useResize.__docgenInfo,name:"useResize",path:"src/components/Resizable/hooks.tsx#useResize"})}catch(__react_docgen_typescript_loader_error){}try{useScalableBox.displayName="useScalableBox",useScalableBox.__docgenInfo={description:"",displayName:"useScalableBox",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},element:{defaultValue:null,description:"",name:"element",required:!0,type:{name:"Element | null"}},sizeBounds:{defaultValue:null,description:"",name:"sizeBounds",required:!0,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},outerBox:{defaultValue:null,description:"",name:"outerBox",required:!0,type:{name:"BoundingBox"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/hooks.tsx#useScalableBox"]={docgenInfo:useScalableBox.__docgenInfo,name:"useScalableBox",path:"src/components/Resizable/hooks.tsx#useScalableBox"})}catch(__react_docgen_typescript_loader_error){}var Thumb_Thumb=function Thumb(){return(0,jsx_runtime.jsx)("div",{className:"Thumb"})};try{Thumb_Thumb.displayName="Thumb",Thumb_Thumb.__docgenInfo={description:"",displayName:"Thumb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Thumb/index.tsx#Thumb"]={docgenInfo:Thumb_Thumb.__docgenInfo,name:"Thumb",path:"src/components/Thumb/index.tsx#Thumb"})}catch(__react_docgen_typescript_loader_error){}var Resizable=function Resizable(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.ZT:_ref$onEnd,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?{}:_ref$sizeBounds,_ref$outerBox=_ref.outerBox,outerBox=void 0===_ref$outerBox?boundingBox.k.infinite():_ref$outerBox,_ref$keepAspectRatio=_ref.keepAspectRatio,keepAspectRatio=void 0!==_ref$keepAspectRatio&&_ref$keepAspectRatio,_ref$thumbKeys=_ref.thumbKeys,thumbKeys=void 0===_ref$thumbKeys?resizingPointsPreset.all:_ref$thumbKeys,_ref$ThumbComponent=_ref.ThumbComponent,ThumbComponent=void 0===_ref$ThumbComponent?Thumb_Thumb:_ref$ThumbComponent,_ref$isDraggable=_ref.isDraggable,isDraggable=void 0===_ref$isDraggable||_ref$isDraggable,children=_ref.children,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),element=_useState2[0],setElement=_useState2[1];(0,dnd.BU)({element:isDraggable?element:null,outerBox:outerBox,onChange:onChange,onStart:onStart,onEnd:onEnd});var thumbsElements=useResize({box:value,onChange:onChange,onStart:onStart,onEnd:onEnd,sizeBounds:sizeBounds,keepAspectRatio:keepAspectRatio,thumbKeys:thumbKeys,outerBox:outerBox,ThumbComponent:ThumbComponent});return useScalableBox({box:value,element:isDraggable?element:null,sizeBounds:sizeBounds,outerBox:outerBox,onChange:onChange,onStart:onStart,onEnd:onEnd}),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:setElement,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(value)),{},{position:"absolute"}),children:react.Children.only(children)}),thumbsElements]})},components_Resizable=(0,makeStateful.Z)(Resizable);try{Resizable.displayName="Resizable",Resizable.__docgenInfo={description:"",displayName:"Resizable",props:{sizeBounds:{defaultValue:{value:"{}"},description:"Ограничения размера сторон",name:"sizeBounds",required:!1,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:{value:"false"},description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:{value:"resizingPointsPreset.all"},description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!1,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:{value:'() => {\r\n  return <div className="Thumb" />;\r\n}'},description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}},outerBox:{defaultValue:{value:"BoundingBox.infinite()"},description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!1,type:{name:"BoundingBox"}},isDraggable:{defaultValue:{value:"true"},description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: BoundingBox, options: IPressedKeys) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/index.tsx#Resizable"]={docgenInfo:Resizable.__docgenInfo,name:"Resizable",path:"src/components/Resizable/index.tsx#Resizable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ResizableControl/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return components_ResizableControl}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),Resizable=__webpack_require__("./src/components/Resizable/index.tsx"),normalization=__webpack_require__("./src/utils/normalization.ts");function denormalizeSizeBounds(sizeBounds,outerBox){var denormalizedSizeBounds={};return sizeBounds.width&&(denormalizedSizeBounds.width=(0,normalization.cY)(sizeBounds.width,outerBox.dx)),sizeBounds.height&&(denormalizedSizeBounds.height=(0,normalization.cY)(sizeBounds.height,outerBox.dy)),denormalizedSizeBounds}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","onChange","onStart","onEnd","sizeBounds","outerBox"],ResizableControl=function ResizableControl(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.ZT:_ref$onEnd,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?{}:_ref$sizeBounds,outerBox=_ref.outerBox,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),handleChange=useNormalizedCallback(onChange,outerBox),handleStart=useNormalizedCallback(onStart,outerBox),handleEnd=useNormalizedCallback(onEnd,outerBox);return(0,jsx_runtime.jsx)(Resizable.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),{},{value:outerBox.denormalizeInner(value),onChange:handleChange,onStart:handleStart,onEnd:handleEnd,sizeBounds:denormalizeSizeBounds(sizeBounds,outerBox),outerBox:outerBox}))};function useNormalizedCallback(callback,outerBox){return(0,react.useCallback)((function(box,pressedKeys){callback(outerBox.normalizeInner(box),pressedKeys)}),[callback,outerBox])}var components_ResizableControl=ResizableControl;try{ResizableControl.displayName="ResizableControl",ResizableControl.__docgenInfo={description:"Resizable элемент, представленный в нормализованном виде",displayName:"ResizableControl",props:{outerBox:{defaultValue:null,description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!0,type:{name:"BoundingBox"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},sizeBounds:{defaultValue:{value:"{}"},description:"Ограничения размера сторон",name:"sizeBounds",required:!1,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!1,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ResizableControl/index.tsx#ResizableControl"]={docgenInfo:ResizableControl.__docgenInfo,name:"ResizableControl",path:"src/components/ResizableControl/index.tsx#ResizableControl"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Space/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:function(){return Space}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_utils_direction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/direction.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Space=function Space(_ref){var _ref$direction=_ref.direction,direction=void 0===_ref$direction?_utils_direction__WEBPACK_IMPORTED_MODULE_0__.N.horizontal:_ref$direction,size=_ref.size,children=_ref.children;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{style:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.Z)({display:"flex",flexDirection:direction.cssValues.direction},direction.cssKeys.gap,size),children:children})};try{Space.displayName="Space",Space.__docgenInfo={description:"",displayName:"Space",props:{direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Space/index.tsx#Space"]={docgenInfo:Space.__docgenInfo,name:"Space",path:"src/components/Space/index.tsx#Space"})}catch(__react_docgen_typescript_loader_error){}},"./src/decorators/dnd.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c0:function(){return useDrag},BU:function(){return useDragBox},eM:function(){return useDragMovement}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),dom=__webpack_require__("./src/utils/dom.ts"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),utils_point=__webpack_require__("./src/utils/point.ts"),DragListener=function(){function DragListener(element){(0,classCallCheck.Z)(this,DragListener),this.element=element,this.callbacks={onStart:common.ZT,onChange:common.ZT,onEnd:common.ZT},this.handleDown=this.handleDown.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this)}return(0,createClass.Z)(DragListener,[{key:"setCallbacks",value:function setCallbacks(callbacks){this.callbacks=callbacks}},{key:"launch",value:function launch(){var _this=this;return this.element.addEventListener("mousedown",this.handleDown),function(){return _this.dispose()}}},{key:"addActiveElementListeners",value:function addActiveElementListeners(){document.addEventListener("mousemove",this.handleMove),document.addEventListener("mouseup",this.handleEnd,{once:!0}),document.addEventListener("mouseleave",this.handleEnd,{once:!0})}},{key:"removeActiveElementListeners",value:function removeActiveElementListeners(){document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleEnd),document.removeEventListener("mouseleave",this.handleEnd)}},{key:"dispose",value:function dispose(){this.element.removeEventListener("mousedown",this.handleDown),this.removeActiveElementListeners()}},{key:"handleDown",value:function handleDown(event){var downEvent=event;downEvent.preventDefault(),downEvent.stopPropagation(),this.handleStart(downEvent),this.addActiveElementListeners()}}]),DragListener}(),DragCoordinatesListener=function(_DragListener){(0,inherits.Z)(DragCoordinatesListener,_DragListener);var _super=(0,createSuper.Z)(DragCoordinatesListener);function DragCoordinatesListener(){var _this2;(0,classCallCheck.Z)(this,DragCoordinatesListener);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this2=_super.call.apply(_super,[this].concat(args))).offset=utils_point.E.nullish,_this2}return(0,createClass.Z)(DragCoordinatesListener,[{key:"handleStart",value:function handleStart(downEvent){this.offset=(0,dom.oR)(downEvent);var point=(0,dom._b)(downEvent).subtract(this.offset);this.callbacks.onStart(point,(0,common.QS)(downEvent))}},{key:"handleMove",value:function handleMove(moveEvent){var point=(0,dom._b)(moveEvent).subtract(this.offset);this.callbacks.onChange(point,(0,common.QS)(moveEvent))}},{key:"handleEnd",value:function handleEnd(upEvent){var point=(0,dom._b)(upEvent).subtract(this.offset);this.callbacks.onEnd(point,(0,common.QS)(upEvent)),this.removeActiveElementListeners()}}]),DragCoordinatesListener}(DragListener),DragMovementListener=function(_DragListener2){(0,inherits.Z)(DragMovementListener,_DragListener2);var _super2=(0,createSuper.Z)(DragMovementListener);function DragMovementListener(){return(0,classCallCheck.Z)(this,DragMovementListener),_super2.apply(this,arguments)}return(0,createClass.Z)(DragMovementListener,[{key:"handleStart",value:function handleStart(downEvent){this.callbacks.onStart(utils_point.E.nullish,(0,common.QS)(downEvent))}},{key:"handleMove",value:function handleMove(moveEvent){var point=new utils_point.E(moveEvent.movementX,moveEvent.movementY);this.callbacks.onChange(point,(0,common.QS)(moveEvent))}},{key:"handleEnd",value:function handleEnd(upEvent){this.callbacks.onEnd(utils_point.E.nullish,(0,common.QS)(upEvent)),this.removeActiveElementListeners()}}]),DragMovementListener}(DragListener),useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),_excluded=["onStart","onChange","onEnd"];function useDndListener(Listener,element,_ref){var onChange=_ref.onChange,onStart=_ref.onStart,onEnd=_ref.onEnd,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isDrag=_useState2[0],setIsDrag=_useState2[1],instance=(0,react.useMemo)((function(){return element&&new Listener(element)}),[Listener,element]);(0,react.useEffect)((function(){return null==instance?void 0:instance.launch()}),[instance]);var handleStart=(0,react.useCallback)((function(){setIsDrag(!0),onStart.apply(void 0,arguments)}),[onStart]),handleEnd=(0,react.useCallback)((function(){setIsDrag(!1),onEnd.apply(void 0,arguments)}),[onEnd]);return null==instance||instance.setCallbacks({onChange:onChange,onStart:handleStart,onEnd:handleEnd}),{isDrag:isDrag}}function useDragMovement(_ref2){var element=_ref2.element,_ref2$onChange=_ref2.onChange,onChange=void 0===_ref2$onChange?common.ZT:_ref2$onChange,_ref2$onStart=_ref2.onStart,onStart=void 0===_ref2$onStart?common.ZT:_ref2$onStart,_ref2$onEnd=_ref2.onEnd,onEnd=void 0===_ref2$onEnd?common.ZT:_ref2$onEnd;return useDndListener(DragMovementListener,element,{onStart:onStart,onChange:onChange,onEnd:onEnd})}function useDrag(_ref3){var element=_ref3.element,_ref3$isInOwnCoordina=_ref3.isInOwnCoordinates,isInOwnCoordinates=void 0===_ref3$isInOwnCoordina||_ref3$isInOwnCoordina,_ref3$onStart=_ref3.onStart,onStart=void 0===_ref3$onStart?common.ZT:_ref3$onStart,_ref3$onChange=_ref3.onChange,onChange=void 0===_ref3$onChange?common.ZT:_ref3$onChange,_ref3$onEnd=_ref3.onEnd,onEnd=void 0===_ref3$onEnd?common.ZT:_ref3$onEnd,offsetParentDecorator=(0,react.useCallback)((function(dndCallback){return function(point,pressedKeys){if(element){var offsetParent=element.offsetParent;if(!offsetParent)return console.error("Не найден offsetParent"),void dndCallback(point,pressedKeys);var offset=(0,dom.uf)(offsetParent);dndCallback(point.subtract(offset),pressedKeys)}}}),[element]),wrapper=isInOwnCoordinates?offsetParentDecorator:es.yRu;return useDndListener(DragCoordinatesListener,element,(0,es.IDH)(wrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd}))}function useDragBox(_ref4){var _ref4$onStart=_ref4.onStart,onStart=void 0===_ref4$onStart?common.ZT:_ref4$onStart,_ref4$onChange=_ref4.onChange,onChange=void 0===_ref4$onChange?common.ZT:_ref4$onChange,_ref4$onEnd=_ref4.onEnd,onEnd=void 0===_ref4$onEnd?common.ZT:_ref4$onEnd,rest=(0,objectWithoutProperties.Z)(_ref4,_excluded),paramsRef=(0,useActualRef.s)(rest),addBoxWrapper=(0,react.useCallback)((function(dndCallback){return function(point,pressedKeys){var _paramsRef$current=paramsRef.current,outerBox=_paramsRef$current.outerBox,element=_paramsRef$current.element,box=(0,dom.Zt)(element).moveTo(point);dndCallback(outerBox?outerBox.clampInner(box):box,pressedKeys)}}),[paramsRef]);return useDrag((0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),(0,es.IDH)(addBoxWrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd})))}},"./src/decorators/makeStateful.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return makeStateful}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["initialValue","onChange","value"];function makeStateful(Component){return function(props){props.initialValue;var onChange=props.onChange,propsValue=props.value,restProps=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(props,_excluded),isStateful=!(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("value",props);(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("value",props)&&(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("initialValue",props)&&console.error("both arguments 'value' and 'initialValue' cannot be passed at the same time");var _useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.initialValue),_useState2=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),stateValue=_useState2[0],setStateValue=_useState2[1],handleChange=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(nextValue,options){isStateful&&setStateValue(nextValue),null==onChange||onChange(nextValue,options)}),[isStateful,onChange]),value=isStateful?stateValue:propsValue;if(void 0===value)throw new Error("At least one argument 'value' or 'initialValue' must be passed");var newProps=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},restProps),{},{value:value,onChange:handleChange});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component,(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},newProps))}}try{makeStateful.displayName="makeStateful",makeStateful.__docgenInfo={description:"Добавляет возможность переместить управление состоянием внутрь компонента\n- Принимает компонент с обязательными пропсами: value и onChange.\n- Возвращает компонент с необязательными пропсами: value, onChange, initialValue",displayName:"makeStateful",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/makeStateful.tsx#makeStateful"]={docgenInfo:makeStateful.__docgenInfo,name:"makeStateful",path:"src/decorators/makeStateful.tsx#makeStateful"})}catch(__react_docgen_typescript_loader_error){}},"./src/decorators/useActualRef.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return useActualRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useActualRef(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return ref.current=value,ref}},"./src/decorators/useScale.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:function(){return useScale}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/common.ts"),_utils_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/dom.ts");function useScale(element,_ref){var onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?_utils_common__WEBPACK_IMPORTED_MODULE_1__.ZT:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?_utils_common__WEBPACK_IMPORTED_MODULE_1__.ZT:_ref$onEnd,_ref$delayToEnd=_ref.delayToEnd,delayToEnd=void 0===_ref$delayToEnd?100:_ref$delayToEnd,timerId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),handleChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){var wheelEvent=event;wheelEvent.stopPropagation(),wheelEvent.preventDefault();var targetBox=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.Zt)(wheelEvent.currentTarget),offsetPoint=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_2__.oR)(wheelEvent),scalingOrigin=targetBox.resetOrigin().normalizePoint(offsetPoint),pressedKeys=(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.QS)(wheelEvent);void 0===timerId.current&&onStart(scalingOrigin,pressedKeys),onChange(wheelEvent.deltaY,scalingOrigin,pressedKeys),timerId.current&&clearTimeout(timerId.current),timerId.current=setTimeout((function(){timerId.current=void 0,onEnd(scalingOrigin,pressedKeys)}),delayToEnd)}),[onChange,onStart,onEnd,delayToEnd]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(element)return element.addEventListener("wheel",handleChange),function(){element.removeEventListener("wheel",handleChange)}}),[element,handleChange])}},"./src/hooks.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return useCallbackRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useCallbackRef(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null)}},"./src/utils/boundingBox.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return BoundingBox}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),_numbersRange__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/numbersRange.ts"),_point__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/point.ts"),BoundingBox=function(){function BoundingBox(x1,x2,y1,y2){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,BoundingBox),this.x1=x1,this.x2=x2,this.y1=y1,this.y2=y2}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.Z)(BoundingBox,[{key:"x0",get:function get(){return this.x1}},{key:"y0",get:function get(){return this.y1}},{key:"origin",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.x0,this.y0)}},{key:"dx",get:function get(){return this.x2-this.x1}},{key:"dy",get:function get(){return this.y2-this.y1}},{key:"width",get:function get(){return Math.abs(this.dx)}},{key:"height",get:function get(){return Math.abs(this.dy)}},{key:"xsRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.x1,this.x2)}},{key:"ysRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.y1,this.y2)}},{key:"center",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E((this.x1+this.x2)/2,(this.y1+this.y2)/2)}},{key:"setX1",value:function setX1(value){return new BoundingBox(value,this.x2,this.y1,this.y2)}},{key:"setX2",value:function setX2(value){return new BoundingBox(this.x1,value,this.y1,this.y2)}},{key:"setY1",value:function setY1(value){return new BoundingBox(this.x1,this.x2,value,this.y2)}},{key:"setY2",value:function setY2(value){return new BoundingBox(this.x1,this.x2,this.y1,value)}},{key:"clipInner",value:function clipInner(inner){return new BoundingBox((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x2),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y2))}},{key:"clampInner",value:function clampInner(inner){return BoundingBox.createByRanges(this.xsRange.clampInner(inner.xsRange),this.ysRange.clampInner(inner.ysRange))}},{key:"clampByOuter",value:function clampByOuter(outer){return outer.clampInner(this)}},{key:"shift",value:function shift(offsets){var p=this.origin.add(offsets);return BoundingBox.createByDimensions(p.x,p.y,this.dx,this.dy)}},{key:"moveTo",value:function moveTo(p){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_point__WEBPACK_IMPORTED_MODULE_2__.E.nullish;return this.shift(p.subtract(this.denormalizePoint(origin)))}},{key:"resetOrigin",value:function resetOrigin(){return BoundingBox.createByDimensions(0,0,this.dx,this.dy)}},{key:"constrainSize",value:function constrainSize(dxBounds,dyBounds){var dx=dxBounds.clampNumber(this.dx),dy=dyBounds.clampNumber(this.dy);return BoundingBox.createByDimensions(this.x0,this.y0,dx,dy)}},{key:"shiftDeltas",value:function shiftDeltas(offsetX,offsetY){return BoundingBox.createByDimensions(this.x0,this.y0,this.dx+offsetX,this.dy+offsetY)}},{key:"scale",value:function scale(k){return BoundingBox.createByRanges(this.xsRange.scale(k),this.ysRange.scale(k))}},{key:"intersectionArea",value:function intersectionArea(box){var left=Math.max(this.x1,box.x1),bottom=Math.min(this.y2,box.y2),width=Math.min(this.x2,box.x2)-left,height=bottom-Math.max(this.y1,box.y1);return width<0||height<0?0:width*height}},{key:"aspectRatio",get:function get(){return this.dx/this.dy}},{key:"setAspectRatio",value:function setAspectRatio(ratio){var dy=(this.dx+this.dy)/(ratio+1),dx=ratio*dy;return BoundingBox.createByDimensions(this.x0,this.y0,dx,dy)}},{key:"normalizeInner",value:function normalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.normalizeNumber(inner.x1),xsRange.normalizeNumber(inner.x2),ysRange.normalizeNumber(inner.y1),ysRange.normalizeNumber(inner.y2))}},{key:"denormalizeInner",value:function denormalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.denormalizeNumber(inner.x1),xsRange.denormalizeNumber(inner.x2),ysRange.denormalizeNumber(inner.y1),ysRange.denormalizeNumber(inner.y2))}},{key:"normalizePoint",value:function normalizePoint(point){return point.subtract(this.origin).div(this.deltasVector)}},{key:"denormalizePoint",value:function denormalizePoint(point){return this.origin.add(point.mul(this.deltasVector))}},{key:"deltasVector",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.dx,this.dy)}},{key:"placeOutside",value:function placeOutside(box){return box.shift(this.origin)}},{key:"placeInside",value:function placeInside(box){var origin=box.origin.subtract(this.origin);return box.moveTo(origin)}},{key:"isEqual",value:function isEqual(_ref){var x1=_ref.x1,x2=_ref.x2,y1=_ref.y1,y2=_ref.y2;return x1===this.x1&&x2===this.x2&&y1===this.y1&&y2===this.y2}},{key:"map",value:function map(f){return new BoundingBox(f(this.x1),f(this.x2),f(this.y1),f(this.y2))}},{key:"placeInSameOrigin",value:function placeInSameOrigin(box,normalizedOrigin){var realOrigin=box.denormalizePoint(normalizedOrigin);return this.moveTo(realOrigin,normalizedOrigin)}}],[{key:"square",value:function square(x0,y0,a){return this.createByDimensions(x0,y0,a,a)}},{key:"fromOrigin",value:function fromOrigin(dx,dy){return BoundingBox.createByDimensions(0,0,dx,dy)}},{key:"createByDimensions",value:function createByDimensions(x0,y0,dx,dy){return new BoundingBox(x0,x0+dx,y0,y0+dy)}},{key:"createByRanges",value:function createByRanges(xRange,yRange){return new BoundingBox(xRange.start,xRange.end,yRange.start,yRange.end)}},{key:"nullish",value:function nullish(){return new BoundingBox(0,0,0,0)}},{key:"infinite",value:function infinite(){return new BoundingBox(-1/0,1/0,-1/0,1/0)}}]),BoundingBox}()},"./src/utils/boxParams.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var EBoxSide,EBoxLength;__webpack_require__.d(__webpack_exports__,{E:function(){return EBoxLength},y:function(){return EBoxSide}}),function(EBoxSide){EBoxSide.top="top",EBoxSide.bottom="bottom",EBoxSide.left="left",EBoxSide.right="right"}(EBoxSide||(EBoxSide={})),function(EBoxLength){EBoxLength.width="width",EBoxLength.height="height"}(EBoxLength||(EBoxLength={}))},"./src/utils/common.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{QS:function(){return extractPressedKeys},ZT:function(){return noop},ju:function(){return magnetize}});var ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js");function extractPressedKeys(_ref){return{altKey:_ref.altKey,shiftKey:_ref.shiftKey,ctrlKey:_ref.ctrlKey}}var noop=function noop(){},magnetize=(0,ramda__WEBPACK_IMPORTED_MODULE_0__.Pjr)(2,(function(step,n){return Math.round(n/step)*step}))},"./src/utils/constants.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return WheelScalingK}});var WheelScalingK=-.001},"./src/utils/direction.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return Directions}});var EDirection,Directions,_Directions,horizontal,vertical,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/boundingBox.ts"),_boxParams__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/boxParams.ts"),_point__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/point.ts");!function(EDirection){EDirection.horizontal="horizontal",EDirection.vertical="vertical"}(EDirection||(EDirection={})),_Directions=Directions||(Directions={}),horizontal=_Directions.horizontal={key:EDirection.horizontal,rangesOfBox:function rangesOfBox(box){return[box.xsRange,box.ysRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByRanges(parallelRange,normalRange)},coordinatesOfPoint:function coordinatesOfPoint(_ref){return[_ref.x,_ref.y]},pointOfCoordinates:function pointOfCoordinates(x,y){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(x,y)},lengthKey:_boxParams__WEBPACK_IMPORTED_MODULE_1__.E.width,sides:[_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.left,_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.right],cssKeys:{length:"width",thickness:"height",coordinate:"left",normalCoordinate:"top",gap:"columnGap"},cssValues:{direction:"row"},get regular(){return Directions.horizontal},get opposite(){return Directions.vertical},get reversed(){return Directions.horizontalReversed},isReversed:!1},vertical=_Directions.vertical={key:EDirection.vertical,rangesOfBox:function rangesOfBox(box){return[box.ysRange,box.xsRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByRanges(normalRange,parallelRange)},coordinatesOfPoint:function coordinatesOfPoint(_ref2){var x=_ref2.x;return[_ref2.y,x]},pointOfCoordinates:function pointOfCoordinates(y,x){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(x,y)},lengthKey:_boxParams__WEBPACK_IMPORTED_MODULE_1__.E.height,sides:[_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.top,_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.bottom],cssKeys:{length:"height",thickness:"width",coordinate:"top",normalCoordinate:"left",gap:"rowGap"},cssValues:{direction:"column"},get regular(){return Directions.vertical},get opposite(){return Directions.horizontal},get reversed(){return Directions.verticalReversed},isReversed:!1},_Directions.horizontalReversed=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},horizontal),{},{cssValues:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},horizontal.cssValues),{},{direction:"row-reverse"}),cssKeys:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},horizontal.cssKeys),{},{coordinate:"right",normalCoordinate:"bottom"}),get opposite(){return Directions.verticalReversed},get reversed(){return Directions.horizontal},isReversed:!0}),_Directions.verticalReversed=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},vertical),{},{cssValues:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},vertical.cssValues),{},{direction:"column-reverse"}),cssKeys:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},vertical.cssKeys),{},{coordinate:"bottom",normalCoordinate:"right"}),get opposite(){return Directions.horizontalReversed},get reversed(){return Directions.vertical},isReversed:!0})},"./src/utils/dom.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Zt:function(){return getBoxOnPage},_b:function(){return getMousePoint},oR:function(){return getMouseOffsetPoint},uf:function(){return getPointOnPage}});var _boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/boundingBox.ts"),_point__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/point.ts");function getPointOnPage(element){var _element$getBoundingC=element.getBoundingClientRect(),x=_element$getBoundingC.x,y=_element$getBoundingC.y;return new _point__WEBPACK_IMPORTED_MODULE_1__.E(x,y)}function getOriginOnPage(element){return getPointOnPage(element).subtract(function getOriginOffset(element){var transform=getComputedStyle(element).transform,_DOMMatrixReadOnly=new DOMMatrixReadOnly(transform),translateX=_DOMMatrixReadOnly.m41,translateY=_DOMMatrixReadOnly.m42;return new _point__WEBPACK_IMPORTED_MODULE_1__.E(translateX,translateY)}(element))}function getBoxOnPage(element){var _element$getBoundingC2=element.getBoundingClientRect(),x=_element$getBoundingC2.x,y=_element$getBoundingC2.y,width=_element$getBoundingC2.width,height=_element$getBoundingC2.height;return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByDimensions(x,y,width,height)}function getMouseOffsetPoint(mouseEvent){var targetOrigin=getOriginOnPage(mouseEvent.currentTarget);return getMousePoint(mouseEvent).subtract(targetOrigin)}function getMousePoint(event){return new _point__WEBPACK_IMPORTED_MODULE_1__.E(event.pageX,event.pageY)}},"./src/utils/normalization.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Fv:function(){return normalize},cY:function(){return denormalize}});__webpack_require__("./node_modules/ramda/es/index.js");function normalize(obj,size){return obj.map((function(a){return a/size}))}function denormalize(obj,size){return obj.map((function(a){return a*size}))}},"./src/utils/numbersRange.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return NumbersRange}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ramda/es/index.js"),NumbersRange=function(_Symbol$iterator){function NumbersRange(start,end){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,NumbersRange),this.start=start,this.end=end}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__.Z)(NumbersRange,[{key:"delta",get:function get(){return this.end-this.start}},{key:"size",get:function get(){return Math.abs(this.delta)}},{key:"direction",get:function get(){return Math.sign(this.delta)}},{key:"setStart",value:function setStart(value){return new NumbersRange(value,this.end)}},{key:"setEnd",value:function setEnd(value){return new NumbersRange(this.start,value)}},{key:"shift",value:function shift(offset){return this.map((function(n){return n+offset}))}},{key:"constrainSize",value:function constrainSize(bounds){var delta=bounds.clampNumber(this.delta);return NumbersRange.createByDelta(this.start,delta)}},{key:"clipInner",value:function clipInner(inner){var _this=this;return inner.map((function(a){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(_this.start,_this.end,a)}))}},{key:"clampInner",value:function clampInner(_ref){var start=_ref.start,delta=_ref.delta;return NumbersRange.createByDelta((0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end-delta,start),delta)}},{key:"clampNumber",value:function clampNumber(n){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end,n)}},{key:"denormalizeNumber",value:function denormalizeNumber(n){return this.start+n*this.delta}},{key:"normalizeNumber",value:function normalizeNumber(n){return(n-this.start)/this.delta}},{key:"scale",value:function scale(k){var offset=this.size*k;return new NumbersRange(this.start+offset,this.end-offset)}},{key:"invert",value:function invert(){return new NumbersRange(this.end,this.start)}},{key:"moveTo",value:function moveTo(x){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.shift(x-this.denormalizeNumber(origin))}},{key:"includes",value:function includes(x){return this.start<=x&&x<=this.end}},{key:"isEqual",value:function isEqual(_ref2){var start=_ref2.start,end=_ref2.end;return this.start===start&&this.end===end}},{key:"map",value:function map(f){return new NumbersRange(f(this.start),f(this.end))}},{key:_Symbol$iterator,value:_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function value(){return _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function value$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.start;case 2:return _context.next=4,this.end;case 4:case"end":return _context.stop()}}),value,this)}))}],[{key:"createByDelta",value:function createByDelta(start,delta){return new NumbersRange(start,start+delta)}},{key:"infinite",value:function infinite(){return new NumbersRange(-1/0,1/0)}},{key:"endless",value:function endless(start){return new NumbersRange(start,1/0)}},{key:"normalizationBounds",value:function normalizationBounds(){return new NumbersRange(0,1)}}]),NumbersRange}(Symbol.iterator)},"./src/utils/point.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return Point}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),Point=function(){function Point(x,y){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.Z)(this,Point),this.x=x,this.y=y}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Point,[{key:"map",value:function map(f){return new Point(f(this.x),f(this.y))}},{key:"setX",value:function setX(value){return new Point(value,this.y)}},{key:"setY",value:function setY(value){return new Point(this.x,value)}},{key:"shiftX",value:function shiftX(offset){return this.setX(this.x+offset)}},{key:"shiftY",value:function shiftY(offset){return this.setY(this.y+offset)}},{key:"add",value:function add(p){return new Point(this.x+p.x,this.y+p.y)}},{key:"subtract",value:function subtract(p){return new Point(this.x-p.x,this.y-p.y)}},{key:"mulK",value:function mulK(k){return new Point(this.x*k,this.y*k)}},{key:"mul",value:function mul(p){return new Point(this.x*p.x,this.y*p.y)}},{key:"div",value:function div(p){return new Point(this.x/p.x,this.y/p.y)}},{key:"dot",value:function dot(p){var _this$mul=this.mul(p);return _this$mul.x+_this$mul.y}},{key:"clampX",value:function clampX(min,max){return new Point((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.x),this.y)}},{key:"clampY",value:function clampY(min,max){return new Point(this.x,(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.y))}},{key:"negate",value:function negate(){return this.mulK(-1)}},{key:"reflectAroundPoint",value:function reflectAroundPoint(p){return p.subtract(this.subtract(p))}},{key:"distance",value:function distance(p){var _this$subtract=this.subtract(p),dx=_this$subtract.x,dy=_this$subtract.y;return Math.sqrt(dx*dx+dy*dy)}}],[{key:"nullish",get:function get(){return new Point(0,0)}}]),Point}()},"./src/utils/styles.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$K:function(){return stretchStyle},FV:function(){return centererStyle},b8:function(){return getBoxStyle},sG:function(){return getPointStyle}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");__webpack_require__("./node_modules/ramda/es/index.js");function getPointStyle(_ref){var x=_ref.x,y=_ref.y;return{left:"".concat(x,"px"),top:"".concat(y,"px")}}function getBoxStyle(box){return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},getPointStyle(box.origin)),{},{width:"".concat(box.dx,"px"),height:"".concat(box.dy,"px")})}var stretchStyle={width:"100%",height:"100%"},centererStyle={display:"flex",justifyContent:"center",alignItems:"center"}},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Carousel.stories.tsx":"./src/stories/Carousel.stories.tsx","./stories/ImageViewer.stories.tsx":"./src/stories/ImageViewer.stories.tsx","./stories/Resizable.stories.tsx":"./src/stories/Resizable.stories.tsx","./stories/Sliders.stories.tsx":"./src/stories/Sliders.stories.tsx","./stories/Sortable.stories.tsx":"./src/stories/Sortable.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[357],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);