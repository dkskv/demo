(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{"./src/stories/ImageViewer.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ImageViewer:function(){return ImageViewer},__namedExportsOrder:function(){return ImageViewer_stories_namedExportsOrder},default:function(){return ImageViewer_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),decorators_theme=__webpack_require__("./src/decorators/theme.ts"),boundingBox=__webpack_require__("./src/entities/boundingBox.ts"),styles=__webpack_require__("./src/utils/styles.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ImageBox=function ImageBox(_ref){var box=_ref.box,src=_ref.src,_ref$viewBox=_ref.viewBox,viewBox=void 0===_ref$viewBox?boundingBox.k.byDeltas(0,0,1,1):_ref$viewBox,theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)({position:"relative",overflow:"hidden",borderRadius:theme.largeBorderRadius},(0,styles.b8)(box)),children:(0,jsx_runtime.jsx)("img",{alt:"error",src:src,style:{position:"absolute",transform:"translate(".concat(100*-viewBox.x0,"%, ").concat(100*-viewBox.y0,"%)"),width:"".concat(1/viewBox.dx*100,"%"),height:"".concat(1/viewBox.dy*100,"%")}})})};try{ImageBox.displayName="ImageBox",ImageBox.__docgenInfo={description:"",displayName:"ImageBox",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},viewBox:{defaultValue:{value:"BoundingBox.byDeltas(0, 0, 1, 1)"},description:"",name:"viewBox",required:!1,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ImageBox/index.tsx#ImageBox"]={docgenInfo:ImageBox.__docgenInfo,name:"ImageBox",path:"src/components/ImageBox/index.tsx#ImageBox"})}catch(__react_docgen_typescript_loader_error){}var ResizableControl=__webpack_require__("./src/components/ResizableControl/index.tsx"),useDrag=__webpack_require__("./src/components/Draggable/useDrag.ts"),useBooleanState=__webpack_require__("./src/decorators/useBooleanState.ts"),useWheelScaling=__webpack_require__("./src/decorators/useWheelScaling.ts"),useCallbackRef=__webpack_require__("./src/decorators/useCallbackRef.ts"),common=__webpack_require__("./src/utils/common.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),point=__webpack_require__("./src/entities/point.ts"),ScalableImage=function ScalableImage(_ref){var box=_ref.box,src=_ref.src,viewBox=_ref.viewBox,onViewBoxChange=_ref.onViewBoxChange,_ref$scaleBounds=_ref.scaleBounds,scaleBounds=void 0===_ref$scaleBounds?new numbersRange.K(.2,1):_ref$scaleBounds,_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1];(0,useWheelScaling.D)(element,{onChange:function handleScale(_ref2){var scalingK=_ref2.scalingK,pressedKeys=_ref2.pressedKeys,origin=_ref2.origin,nextViewBox=viewBox.scale(scalingK).constrainSize(scaleBounds,scaleBounds).placeInSameOrigin(viewBox,origin).clampByOuter(boundingBox.k.byOnlyDeltas(1,1));onViewBoxChange({box:nextViewBox,pressedKeys:pressedKeys})}});var isScaled=viewBox.dx<1||viewBox.dy<1,_useBooleanState=(0,useBooleanState.z)(!1),_useBooleanState2=(0,slicedToArray.Z)(_useBooleanState,3),isDrag=_useBooleanState2[0],enableDragFlag=_useBooleanState2[1],disableDragFlag=_useBooleanState2[2];return(0,useDrag.c)({element:element,onChange:isScaled?function handleDrag(_ref3){var movement=_ref3.movement,pressedKeys=_ref3.pressedKeys,scaledDelta=movement.div(new point.E(box.dx/viewBox.dx,box.dy/viewBox.dy)),nextViewBox=viewBox.shift(scaledDelta.negate()).clampByOuter(boundingBox.k.byOnlyDeltas(1,1));onViewBoxChange({box:nextViewBox,pressedKeys:pressedKeys})}:common.Z,onStart:isScaled?enableDragFlag:common.Z,onEnd:isScaled?disableDragFlag:common.Z}),(0,jsx_runtime.jsx)("div",{ref:setElement,style:{cursor:isScaled?isDrag?"grabbing":"grab":"auto"},children:(0,jsx_runtime.jsx)(ImageBox,{box:box,src:src,viewBox:viewBox})})};try{ScalableImage.displayName="ScalableImage",ScalableImage.__docgenInfo={description:"",displayName:"ScalableImage",props:{viewBox:{defaultValue:null,description:"",name:"viewBox",required:!0,type:{name:"BoundingBox"}},onViewBoxChange:{defaultValue:null,description:"",name:"onViewBoxChange",required:!0,type:{name:"IResizeCallback"}},scaleBounds:{defaultValue:{value:"new NumbersRange(0.2, 1)"},description:"",name:"scaleBounds",required:!1,type:{name:"NumbersRange"}},src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScalableImage/index.tsx#ScalableImage"]={docgenInfo:ScalableImage.__docgenInfo,name:"ScalableImage",path:"src/components/ScalableImage/index.tsx#ScalableImage"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx"),sizeLimits=__webpack_require__("./src/entities/sizeLimits.ts"),ImageViewer_stories={},ImageViewer=function ImageViewer(){var _useState=(0,react.useState)((function(){return boundingBox.k.byDeltas(0,0,.25,.25)})),_useState2=(0,slicedToArray.Z)(_useState,2),controlValue=_useState2[0],setControlValue=_useState2[1],imageBox=boundingBox.k.byDeltas(0,0,400,400),controlBox=boundingBox.k.byDeltas(0,0,300,300),scaleBounds=new numbersRange.K(.2,1),theme=(0,decorators_theme.Fg)(),handleControlChange=(0,react.useCallback)((function(_ref){var box=_ref.box;return setControlValue(box)}),[]);var src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg";return(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)(ScalableImage,{viewBox:controlValue,onViewBoxChange:handleControlChange,src:src,box:imageBox,scaleBounds:scaleBounds}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)({position:"relative",borderRadius:theme.largeBorderRadius},(0,styles.b8)(controlBox)),children:[(0,jsx_runtime.jsx)(ImageBox,{box:controlBox,src:src}),function renderOverlay(){return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({position:"absolute",top:0,left:0},styles.$K),{},{overflow:"hidden",borderRadius:theme.largeBorderRadius}),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),(0,styles.b8)(controlBox.denormalizeInner(controlValue))),{},{position:"absolute",boxShadow:"0 0 0 100vmax ".concat(theme.overlayColor)})})})}(),(0,jsx_runtime.jsx)(ResizableControl.E,{value:controlValue,onChange:handleControlChange,outerBox:controlBox.resetOrigin(),keepAspectRatio:!0,sizeLimits:new sizeLimits.r(scaleBounds,scaleBounds),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{boxSizing:"border-box",border:"1px solid ".concat(theme.strokeColor)})})})]})]})};ImageViewer.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\n  const [controlValue, setControlValue] = useState<BoundingBox>(() =>\n    BoundingBox.byDeltas(0, 0, 0.25, 0.25)\n  );\n\n  const imageBox = BoundingBox.byDeltas(0, 0, 400, 400);\n  const controlBox = BoundingBox.byDeltas(0, 0, 300, 300);\n\n  const scaleBounds = new NumbersRange(0.2, 1);\n\n  const theme = useTheme();\n\n  const handleControlChange = useCallback(\n    ({ box }: IResizeEvent) => setControlValue(box),\n    []\n  );\n\n  function renderOverlay() {\n    return (\n      <div\n        style={{\n          position: "absolute",\n          top: 0,\n          left: 0,\n          ...stretchStyle,\n          overflow: "hidden",\n          borderRadius: theme.largeBorderRadius,\n        }}\n      >\n        <div\n          style={{\n            ...stretchStyle,\n            ...getBoxStyle(controlBox.denormalizeInner(controlValue)),\n            position: "absolute",\n            boxShadow: `0 0 0 100vmax ${theme.overlayColor}`,\n          }}\n        />\n      </div>\n    );\n  }\n\n  const src =\n    "https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg";\n\n  return (\n    <Space size={20}>\n      <ScalableImage\n        viewBox={controlValue}\n        onViewBoxChange={handleControlChange}\n        src={src}\n        box={imageBox}\n        scaleBounds={scaleBounds}\n      />\n      <div\n        style={{\n          position: "relative",\n          borderRadius: theme.largeBorderRadius,\n          ...getBoxStyle(controlBox),\n        }}\n      >\n        <ImageBox box={controlBox} src={src} />\n        {renderOverlay()}\n        <ResizableControl\n          value={controlValue}\n          onChange={handleControlChange}\n          outerBox={controlBox.resetOrigin()}\n          keepAspectRatio={true}\n          sizeLimits={new SizeLimits(scaleBounds, scaleBounds)}\n        >\n          <div\n            style={{\n              ...stretchStyle,\n              boxSizing: "border-box",\n              border: `1px solid ${theme.strokeColor}`,\n            }}\n          />\n        </ResizableControl>\n      </div>\n    </Space>\n  );\n}'}},ImageViewer.parameters);var ImageViewer_stories_namedExportsOrder=["ImageViewer"]},"./src/stories/ResizableBox.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ResizableBox:function(){return ResizableBox},__namedExportsOrder:function(){return ResizableBox_stories_namedExportsOrder},default:function(){return ResizableBox_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Checkbox=__webpack_require__("./src/components/Checkbox/index.tsx"),es=__webpack_require__("./node_modules/ramda/es/index.js"),direction=__webpack_require__("./src/entities/direction.ts"),styles=__webpack_require__("./src/utils/styles.ts"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function getMarking(patternKey){return(0,jsx_runtime.jsx)("line",{x1:"".concat(0,"%"),x2:"".concat(100,"%"),y1:"".concat(50,"%"),y2:"".concat(50,"%"),stroke:"url(#".concat(patternKey,")"),strokeWidth:"100%"},patternKey)}try{getMarking.displayName="getMarking",getMarking.__docgenInfo={description:"",displayName:"getMarking",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/utils.tsx#getMarking"]={docgenInfo:getMarking.__docgenInfo,name:"getMarking",path:"src/components/Grid/utils.tsx#getMarking"})}catch(__react_docgen_typescript_loader_error){}var Grid=function Grid(_ref){var step=_ref.step,thickness=_ref.thickness,color=_ref.color,id=_ref.id;function getPatternKey(direction){return"".concat(id,"_").concat(direction.orientation)}var directions=[direction.N.horizontal,direction.N.vertical],patterns=[{step:step,thickness:thickness},{step:step,thickness:thickness}],offset=-thickness/2;return(0,jsx_runtime.jsxs)("svg",{id:id,style:(0,objectSpread2.Z)({position:"absolute",left:offset,top:offset},styles.$K),children:[(0,jsx_runtime.jsx)("defs",{children:(0,es.yL_)((function(direction,pattern){return function createDef(patternKey,direction,_ref,color){var _patternProps,_rectProps,step=_ref.step,thickness=_ref.thickness,patternProps=(_patternProps={},(0,defineProperty.Z)(_patternProps,direction.cssKeys.length,"".concat(step,"px")),(0,defineProperty.Z)(_patternProps,direction.cssKeys.thickness,"1"),_patternProps),rectProps=(_rectProps={},(0,defineProperty.Z)(_rectProps,direction.cssKeys.length,"".concat(thickness,"px")),(0,defineProperty.Z)(_rectProps,direction.cssKeys.thickness,"1"),_rectProps);return(0,react.createElement)("pattern",(0,objectSpread2.Z)((0,objectSpread2.Z)({},patternProps),{},{id:patternKey,key:patternKey,patternUnits:"userSpaceOnUse"}),(0,jsx_runtime.jsx)("rect",(0,objectSpread2.Z)((0,objectSpread2.Z)({},rectProps),{},{fill:color})))}(getPatternKey(direction),direction,pattern,color)}),directions,patterns)}),directions.map((function(direction){return getMarking(getPatternKey(direction))}))]},id)};try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},step:{defaultValue:null,description:"Шаг между линиями, в %",name:"step",required:!0,type:{name:"number"}},thickness:{defaultValue:null,description:"Толщина каждой линии, в px",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/index.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/index.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}var Resizable=__webpack_require__("./src/components/Resizable/index.tsx"),Space=__webpack_require__("./src/components/Space/index.tsx"),boundingBox=__webpack_require__("./src/entities/boundingBox.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),sizeLimits=__webpack_require__("./src/entities/sizeLimits.ts"),decorators_theme=__webpack_require__("./src/decorators/theme.ts"),ResizableBox_stories={},magnetize=(0,es.Pjr)(2,(function(step,n){return Math.round(n/step)*step})),ResizableBox=function ResizableBox(){var gridStep=20,gridLargeStep=80,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isGridEnabled=_useState2[0],setIsGridEnabled=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isLockedRatio=_useState4[0],setIsLockedRatio=_useState4[1],outerBox=boundingBox.k.byDeltas(0,0,800,600).map(magnetize(gridLargeStep)),_useState5=(0,react.useState)((function(){return boundingBox.k.byDeltas(50,60,200,150)})),_useState6=(0,slicedToArray.Z)(_useState5,2),value=_useState6[0],setValue=_useState6[1];function magnetizeBox(b){return b.map(magnetize(gridStep))}(0,react.useEffect)((function(){isGridEnabled&&setValue(magnetizeBox)}),[isGridEnabled]);var handleChange=(0,react.useCallback)((function(_ref){var box=_ref.box;return setValue(box)}),[]),handleEnd=(0,react.useCallback)((function(){isGridEnabled&&setValue(magnetizeBox)}),[isGridEnabled]),grid=[[gridStep,1],[gridLargeStep,2]].map((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),step=_ref3[0],thickness=_ref3[1];return(0,jsx_runtime.jsx)(Grid,{id:String(step),step:step,thickness:thickness,color:"rgba(0, 0, 0, 0.5)"},step)})),theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:direction.N.vertical,children:[(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)(Checkbox.X,{value:isGridEnabled,onChange:setIsGridEnabled,label:"Enable grid"}),(0,jsx_runtime.jsx)(Checkbox.X,{value:isLockedRatio,onChange:setIsLockedRatio,label:"Lock ratio"})]}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)({position:"relative",border:"1px solid black"},(0,styles.b8)(outerBox)),children:[isGridEnabled&&grid,(0,jsx_runtime.jsx)(Resizable.e,{value:value,sizeLimits:new sizeLimits.r(new numbersRange.K(100,600),new numbersRange.K(80,400)),onEnd:handleEnd,outerBox:outerBox.resetOrigin(),onChange:handleChange,keepAspectRatio:isLockedRatio,children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:theme.primaryColor,borderRadius:theme.largeBorderRadius})})})]})]})};ResizableBox.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const gridStep = 20;\r\n  const gridLargeStep = 20 * 4;\r\n\r\n  const [isGridEnabled, setIsGridEnabled] = useState(false);\r\n  const [isLockedRatio, setIsLockedRatio] = useState(false);\r\n\r\n  const outerBox = BoundingBox.byDeltas(0, 0, 800, 600).map(\r\n    magnetize(gridLargeStep)\r\n  );\r\n  const [value, setValue] = useState(() =>\r\n    BoundingBox.byDeltas(50, 60, 200, 150)\r\n  );\r\n\r\n  function magnetizeBox(b: BoundingBox) {\r\n    return b.map(magnetize(gridStep));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (isGridEnabled) {\r\n      setValue(magnetizeBox);\r\n    }\r\n  }, [isGridEnabled]);\r\n\r\n  const handleChange = useCallback(\r\n    ({ box }: IResizeEvent) => setValue(box),\r\n    []\r\n  );\r\n\r\n  const handleEnd = useCallback(() => {\r\n    if (isGridEnabled) {\r\n      setValue(magnetizeBox);\r\n    }\r\n  }, [isGridEnabled]);\r\n\r\n  const grid = [\r\n    [gridStep, 1],\r\n    [gridLargeStep, 2],\r\n  ].map(([step, thickness]) => (\r\n    <Grid\r\n      key={step}\r\n      id={String(step)}\r\n      step={step}\r\n      thickness={thickness}\r\n      color="rgba(0, 0, 0, 0.5)"\r\n    />\r\n  ));\r\n\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Space size={40} direction={Directions.vertical}>\r\n      <Space size={20}>\r\n        <Checkbox\r\n          value={isGridEnabled}\r\n          onChange={setIsGridEnabled}\r\n          label="Enable grid"\r\n        />\r\n        <Checkbox\r\n          value={isLockedRatio}\r\n          onChange={setIsLockedRatio}\r\n          label="Lock ratio"\r\n        />\r\n      </Space>\r\n      <div\r\n        style={{\r\n          position: "relative",\r\n          border: "1px solid black",\r\n          ...getBoxStyle(outerBox),\r\n        }}\r\n      >\r\n        {isGridEnabled && grid}\r\n        <Resizable\r\n          value={value}\r\n          sizeLimits={\r\n            new SizeLimits(\r\n              new NumbersRange(100, 600),\r\n              new NumbersRange(80, 400)\r\n            )\r\n          }\r\n          onEnd={handleEnd}\r\n          outerBox={outerBox.resetOrigin()}\r\n          onChange={handleChange}\r\n          keepAspectRatio={isLockedRatio}\r\n        >\r\n          <div\r\n            style={{\r\n              ...stretchStyle,\r\n              background: theme.primaryColor,\r\n              borderRadius: theme.largeBorderRadius,\r\n            }}\r\n          />\r\n        </Resizable>\r\n      </div>\r\n    </Space>\r\n  );\r\n}'}},ResizableBox.parameters);var ResizableBox_stories_namedExportsOrder=["ResizableBox"]},"./src/stories/Sliders.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Sliders:function(){return Sliders},__namedExportsOrder:function(){return Sliders_stories_namedExportsOrder},default:function(){return Sliders_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Space=__webpack_require__("./src/components/Space/index.tsx"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),entities_direction=__webpack_require__("./src/entities/direction.ts"),Checkbox=__webpack_require__("./src/components/Checkbox/index.tsx"),NumberInputWithSlider=__webpack_require__("./src/components/NumberInputWithSlider/index.tsx"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),InputNumber=__webpack_require__("./src/components/InputNumber/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),NumbersRangeInput=function NumbersRangeInput(_ref){var range=_ref.value,_ref$bounds=_ref.bounds,bounds=void 0===_ref$bounds?numbersRange.K.infinite():_ref$bounds,onChange=_ref.onChange,direction=_ref.direction,children=_ref.children,_ref$sizeLimits=_ref.sizeLimits,sizeLimits=void 0===_ref$sizeLimits?numbersRange.K.infinite():_ref$sizeLimits,inputStyle=_ref.inputStyle,handleChangeMinValue=(0,react.useCallback)((function(value){return onChange(range.setMin(Math.min(range.max,value)).constrainSize(sizeLimits).moveTo(range.max,range.normalizeNumber(range.max)))}),[range,sizeLimits,onChange]),handleChangeMaxValue=(0,react.useCallback)((function(value){return onChange(range.setMax(Math.max(range.min,value)).constrainSize(sizeLimits).moveTo(range.min,range.normalizeNumber(range.min)))}),[range,sizeLimits,onChange]);return(0,jsx_runtime.jsxs)(Space.T,{direction:direction,size:20,align:"center",children:[(0,jsx_runtime.jsx)(InputNumber.R,{onChange:handleChangeMinValue,value:range.min,min:bounds.start,max:bounds.end,style:inputStyle}),children,(0,jsx_runtime.jsx)(InputNumber.R,{onChange:handleChangeMaxValue,value:range.max,min:bounds.start,max:bounds.end,style:inputStyle})]})};try{NumbersRangeInput.displayName="NumbersRangeInput",NumbersRangeInput.__docgenInfo={description:"",displayName:"NumbersRangeInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},bounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Диапазон минимального и максимального значений",name:"bounds",required:!1,type:{name:"NumbersRange"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"IDirection"}},sizeLimits:{defaultValue:{value:"NumbersRange.infinite()"},description:"",name:"sizeLimits",required:!1,type:{name:"NumbersRange"}},inputStyle:{defaultValue:null,description:"",name:"inputStyle",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"]={docgenInfo:NumbersRangeInput.__docgenInfo,name:"NumbersRangeInput",path:"src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"})}catch(__react_docgen_typescript_loader_error){}var Slider=__webpack_require__("./src/components/Slider/index.tsx"),useSmoothControl=__webpack_require__("./src/decorators/useSmoothControl.ts"),_excluded=["smoothValue"],NumberRangeInputWithSlider=function NumberRangeInputWithSlider(props){var value=props.value,onChange=props.onChange,bounds=props.bounds,_props$isSmoothSlider=props.isSmoothSlider,isSmoothSlider=void 0!==_props$isSmoothSlider&&_props$isSmoothSlider,_props$direction=props.direction,direction=void 0===_props$direction?entities_direction.N.horizontal:_props$direction,thickness=props.thickness,rangeMinSize=props.rangeMinSize,_props$rangeMaxSize=props.rangeMaxSize,rangeMaxSize=void 0===_props$rangeMaxSize?1/0:_props$rangeMaxSize,inputStyle=props.inputStyle,converter=(0,react.useMemo)((function(){return function createConverter(bounds){return{normalize:function normalize(numbersRange){return numbersRange.map((function(n){return bounds.normalizeNumber(n)}))},denormalize:function denormalize(normalizedRange){return normalizedRange.map((function(n){return Math.round(bounds.denormalizeNumber(n))}))}}}(bounds)}),[bounds]),_useSmoothControl=(0,useSmoothControl.e)({value:value,onChange:onChange,converter:converter}),smoothValue=_useSmoothControl.smoothValue,sliderCallbacks=(0,objectWithoutProperties.Z)(_useSmoothControl,_excluded),sizeLimits=(0,react.useMemo)((function(){return new numbersRange.K(null!=rangeMinSize?rangeMinSize:-rangeMaxSize,rangeMaxSize)}),[rangeMinSize,rangeMaxSize]);return(0,jsx_runtime.jsx)(NumbersRangeInput,{value:value,onChange:onChange,bounds:bounds,direction:direction,sizeLimits:sizeLimits,inputStyle:inputStyle,children:(0,jsx_runtime.jsx)(Slider.i,(0,objectSpread2.Z)((0,objectSpread2.Z)({},sliderCallbacks),{},{value:isSmoothSlider?smoothValue:converter.normalize(value),sizeLimits:sizeLimits.map((function(n){return n/bounds.size})),direction:direction,thickness:thickness}))})};try{NumberRangeInputWithSlider.displayName="NumberRangeInputWithSlider",NumberRangeInputWithSlider.__docgenInfo={description:"",displayName:"NumberRangeInputWithSlider",props:{bounds:{defaultValue:null,description:"Диапазон минимального и максимального значений",name:"bounds",required:!0,type:{name:"NumbersRange"}},isSmoothSlider:{defaultValue:null,description:"",name:"isSmoothSlider",required:!1,type:{name:"boolean"}},rangeMinSize:{defaultValue:null,description:"",name:"rangeMinSize",required:!1,type:{name:"number"}},rangeMaxSize:{defaultValue:null,description:"",name:"rangeMaxSize",required:!1,type:{name:"number"}},inputStyle:{defaultValue:null,description:"",name:"inputStyle",required:!1,type:{name:"CSSProperties"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},direction:{defaultValue:null,description:"",name:"direction",required:!1,type:{name:"IDirection"}},handlesKeys:{defaultValue:null,description:"",name:"handlesKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"ISliderCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"ISliderCallback"}},thickness:{defaultValue:null,description:"",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"]={docgenInfo:NumberRangeInputWithSlider.__docgenInfo,name:"NumberRangeInputWithSlider",path:"src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"})}catch(__react_docgen_typescript_loader_error){}var es=__webpack_require__("./node_modules/ramda/es/index.js"),makeStateful_excluded=["initialValue","onChange","value"];function makeStateful(Component){return function(props){props.initialValue;var onChange=props.onChange,propsValue=props.value,restProps=(0,objectWithoutProperties.Z)(props,makeStateful_excluded),isStateful=!(0,es.e$l)("value",props);(0,es.e$l)("value",props)&&(0,es.e$l)("initialValue",props)&&console.error("both arguments 'value' and 'initialValue' cannot be passed at the same time");var _useState=(0,react.useState)(props.initialValue),_useState2=(0,slicedToArray.Z)(_useState,2),stateValue=_useState2[0],setStateValue=_useState2[1],handleChange=(0,react.useCallback)((function(nextValue,options){isStateful&&setStateValue(nextValue),null==onChange||onChange(nextValue,options)}),[isStateful,onChange]),value=isStateful?stateValue:propsValue;if(void 0===value)throw new Error("At least one argument 'value' or 'initialValue' must be passed");var newProps=(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),{},{value:value,onChange:handleChange});return(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)({},newProps))}}try{makeStateful.displayName="makeStateful",makeStateful.__docgenInfo={description:"Добавляет возможность переместить управление состоянием внутрь компонента\n- Принимает компонент с обязательными пропсами: value и onChange.\n- Возвращает компонент с необязательными пропсами: value, onChange, initialValue",displayName:"makeStateful",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/makeStateful.tsx#makeStateful"]={docgenInfo:makeStateful.__docgenInfo,name:"makeStateful",path:"src/decorators/makeStateful.tsx#makeStateful"})}catch(__react_docgen_typescript_loader_error){}var styles=__webpack_require__("./src/utils/styles.ts"),NumberInputWithSliderStateful=makeStateful(NumberInputWithSlider.Y),NumberRangeInputWithSliderStateful=makeStateful(NumberRangeInputWithSlider),Sliders_stories={},Sliders=function Sliders(){var _useState=(0,react.useState)(entities_direction.N.horizontal),_useState2=(0,slicedToArray.Z)(_useState,2),direction=_useState2[0],setDirection=_useState2[1],_useState3=(0,react.useState)(!0),_useState4=(0,slicedToArray.Z)(_useState3,2),isSmooth=_useState4[0],setIsSmooth=_useState4[1],commonProps={thickness:12,isSmoothSlider:isSmooth,direction:direction,inputStyle:{width:50,flexShrink:0}};return(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:entities_direction.N.vertical,children:[(0,jsx_runtime.jsxs)(Space.T,{size:20,children:[(0,jsx_runtime.jsx)("button",{onClick:function handleRotate(){setDirection((function(a){return a.opposite.reversed}))},children:"Rotate"}),(0,jsx_runtime.jsx)(Checkbox.X,{value:isSmooth,onChange:setIsSmooth,label:"Smooth"})]}),(0,jsx_runtime.jsx)("div",{style:{maxWidth:"100%",maxHeight:"100%",width:"700px",height:"500px"},children:(0,jsx_runtime.jsxs)(Space.T,{size:40,direction:direction.opposite.regular,style:styles.$K,children:[(0,jsx_runtime.jsx)(NumberRangeInputWithSliderStateful,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:new numbersRange.K(1,7),bounds:new numbersRange.K(-10,10),rangeMinSize:0})),(0,jsx_runtime.jsx)(NumberRangeInputWithSliderStateful,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:new numbersRange.K(1,7),bounds:new numbersRange.K(-10,10),rangeMaxSize:6})),(0,jsx_runtime.jsx)(NumberRangeInputWithSliderStateful,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:numbersRange.K.byOnlyDelta(10),bounds:new numbersRange.K(-30,30),rangeMinSize:5,rangeMaxSize:20})),(0,jsx_runtime.jsx)(NumberInputWithSliderStateful,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:4,bounds:new numbersRange.K(0,10)}))]})})]})};Sliders.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\n  const [direction, setDirection] = useState(Directions.horizontal);\n  const [isSmooth, setIsSmooth] = useState(true);\n\n  const handleRotate = () => {\n    setDirection((a) => a.opposite.reversed);\n  };\n\n  const commonProps = {\n    thickness: 12,\n    isSmoothSlider: isSmooth,\n    direction,\n    inputStyle: { width: 50, flexShrink: 0 } as const,\n  };\n\n  return (\n    <Space size={40} direction={Directions.vertical}>\n      <Space size={20}>\n        <button onClick={handleRotate}>Rotate</button>\n        <Checkbox value={isSmooth} onChange={setIsSmooth} label="Smooth" />\n      </Space>\n      <div\n        style={{\n          maxWidth: "100%",\n          maxHeight: "100%",\n          width: "700px",\n          height: "500px",\n        }}\n      >\n        <Space\n          size={40}\n          direction={direction.opposite.regular}\n          style={stretchStyle}\n        >\n          <NumberRangeInputWithSliderStateful\n            {...commonProps}\n            initialValue={new NumbersRange(1, 7)}\n            bounds={new NumbersRange(-10, 10)}\n            rangeMinSize={0}\n          />\n          <NumberRangeInputWithSliderStateful\n            {...commonProps}\n            initialValue={new NumbersRange(1, 7)}\n            bounds={new NumbersRange(-10, 10)}\n            rangeMaxSize={6}\n          />\n          <NumberRangeInputWithSliderStateful\n            {...commonProps}\n            initialValue={NumbersRange.byOnlyDelta(10)}\n            bounds={new NumbersRange(-30, 30)}\n            rangeMinSize={5}\n            rangeMaxSize={20}\n          />\n          <NumberInputWithSliderStateful\n            {...commonProps}\n            initialValue={4}\n            bounds={new NumbersRange(0, 10)}\n          />\n        </Space>\n      </div>\n    </Space>\n  );\n}'}},Sliders.parameters);var Sliders_stories_namedExportsOrder=["Sliders"]},"./src/stories/SortableCards.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SortableCards:function(){return SortableCards},__namedExportsOrder:function(){return SortableCards_stories_namedExportsOrder},default:function(){return SortableCards_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),NumberInputWithSlider=__webpack_require__("./src/components/NumberInputWithSlider/index.tsx"),useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),styles=__webpack_require__("./src/utils/styles.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),useCallbackRef=__webpack_require__("./src/decorators/useCallbackRef.ts"),useDragBox=__webpack_require__("./src/components/DraggableBox/useDragBox.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","children","style"],DraggableBox=function DraggableBox(_ref){var value=_ref.value,children=_ref.children,style=_ref.style,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];return(0,useDragBox.B)((0,objectSpread2.Z)({element:element},rest)),(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(value)),{},{position:"absolute"},style),children:react.Children.only(children)})};try{DraggableBox.displayName="DraggableBox",DraggableBox.__docgenInfo={description:"",displayName:"DraggableBox",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DraggableBox/index.tsx#DraggableBox"]={docgenInfo:DraggableBox.__docgenInfo,name:"DraggableBox",path:"src/components/DraggableBox/index.tsx#DraggableBox"})}catch(__react_docgen_typescript_loader_error){}var classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),point=__webpack_require__("./src/entities/point.ts");function sortable_moveIndexAccordingToPosition(action,items){var targetIndex=function defineIndexAfterMove(_ref2,items){for(var endPoint=_ref2.endPoint,sourceIndex=_ref2.sourceIndex,sourceBox=items[sourceIndex].box,movedBox=sourceBox.moveTo(endPoint),searchDirection=Math.sign(endPoint.y-sourceBox.y0),index=sourceIndex;;index+=searchDirection){if(index<0)return 0;if(index>items.length-1)return items.length-1;var currentBoxCy=getBoxCenterY(items[index].box);if(!(1===searchDirection&&movedBox.y2>currentBoxCy||-1===searchDirection&&movedBox.y1<currentBoxCy))return index-searchDirection}}(action,items);return(0,es.pBW)(action.sourceIndex,targetIndex,items)}function sortable_insertAccordingToPosition(item,items){var index=function defineInsertionIndex(item,items){var insertionY=item.box.center.y,_items$reduce=items.reduce((function(acc,_ref,index){var box=_ref.box,distanceToStart=distance(box.y1,insertionY),distanceToEnd=distance(box.y2,insertionY);return distanceToStart>acc.minDistance&&distanceToEnd>acc.minDistance?acc:distanceToEnd>distanceToStart?{insertionIndex:index,minDistance:distanceToStart}:{insertionIndex:index+1,minDistance:distanceToEnd}}),{minDistance:1/0,insertionIndex:0});return _items$reduce.insertionIndex}(item,items);return(0,es.$Tr)(index,item,items)}function distance(a,b){return Math.abs(a-b)}function getBoxCenterY(box){return box.ysRange.denormalizeNumber(.5)}function positionInChain(items){var _step,nextItems=[],lastY=0,_iterator=(0,createForOfIteratorHelper.Z)(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,key=_step$value.key,box=_step$value.box;nextItems.push({key:key,box:box.moveTo(new point.E(0,lastY))}),lastY+=box.height}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nextItems}var SortableItemsState=function(){function SortableItemsState(items){(0,classCallCheck.Z)(this,SortableItemsState),this.items=items}return(0,createClass.Z)(SortableItemsState,[{key:"totalHeight",get:function get(){return(0,es.Smz)(this.items.map((function(_ref){return _ref.box.height})))}},{key:"insertAccordingToPosition",value:function insertAccordingToPosition(item){return new SortableItemsState(sortable_insertAccordingToPosition(item,this.items))}},{key:"align",value:function align(){return new SortableItemsState(positionInChain(this.items))}},{key:"findIndex",value:function findIndex(key){return this.items.findIndex((0,es.OH4)("key",key))}},{key:"moveIndexAccordingToPosition",value:function moveIndexAccordingToPosition(item){return new SortableItemsState(sortable_moveIndexAccordingToPosition({sourceIndex:this.findIndex(item.key),endPoint:item.box.origin},this.items))}},{key:"placeToBottomByKey",value:function placeToBottomByKey(key){var index=this.findIndex(key);return new SortableItemsState((0,es.pBW)(index,this.items.length-1,this.items))}},{key:"removeByKey",value:function removeByKey(key){var index=this.findIndex(key);return new SortableItemsState((0,es.OdJ)(index,1,this.items))}}]),SortableItemsState}();function useTemporaryQueue(expirationTime){var collection=(0,react.useState)((function(){return[]}))[0],timeout=(0,react.useRef)(),forceUpdate=function useForceUpdate(){return(0,react.useReducer)(es.aEe,0)[1]}();(0,react.useEffect)((function(){return function(){void 0!==timeout.current&&clearTimeout(timeout.current)}}),[]);var push=(0,react.useCallback)((function(value){collection.push(value),forceUpdate(),timeout.current=setTimeout((function(){collection.splice(collection.indexOf(value),1),forceUpdate()}),expirationTime)}),[collection,expirationTime,forceUpdate]),getOrder=(0,react.useCallback)((function(value){return collection.indexOf(value)}),[collection]);return(0,react.useMemo)((function(){return{push:push,getOrder:getOrder}}),[push,getOrder])}var dom=__webpack_require__("./src/utils/dom.ts"),common=__webpack_require__("./src/utils/common.ts"),DndConnectionContext=(0,react.createContext)({register:(0,es.Bxt)(common.Z),onDrag:(0,es.Bxt)({canDrop:!1}),onDrop:(0,es.Bxt)({canDrop:!1})}),DndContainer=function(){function DndContainer(key,box){(0,classCallCheck.Z)(this,DndContainer),this.key=key,this.box=box,this.connection={onDragIn:common.Z,onDragOn:common.Z,onDropIn:common.Z,onDragOut:common.Z,canDrop:(0,es.Bxt)(!1)}}return(0,createClass.Z)(DndContainer,[{key:"updateConnection",value:function updateConnection(connection){this.connection=(0,objectSpread2.Z)((0,objectSpread2.Z)({},this.connection),connection)}},{key:"isOverlapWith",value:function isOverlapWith(box){return this.box.intersectionArea(box)>0}},{key:"isSame",value:function isSame(other){return other&&this.key===other.key}}]),DndContainer}();var DndElement=function(){function DndElement(key,box){(0,classCallCheck.Z)(this,DndElement),this.key=key,this.box=box}return(0,createClass.Z)(DndElement,[{key:"placeRelative",value:function placeRelative(targetBox){return this.replaceBox(targetBox.placeInside(this.box))}},{key:"replaceBox",value:function replaceBox(box){return new DndElement(this.key,box)}}]),DndElement}(),SortableContainer=function SortableContainer(_ref){var id=_ref.id,box=_ref.box,initialItems=_ref.items,_ref$transitionDurati=_ref.transitionDuration,transitionDuration=void 0===_ref$transitionDurati?0:_ref$transitionDurati,style=_ref.style,renderItem=_ref.renderItem,containerBox=(0,react.useMemo)((function(){return box.resetOrigin()}),[box]),_useState=(0,react.useState)((function(){return new SortableItemsState(initialItems)})),_useState2=(0,slicedToArray.Z)(_useState,2),itemsState=_useState2[0],setItemsState=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isOverlayAccepted=_useState4[0],setIsOverlayAccepted=_useState4[1],_useState5=(0,react.useState)(null),_useState6=(0,slicedToArray.Z)(_useState5,2),overlayItem=_useState6[0],setOverlayItem=_useState6[1],droppingKeys=useTemporaryQueue(transitionDuration),actualItemsState=(0,useActualRef.s)(itemsState),_useDndConnection=function useDndConnection(containerKey,connection){var _useContext=(0,react.useContext)(DndConnectionContext),onDrag=_useContext.onDrag,onDrop=_useContext.onDrop,register=_useContext.register,_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1],container=(0,react.useRef)(null);return(0,react.useEffect)((function(){if(element)return container.current=new DndContainer(containerKey,(0,dom.RR)(element)),register(container.current)}),[register,containerKey,element]),(0,react.useEffect)((function(){var _container$current;null===(_container$current=container.current)||void 0===_container$current||_container$current.updateConnection(connection)}),[connection]),{ref:setElement,onDrag:onDrag,onDrop:onDrop}}(id,(0,objectSpread2.Z)((0,objectSpread2.Z)({},function useThirdPartyItemHandlers(_ref){var setOverlayItem=_ref.setOverlayItem,setItemsState=_ref.setItemsState,onDragIn=(0,react.useCallback)((function(item){setOverlayItem(item),setItemsState((function(state){return state.insertAccordingToPosition(item).align()}))}),[setOverlayItem,setItemsState]),onDragOut=(0,react.useCallback)((function(key){setOverlayItem(null),setItemsState((function(state){return state.removeByKey(key).align()}))}),[setOverlayItem,setItemsState]);return{onDragIn:onDragIn,onDragOn:(0,react.useCallback)((function(item){setOverlayItem(item),setItemsState((function(state){return state.moveIndexAccordingToPosition(item).align()}))}),[setOverlayItem,setItemsState]),onDragOut:onDragOut}}({setOverlayItem:setOverlayItem,setItemsState:setItemsState})),{},{canDrop:(0,react.useCallback)((function(item){return actualItemsState.current.totalHeight+item.box.height<=containerBox.height}),[actualItemsState,containerBox]),onDropIn:(0,react.useCallback)((function(){setOverlayItem((function(item){return item&&droppingKeys.push(item.key),null}))}),[droppingKeys])})),ref=_useDndConnection.ref,onDrag=_useDndConnection.onDrag,onDrop=_useDndConnection.onDrop,handleChange=(0,react.useCallback)((function(key,_ref2){var box=_ref2.box,canDrop=onDrag(id,new DndElement(key,box)).canDrop;setIsOverlayAccepted(canDrop);var item={key:key,box:box};setOverlayItem(item),setItemsState((function(state){return containerBox.isIntersect(box)?state.moveIndexAccordingToPosition(item).align():state.placeToBottomByKey(key).align()}))}),[id,onDrag,containerBox]),handleEnd=(0,react.useCallback)((function(key,_ref3){var box=_ref3.box,canDrop=onDrop(id,new DndElement(key,box)).canDrop;setIsOverlayAccepted(!1),setOverlayItem(null),droppingKeys.push(key),setItemsState((function(state){return canDrop?state.removeByKey(key).align():state.moveIndexAccordingToPosition({key:key,box:box}).align()}))}),[droppingKeys,onDrop,id]),sortedItems=(0,react.useMemo)((function(){return(0,es.MRu)((0,es.vgT)("key"),itemsState.items)}),[itemsState.items]);return(0,jsx_runtime.jsx)("div",{ref:ref,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(containerBox)),{},{position:"relative"},style),children:sortedItems.map((function(item){var hasOverlay=(null==overlayItem?void 0:overlayItem.key)===item.key,itemStyle=hasOverlay?{cursor:containerBox.isIntersect(overlayItem.box)?"move":"not-allowed",visibility:isOverlayAccepted?"hidden":"visible",zIndex:Number.MAX_SAFE_INTEGER}:{cursor:"move",transitionDuration:"".concat(transitionDuration,"ms"),transitionProperty:"top left",zIndex:droppingKeys.getOrder(item.key)+1};return(0,jsx_runtime.jsx)(DraggableBox,{value:hasOverlay?overlayItem.box:item.box,onChange:function onChange(e){return handleChange(item.key,e)},onEnd:function onEnd(e){return handleEnd(item.key,e)},style:itemStyle,children:renderItem(item)},item.key)}))})};try{SortableContainer.displayName="SortableContainer",SortableContainer.__docgenInfo={description:"",displayName:"SortableContainer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ISortableItem[]"}},transitionDuration:{defaultValue:{value:"0"},description:"",name:"transitionDuration",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(item: ISortableItem) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SortableContainer/index.tsx#SortableContainer"]={docgenInfo:SortableContainer.__docgenInfo,name:"SortableContainer",path:"src/components/SortableContainer/index.tsx#SortableContainer"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx");var DndConnector=function DndConnector(_ref){var children=_ref.children,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),containers=_useState2[0],setContainers=_useState2[1],register=(0,react.useCallback)((function(item){return setContainers((0,es.R3I)(item)),function unregister(){setContainers((0,es.d1t)((0,es.OH4)("key",item.key)))}}),[]),prepareDndEvent=(0,react.useCallback)((function(containerKey,item){var _containers$find,sourceContainer=(0,es.sEJ)((0,es.OH4)("key",containerKey),containers);if(!sourceContainer)throw new Error("Контейнер с ключом ".concat(containerKey," не зарегистрирован. Убедитесь, что ref связан с элементом"));var itemBoxOnViewport=sourceContainer.box.placeOutside(item.box),isNotSourceContainer=(0,es.CyQ)((0,es.U4f)(sourceContainer));return{targetContainer:null!==(_containers$find=containers.find((0,es.HkC)(isNotSourceContainer,(function isContainerOverlapBox(container){return container.isOverlapWith(itemBoxOnViewport)}))))&&void 0!==_containers$find?_containers$find:null,itemOnViewport:item.replaceBox(itemBoxOnViewport)}}),[containers]),_useDndNotifier=function useDndNotifier(){var availableContainers=(0,react.useState)((function(){return new Map}))[0],visitedContainers=(0,react.useState)((function(){return new Map}))[0];return{notifyAboutDrag:(0,react.useCallback)((function(_ref){var item=_ref.itemOnViewport,container=_ref.targetContainer,previousContainer=visitedContainers.get(item.key);if(visitedContainers.set(item.key,container),previousContainer&&!previousContainer.isSame(container)&&previousContainer.isSame(availableContainers.get(item.key))&&(availableContainers.delete(item.key),previousContainer.connection.onDragOut(item.key)),!container)return{canDrop:!1};var isDragIn=previousContainer!==container,relativeItem=item.placeRelative(container.box);return isDragIn&&container.connection.canDrop(relativeItem)?(availableContainers.set(item.key,container),container.connection.onDragIn(relativeItem),{canDrop:!0}):availableContainers.has(item.key)?(container.connection.onDragOn(relativeItem),{canDrop:!0}):{canDrop:!1}}),[availableContainers,visitedContainers]),notifyAboutDrop:(0,react.useCallback)((function(_ref2){var item=_ref2.itemOnViewport,container=_ref2.targetContainer;return visitedContainers.delete(item.key),availableContainers.delete(item.key)&&container?(container.connection.onDropIn(item.placeRelative(container.box)),{canDrop:!0}):{canDrop:!1}}),[availableContainers,visitedContainers])}}(),notifyAboutDrag=_useDndNotifier.notifyAboutDrag,notifyAboutDrop=_useDndNotifier.notifyAboutDrop,onDrag=(0,react.useCallback)((0,es.qCK)(notifyAboutDrag,prepareDndEvent),[notifyAboutDrag,prepareDndEvent]),onDrop=(0,react.useCallback)((0,es.qCK)(notifyAboutDrop,prepareDndEvent),[notifyAboutDrop,prepareDndEvent]);return(0,jsx_runtime.jsx)(DndConnectionContext.Provider,{value:(0,react.useMemo)((function(){return{register:register,onDrag:onDrag,onDrop:onDrop}}),[register,onDrag,onDrop]),children:children})};try{DndConnector.displayName="DndConnector",DndConnector.__docgenInfo={description:"Выступает в роли сервера между контейнерами, которые хотят обменяться элементами",displayName:"DndConnector",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/dndConnection/dndConnector.tsx#DndConnector"]={docgenInfo:DndConnector.__docgenInfo,name:"DndConnector",path:"src/decorators/dndConnection/dndConnector.tsx#DndConnector"})}catch(__react_docgen_typescript_loader_error){}var decorators_theme=__webpack_require__("./src/decorators/theme.ts"),boundingBox=__webpack_require__("./src/entities/boundingBox.ts"),direction=__webpack_require__("./src/entities/direction.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),SortableCards_stories={},generateItems=function generateItems(colors,sizes){return positionInChain((0,es.yL_)((function(color,height){return{key:color,box:boundingBox.k.byDeltas(0,0,200,height)}}),colors,sizes))},SortableCards=function SortableCards(){var theme=(0,decorators_theme.Fg)(),_useState=(0,react.useState)(300),_useState2=(0,slicedToArray.Z)(_useState,2),transitionDuration=_useState2[0],setTransitionDuration=_useState2[1],items=generateItems(["red","blue","green","purple"],[50,100,100,150]),items2=generateItems(["orange","black","yellow","deepskyblue"],[50,100,100,150]);function renderItem(_ref){var key=_ref.key;return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:key,borderRadius:theme.largeBorderRadius,opacity:.7})})}var containerStyle={background:theme.backgroundColor,flexShrink:0,borderRadius:theme.largeBorderRadius};return(0,jsx_runtime.jsxs)(Space.T,{size:50,direction:direction.N.vertical,children:[(0,jsx_runtime.jsxs)(Space.T,{size:4,direction:direction.N.vertical,style:{width:400},children:["Duration, ms",(0,jsx_runtime.jsx)(NumberInputWithSlider.Y,{value:transitionDuration,onChange:setTransitionDuration,thickness:10,bounds:new numbersRange.K(100,2e3)})]}),(0,jsx_runtime.jsx)(Space.T,{size:350,style:{position:"relative"},children:(0,jsx_runtime.jsxs)(DndConnector,{children:[(0,jsx_runtime.jsx)(SortableContainer,{id:"first",items:items,transitionDuration:transitionDuration,box:boundingBox.k.byDeltas(0,0,200,600),style:containerStyle,renderItem:renderItem}),(0,jsx_runtime.jsx)(SortableContainer,{id:"second",items:items2,transitionDuration:transitionDuration,box:boundingBox.k.byDeltas(0,0,200,600),style:containerStyle,renderItem:renderItem})]})})]})};SortableCards.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const theme = useTheme();\r\n  const [transitionDuration, setTransitionDuration] = useState(300);\r\n\r\n  const items = generateItems(\r\n    ["red", "blue", "green", "purple"],\r\n    [50, 100, 100, 150]\r\n  );\r\n\r\n  const items2 = generateItems(\r\n    ["orange", "black", "yellow", "deepskyblue"],\r\n    [50, 100, 100, 150]\r\n  );\r\n\r\n  function renderItem({ key }: ISortableItem) {\r\n    return (\r\n      <div\r\n        style={{\r\n          ...stretchStyle,\r\n          background: key,\r\n          borderRadius: theme.largeBorderRadius,\r\n          opacity: 0.7,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  const containerStyle = {\r\n    background: theme.backgroundColor,\r\n    flexShrink: 0,\r\n    borderRadius: theme.largeBorderRadius,\r\n  };\r\n\r\n  return (\r\n    <Space size={50} direction={Directions.vertical}>\r\n      <Space size={4} direction={Directions.vertical} style={{ width: 400 }}>\r\n        Duration, ms\r\n        <NumberInputWithSlider\r\n          value={transitionDuration}\r\n          onChange={setTransitionDuration}\r\n          thickness={10}\r\n          bounds={new NumbersRange(100, 2000)}\r\n        />\r\n      </Space>\r\n      <Space size={350} style={{ position: "relative" }}>\r\n        <DndConnector>\r\n          <SortableContainer\r\n            id="first"\r\n            items={items}\r\n            transitionDuration={transitionDuration}\r\n            box={BoundingBox.byDeltas(0, 0, width, 600)}\r\n            style={containerStyle}\r\n            renderItem={renderItem}\r\n          />\r\n          <SortableContainer\r\n            id="second"\r\n            items={items2}\r\n            transitionDuration={transitionDuration}\r\n            box={BoundingBox.byDeltas(0, 0, width, 600)}\r\n            style={containerStyle}\r\n            renderItem={renderItem}\r\n          />\r\n        </DndConnector>\r\n      </Space>\r\n    </Space>\r\n  );\r\n}'}},SortableCards.parameters);var SortableCards_stories_namedExportsOrder=["SortableCards"]},"./src/stories/SwipeCards.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SwipeCards:function(){return SwipeCards},__namedExportsOrder:function(){return SwipeCards_stories_namedExportsOrder},default:function(){return SwipeCards_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),useCallbackRef=__webpack_require__("./src/decorators/useCallbackRef.ts"),entities_direction=__webpack_require__("./src/entities/direction.ts"),styles=__webpack_require__("./src/utils/styles.ts"),dom=__webpack_require__("./src/utils/dom.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),decorators_theme=__webpack_require__("./src/decorators/theme.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ScrollIndicator=function ScrollIndicator(_ref){var direction=_ref.direction,length=_ref.length,thickness=_ref.thickness,viewPort=_ref.viewPort,isActive=_ref.isActive,box=direction.boxFromRanges(numbersRange.K.byOnlyDelta(length),numbersRange.K.byOnlyDelta(thickness)),thumbBox=direction.boxFromRanges(viewPort.map((function(n){return n*length})),numbersRange.K.byOnlyDelta(thickness)),theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(box)),{},{position:"relative",background:"transparent",overflow:"hidden"}),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({position:"absolute"},(0,styles.b8)(thumbBox)),{},{background:theme.scrollColor,transitionProperty:"opacity",transitionDuration:"500ms",borderRadius:theme.smallBorderRadius,border:"1px solid ".concat(theme.strokeColor),boxSizing:"border-box",opacity:isActive?1:0})})})};try{ScrollIndicator.displayName="ScrollIndicator",ScrollIndicator.__docgenInfo={description:"",displayName:"ScrollIndicator",props:{thickness:{defaultValue:null,description:"",name:"thickness",required:!0,type:{name:"number"}},length:{defaultValue:null,description:"",name:"length",required:!0,type:{name:"number"}},direction:{defaultValue:null,description:"",name:"direction",required:!0,type:{name:"IDirection"}},viewPort:{defaultValue:null,description:"",name:"viewPort",required:!0,type:{name:"NumbersRange"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ScrollIndicator/index.tsx#ScrollIndicator"]={docgenInfo:ScrollIndicator.__docgenInfo,name:"ScrollIndicator",path:"src/components/ScrollIndicator/index.tsx#ScrollIndicator"})}catch(__react_docgen_typescript_loader_error){}var useDrag=__webpack_require__("./src/components/Draggable/useDrag.ts"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ScrollConstraints=function(){function ScrollConstraints(scrollLength,extrusionZoneLength){(0,classCallCheck.Z)(this,ScrollConstraints),this.scrollLength=scrollLength,this.extrusionZoneLength=extrusionZoneLength}return(0,createClass.Z)(ScrollConstraints,[{key:"bounds",get:function get(){return numbersRange.K.byOnlyDelta(this.scrollLength)}},{key:"overflowBounds",get:function get(){return this.bounds.expandEvenly(this.extrusionZoneLength)}},{key:"startExtrusionZone",get:function get(){return numbersRange.K.byDelta(-this.extrusionZoneLength,this.extrusionZoneLength)}},{key:"endExtrusionZone",get:function get(){return numbersRange.K.byDelta(this.scrollLength,this.extrusionZoneLength)}}]),ScrollConstraints}(),ScrollingState=function(){function ScrollingState(coordinate,constraints,impulse){(0,classCallCheck.Z)(this,ScrollingState),this.coordinate=coordinate,this.constraints=constraints,this.impulse=impulse,this.friction=.03,this.extrusion=.05,constraints.overflowBounds.includes(coordinate)||(this.impulse=0,this.coordinate=constraints.overflowBounds.clampNumber(coordinate))}return(0,createClass.Z)(ScrollingState,[{key:"velocity",get:function get(){return this.impulse/1}},{key:"reset",value:function reset(){return new ScrollingState(0,this.constraints,0)}},{key:"setConstraints",value:function setConstraints(a){return new ScrollingState(this.coordinate,a,this.impulse)}},{key:"setImpulse",value:function setImpulse(a){return new ScrollingState(this.coordinate,this.constraints,a)}},{key:"suppressEscapeImpulse",value:function suppressEscapeImpulse(){var overflowK=this.overflowK;if(0===overflowK||!this.isTendEscape)return this;return this.setImpulse(this.impulse*(1-function parabolic(k){return Math.pow(k,2)}(overflowK)))}},{key:"isTendEscape",get:function get(){return this.coordinate<this.constraints.bounds.start&&this.impulse<0||this.coordinate>this.constraints.bounds.end&&this.impulse>0}},{key:"overflowK",get:function get(){var coordinate=this.coordinate,constraints=this.constraints;return coordinate<constraints.bounds.start?1-constraints.startExtrusionZone.normalizeNumber(coordinate):coordinate>constraints.bounds.end?constraints.endExtrusionZone.normalizeNumber(coordinate):0}},{key:"transmitImpulse",value:function transmitImpulse(a){return this.setImpulse(this.impulse+a)}},{key:"moveByImpulse",value:function moveByImpulse(){return new ScrollingState(this.coordinate+this.velocity,this.constraints,this.impulse)}},{key:"doInertialMove",value:function doInertialMove(dt){var environmentImpulse=this.calcExtrusionImpulse(dt)+this.calcBrakingImpulse(dt),nextState=this.transmitImpulse(environmentImpulse).moveByImpulse();return this.inExtrusionZone&&!nextState.inExtrusionZone?new ScrollingState(this.constraints.bounds.clampNumber(this.coordinate),this.constraints,0):nextState}},{key:"isActive",value:function isActive(){return 0!==this.impulse||this.inExtrusionZone}},{key:"inExtrusionZone",get:function get(){return!this.constraints.bounds.includes(this.coordinate)}},{key:"calcBrakingImpulse",value:function calcBrakingImpulse(dt){return(0,es.Fa1)(Math.abs,-this.impulse,Math.sign(this.impulse)*-this.friction*dt)}},{key:"calcExtrusionImpulse",value:function calcExtrusionImpulse(dt){return dt*(this.coordinate<this.constraints.bounds.start?this.extrusion:this.coordinate>this.constraints.bounds.end?-this.extrusion:0)}}]),ScrollingState}(),SwipeContainer=function SwipeContainer(_ref){var _ref3,box=_ref.box,children=_ref.children,_ref$direction=_ref.direction,direction=void 0===_ref$direction?entities_direction.N.horizontal:_ref$direction,_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1],dragTimestamp=(0,react.useRef)(0),request=(0,react.useRef)(0),_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),contentLength=_useState2[0],setContentLength=_useState2[1];(0,react.useEffect)((function(){var _element$childNodes,content=null==element||null===(_element$childNodes=element.childNodes)||void 0===_element$childNodes?void 0:_element$childNodes[0];if(content instanceof HTMLElement){var contentBox=(0,dom.RR)(content);setContentLength(direction.length(contentBox.size))}}),[element,direction]),(0,react.useEffect)((function(){setScrollingState((function(state){return state.reset()}))}),[direction]);var containerLength=direction.length(box.size),maxCoordinate=Math.max(0,contentLength-containerLength),scrollingConstraints=(0,react.useMemo)((function(){return new ScrollConstraints(maxCoordinate,100)}),[maxCoordinate]),_useState3=(0,react.useState)((function(){return new ScrollingState(0,scrollingConstraints,0)})),_useState4=(0,slicedToArray.Z)(_useState3,2),scrollingState=_useState4[0],setScrollingState=_useState4[1];(0,react.useEffect)((function(){setScrollingState((function(state){return state.setConstraints(scrollingConstraints)}))}),[scrollingConstraints]);var _useState5=(0,react.useState)(!1),_useState6=(0,slicedToArray.Z)(_useState5,2),isDrag=_useState6[0],setIsDrag=_useState6[1];(0,useDrag.c)({element:element,onChange:function handleDrag(_ref2){var movement=_ref2.movement;dragTimestamp.current=performance.now();var impulse=-direction.coordinatesOfPoint(movement)[0];setScrollingState((function(state){return state.setImpulse(impulse).suppressEscapeImpulse().moveByImpulse()}))},onStart:function handleDragStart(){setIsDrag(!0),cancelAnimationFrame(request.current)},onEnd:function handleDragEnd(){setIsDrag(!1),performance.now()-dragTimestamp.current<40||scrollingState.inExtrusionZone?function startMoving(){var prevTimestamp;cancelAnimationFrame(request.current),function move(){request.current=requestAnimationFrame((function(timestamp){var _prevTimestamp,dt=timestamp-(null!==(_prevTimestamp=prevTimestamp)&&void 0!==_prevTimestamp?_prevTimestamp:timestamp);prevTimestamp=timestamp,setScrollingState((function(state){var nextState=state.doInertialMove(dt);return nextState.isActive()&&move(),nextState}))}))}()}():setScrollingState((function(state){return state.setImpulse(0)}))}});var viewPort=numbersRange.K.byDelta(scrollingState.coordinate,containerLength),theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsxs)("div",{ref:setElement,style:(0,objectSpread2.Z)({display:"inline-block",background:theme.backgroundColor,userSelect:"none",cursor:"grab",position:"relative",overflow:"hidden",borderRadius:theme.largeBorderRadius},(0,styles.b8)(box)),children:[(0,jsx_runtime.jsx)("div",{style:(_ref3={position:"absolute"},(0,defineProperty.Z)(_ref3,direction.cssKeys.thickness,"100%"),(0,defineProperty.Z)(_ref3,direction.cssKeys.normalCoordinate,0),(0,defineProperty.Z)(_ref3,direction.cssKeys.coordinate,-scrollingState.coordinate),_ref3),children:children}),(0,jsx_runtime.jsx)("div",{style:(0,defineProperty.Z)({position:"absolute"},direction.reversed.cssKeys.normalCoordinate,0),children:(0,jsx_runtime.jsx)(ScrollIndicator,{isActive:0!==scrollingState.impulse||isDrag,direction:direction,length:containerLength,thickness:5,viewPort:viewPort.map((function(n){return n/contentLength}))})})]})};try{SwipeContainer.displayName="SwipeContainer",SwipeContainer.__docgenInfo={description:"",displayName:"SwipeContainer",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SwipeContainer/index.tsx#SwipeContainer"]={docgenInfo:SwipeContainer.__docgenInfo,name:"SwipeContainer",path:"src/components/SwipeContainer/index.tsx#SwipeContainer"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx"),boundingBox=__webpack_require__("./src/entities/boundingBox.ts"),SwipeCards_stories={},SwipeCards=function SwipeCards(){var _useState=(0,react.useState)(entities_direction.N.horizontal),_useState2=(0,slicedToArray.Z)(_useState,2),direction=_useState2[0],setDirection=_useState2[1],handleRotate=(0,react.useCallback)((function(){setDirection((function(prevDir){return prevDir.opposite}))}),[]),viewBox=direction.boxFromRanges(numbersRange.K.byOnlyDelta(800),numbersRange.K.byOnlyDelta(200)),oddItemBox=boundingBox.k.square(0,0,200),evenItemBox=direction.boxFromRanges(numbersRange.K.byOnlyDelta(400),numbersRange.K.byOnlyDelta(200)),theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsxs)(Space.T,{direction:entities_direction.N.vertical,size:20,children:[(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{onClick:handleRotate,children:"Rotate"})}),(0,jsx_runtime.jsx)(SwipeContainer,{box:viewBox,direction:direction,children:(0,jsx_runtime.jsx)(Space.T,{size:theme.smallIndent,direction:direction,children:(0,es.DZ1)((function(i){return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(i%2==0?evenItemBox:oddItemBox)),styles.FV),{},{background:theme.primaryColor,color:theme.textColor,borderRadius:theme.largeBorderRadius}),children:i},i)}),20)})})]})};SwipeCards.parameters=(0,objectSpread2.Z)({storySource:{source:"() => {\r\n  const [direction, setDirection] = useState(Directions.horizontal);\r\n\r\n  const handleRotate = useCallback(() => {\r\n    setDirection((prevDir) => prevDir.opposite);\r\n  }, []);\r\n\r\n  const thickness = 200;\r\n\r\n  const viewBox = direction.boxFromRanges(\r\n    NumbersRange.byOnlyDelta(800),\r\n    NumbersRange.byOnlyDelta(thickness)\r\n  );\r\n\r\n  const oddItemBox = BoundingBox.square(0, 0, thickness);\r\n\r\n  const evenItemBox = direction.boxFromRanges(\r\n    NumbersRange.byOnlyDelta(thickness * 2),\r\n    NumbersRange.byOnlyDelta(thickness)\r\n  );\r\n\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <Space direction={Directions.vertical} size={20}>\r\n      <div>\r\n        <button onClick={handleRotate}>Rotate</button>\r\n      </div>\r\n      <SwipeContainer box={viewBox} direction={direction}>\r\n        <Space size={theme.smallIndent} direction={direction}>\r\n          {times(\r\n            (i: number) => (\r\n              <div\r\n                key={i}\r\n                style={{\r\n                  ...getBoxStyle(i % 2 === 0 ? evenItemBox : oddItemBox),\r\n                  ...centererStyle,\r\n                  background: theme.primaryColor,\r\n                  color: theme.textColor,\r\n                  borderRadius: theme.largeBorderRadius,\r\n                }}\r\n              >\r\n                {i}\r\n              </div>\r\n            ),\r\n            20\r\n          )}\r\n        </Space>\r\n      </SwipeContainer>\r\n    </Space>\r\n  );\r\n}"}},SwipeCards.parameters);var SwipeCards_stories_namedExportsOrder=["SwipeCards"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/components/Checkbox/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{X:function(){return Checkbox}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Checkbox=function Checkbox(_ref){var label=_ref.label,value=_ref.value,onChange=_ref.onChange;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{checked:value,type:"checkbox",onChange:function(_onChange){function onChange(_x){return _onChange.apply(this,arguments)}return onChange.toString=function(){return _onChange.toString()},onChange}((function(_ref2){var checked=_ref2.target.checked;onChange(checked)}))}),label]})};try{Checkbox.displayName="Checkbox",Checkbox.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Checkbox/index.tsx#Checkbox"]={docgenInfo:Checkbox.__docgenInfo,name:"Checkbox",path:"src/components/Checkbox/index.tsx#Checkbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Draggable/useDrag.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c:function(){return useDrag}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),dom=__webpack_require__("./src/utils/dom.ts"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),point=__webpack_require__("./src/entities/point.ts"),DragListener=function(){function DragListener(element){(0,classCallCheck.Z)(this,DragListener),this.element=element,this.offset=point.E.nullish,this.callbacks={onStart:common.Z,onChange:common.Z,onEnd:common.Z},this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this)}return(0,createClass.Z)(DragListener,[{key:"setCallbacks",value:function setCallbacks(callbacks){this.callbacks=(0,objectSpread2.Z)((0,objectSpread2.Z)({},this.callbacks),callbacks)}},{key:"launch",value:function launch(){var _this=this;return this.element.addEventListener("mousedown",this.handleStart),function(){return _this.dispose()}}},{key:"startListeners",value:function startListeners(){document.addEventListener("mousemove",this.handleMove),document.addEventListener("mouseup",this.handleEnd,{once:!0}),document.addEventListener("mouseleave",this.handleEnd,{once:!0})}},{key:"stopListeners",value:function stopListeners(){document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleEnd),document.removeEventListener("mouseleave",this.handleEnd)}},{key:"dispose",value:function dispose(){this.element.removeEventListener("mousedown",this.handleStart),this.stopListeners()}},{key:"handleStart",value:function handleStart(mouseEvent){mouseEvent.preventDefault(),mouseEvent.stopPropagation(),this.offset=(0,dom.oR)(mouseEvent),this.callbacks.onStart(this.mapEvent(mouseEvent)),this.startListeners()}},{key:"handleMove",value:function handleMove(mouseEvent){this.callbacks.onChange(this.mapEvent(mouseEvent))}},{key:"handleEnd",value:function handleEnd(mouseEvent){this.callbacks.onEnd(this.mapEvent(mouseEvent)),this.stopListeners()}},{key:"mapEvent",value:function mapEvent(mouseEvent){return{point:(0,dom._b)(mouseEvent).subtract(this.offset),movement:new point.E(mouseEvent.movementX,mouseEvent.movementY),element:this.element,pressedKeys:(0,dom.QS)(mouseEvent)}}}]),DragListener}();function useDrag(_ref){var element=_ref.element,_ref$isInOwnCoordinat=_ref.isInOwnCoordinates,isInOwnCoordinates=void 0===_ref$isInOwnCoordinat||_ref$isInOwnCoordinat,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd,offsetParentDecorator=(0,react.useCallback)((function(dndCallback){return function(event){var offsetParent=event.element.offsetParent;if(offsetParent){var offset=(0,dom.aC)(offsetParent);dndCallback((0,objectSpread2.Z)((0,objectSpread2.Z)({},event),{},{point:event.point.subtract(offset)}))}else console.error("Не найден offsetParent")}}),[]),listener=(0,react.useMemo)((function(){return element?new DragListener(element):null}),[element]);(0,react.useEffect)((function(){return null==listener?void 0:listener.launch()}),[listener]);var wrapper=isInOwnCoordinates?offsetParentDecorator:es.yRu;null==listener||listener.setCallbacks((0,es.IDH)(wrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd}))}},"./src/components/DraggableBox/useDragBox.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{B:function(){return useDragBox}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_decorators_useActualRef__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/decorators/useActualRef.ts"),_utils_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/utils/common.ts"),_utils_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/dom.ts"),_Draggable_useDrag__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Draggable/useDrag.ts"),_excluded=["onStart","onChange","onEnd"];function useDragBox(_ref){var _ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?_utils_common__WEBPACK_IMPORTED_MODULE_5__.Z:_ref$onStart,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?_utils_common__WEBPACK_IMPORTED_MODULE_5__.Z:_ref$onChange,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?_utils_common__WEBPACK_IMPORTED_MODULE_5__.Z:_ref$onEnd,rest=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_ref,_excluded),paramsRef=(0,_decorators_useActualRef__WEBPACK_IMPORTED_MODULE_2__.s)(rest),addBoxWrapper=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(dndCallback){return function(event){var outerBox=paramsRef.current.outerBox,box=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_3__.RR)(event.element).moveTo(event.point);dndCallback((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},event),{},{box:outerBox?outerBox.clampInner(box):box}))}}),[paramsRef]);return(0,_Draggable_useDrag__WEBPACK_IMPORTED_MODULE_4__.c)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},rest),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.IDH)(addBoxWrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd})))}},"./src/components/InputNumber/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{R:function(){return InputNumber}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),InputNumber=function InputNumber(_ref){var value=_ref.value,onChange=_ref.onChange,min=_ref.min,max=_ref.max,style=_ref.style,handleChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){onChange(Number(event.target.value))}),[onChange]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("input",{type:"number",value:value,onChange:handleChange,min:min,max:max,style:style})};try{InputNumber.displayName="InputNumber",InputNumber.__docgenInfo={description:"",displayName:"InputNumber",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(v: number) => void"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/InputNumber/index.tsx#InputNumber"]={docgenInfo:InputNumber.__docgenInfo,name:"InputNumber",path:"src/components/InputNumber/index.tsx#InputNumber"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/NumberInputWithSlider/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Y:function(){return NumberInputWithSlider}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),useSmoothControl=__webpack_require__("./src/decorators/useSmoothControl.ts"),entities_direction=__webpack_require__("./src/entities/direction.ts"),InputNumber=__webpack_require__("./src/components/InputNumber/index.tsx"),common=__webpack_require__("./src/utils/common.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),Slider=__webpack_require__("./src/components/Slider/index.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","onChange","onStart","onEnd","direction"],SingleSlider=function SingleSlider(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd,_ref$direction=_ref.direction,direction=void 0===_ref$direction?entities_direction.N.horizontal:_ref$direction,rest=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(Slider.i,(0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),{},{value:numbersRange.K.byOnlyDelta(value),onChange:useSingleCallback(onChange),onStart:useSingleCallback(onStart),onEnd:useSingleCallback(onEnd),direction:direction,handlesKeys:direction.isReversed?[0]:[1],isDraggable:!1}))};function useSingleCallback(callback){return(0,react.useCallback)((function(_ref2){var end=_ref2.end;return callback(end)}),[callback])}try{SingleSlider.displayName="SingleSlider",SingleSlider.__docgenInfo={description:"",displayName:"SingleSlider",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"((value: number) => void)"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"((value: number) => void)"}},handlesKeys:{defaultValue:null,description:"",name:"handlesKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},thickness:{defaultValue:null,description:"",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SingleSlider/index.tsx#SingleSlider"]={docgenInfo:SingleSlider.__docgenInfo,name:"SingleSlider",path:"src/components/SingleSlider/index.tsx#SingleSlider"})}catch(__react_docgen_typescript_loader_error){}var Space=__webpack_require__("./src/components/Space/index.tsx"),NumberInputWithSlider_excluded=["smoothValue"],NumberInputWithSlider=function NumberInputWithSlider(_ref){var value=_ref.value,onChange=_ref.onChange,bounds=_ref.bounds,_ref$isSmoothSlider=_ref.isSmoothSlider,isSmoothSlider=void 0!==_ref$isSmoothSlider&&_ref$isSmoothSlider,_ref$direction=_ref.direction,direction=void 0===_ref$direction?entities_direction.N.horizontal:_ref$direction,thickness=_ref.thickness,inputStyle=_ref.inputStyle,converter=(0,react.useMemo)((function(){return{normalize:function normalize(n){return bounds.normalizeNumber(n)},denormalize:function denormalize(n){return Math.round(bounds.denormalizeNumber(n))}}}),[bounds]),_useSmoothControl=(0,useSmoothControl.e)({value:value,onChange:onChange,converter:converter}),smoothValue=_useSmoothControl.smoothValue,sliderCallbacks=(0,objectWithoutProperties.Z)(_useSmoothControl,NumberInputWithSlider_excluded);return(0,jsx_runtime.jsxs)(Space.T,{size:20,direction:direction,align:"center",children:[(0,jsx_runtime.jsx)(SingleSlider,(0,objectSpread2.Z)((0,objectSpread2.Z)({},sliderCallbacks),{},{value:isSmoothSlider?smoothValue:converter.normalize(value),direction:direction,thickness:thickness})),(0,jsx_runtime.jsx)(InputNumber.R,{onChange:onChange,value:value,min:bounds.min,max:bounds.max,style:inputStyle})]})};try{NumberInputWithSlider.displayName="NumberInputWithSlider",NumberInputWithSlider.__docgenInfo={description:"",displayName:"NumberInputWithSlider",props:{bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"NumbersRange"}},isSmoothSlider:{defaultValue:{value:"false"},description:"",name:"isSmoothSlider",required:!1,type:{name:"boolean"}},inputStyle:{defaultValue:null,description:"",name:"inputStyle",required:!1,type:{name:"CSSProperties"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: number) => void"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"((value: number) => void)"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"((value: number) => void)"}},handlesKeys:{defaultValue:null,description:"",name:"handlesKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},thickness:{defaultValue:null,description:"",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumberInputWithSlider/index.tsx#NumberInputWithSlider"]={docgenInfo:NumberInputWithSlider.__docgenInfo,name:"NumberInputWithSlider",path:"src/components/NumberInputWithSlider/index.tsx#NumberInputWithSlider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Resizable/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return Resizable}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),boundingBox=__webpack_require__("./src/entities/boundingBox.ts"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),point=__webpack_require__("./src/entities/point.ts"),ResizingHandle=function(_Point){(0,inherits.Z)(ResizingHandle,_Point);var _super=(0,createSuper.Z)(ResizingHandle);function ResizingHandle(){return(0,classCallCheck.Z)(this,ResizingHandle),_super.apply(this,arguments)}return(0,createClass.Z)(ResizingHandle,[{key:"mirroredPoint",get:function get(){return this.reflectAroundPoint(new point.E(.5,.5))}},{key:"getSignsRelativeTo",value:function getSignsRelativeTo(point){return this.subtract(point).map(Math.sign)}},{key:"resizeBox",value:function resizeBox(box,targetPoint){var origin=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mirroredPoint,sourcePoint=box.denormalizePoint(this),moveVector=targetPoint.subtract(sourcePoint).mul(this.getSignsRelativeTo(origin));return box.addToDeltas(moveVector.x,moveVector.y)}}]),ResizingHandle}(point.E),resizingHandlesPreset=new(function(){function ResizingHandlesPreset(){(0,classCallCheck.Z)(this,ResizingHandlesPreset),this.get=this.get.bind(this)}return(0,createClass.Z)(ResizingHandlesPreset,[{key:"all",get:function get(){return[].concat((0,toConsumableArray.Z)(this.edges),(0,toConsumableArray.Z)(this.corners))}},{key:"edges",get:function get(){return[].concat((0,toConsumableArray.Z)(this.verticalSides),(0,toConsumableArray.Z)(this.horizontalSides))}},{key:"corners",get:function get(){return(0,es.icZ)(this.verticalSides,this.horizontalSides).map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),s1=_ref2[0],s2=_ref2[1];return"".concat(s1,"-").concat(s2)}))}},{key:"horizontalSides",get:function get(){return[boundingBox.y.top,boundingBox.y.bottom]}},{key:"verticalSides",get:function get(){return[boundingBox.y.left,boundingBox.y.right]}},{key:"get",value:function get(key){return this.isCorner(key)?this.getCornerHandle(key):this.getEdgeHandle(key)}},{key:"getCornerHandle",value:function getCornerHandle(key){var _edgeKeys$map=key.split("-").map(this.getEdgeHandle),_edgeKeys$map2=(0,slicedToArray.Z)(_edgeKeys$map,2),p1=_edgeKeys$map2[0],p2=_edgeKeys$map2[1],_p1$mul$map=p1.mul(p2).map(Math.round),x=_p1$mul$map.x,y=_p1$mul$map.y;return new ResizingHandle(x,y)}},{key:"getEdgeHandle",value:function getEdgeHandle(key){switch(key){case boundingBox.y.left:return new ResizingHandle(0,.5);case boundingBox.y.right:return new ResizingHandle(1,.5);case boundingBox.y.top:return new ResizingHandle(.5,0);case boundingBox.y.bottom:return new ResizingHandle(.5,1);default:throw new Error("Incorrect handle key")}}},{key:"isCorner",value:function isCorner(key){return key.includes("-")}}]),ResizingHandlesPreset}());function constrainResizedBox(resizedBox,_ref,_ref2){var sourceBox=_ref.sourceBox,transformOrigin=_ref.transformOrigin,aspectRatio=_ref2.aspectRatio,sizeLimits=_ref2.sizeLimits,outerBox=_ref2.outerBox,keepAspectRatio=null!==aspectRatio;if(keepAspectRatio&&(resizedBox=resizedBox.setAspectRatio(aspectRatio)),resizedBox=resizedBox.constrainSize(sizeLimits.dxLimits,sizeLimits.dyLimits).placeInSameOrigin(sourceBox,transformOrigin).clipByOuter(outerBox),!keepAspectRatio)return resizedBox;if(!(0!==function compareWithPrecision(a,b,precision){return Math.sign(Number(a.toPrecision(precision))-Number(b.toPrecision(precision)))}(aspectRatio,resizedBox.aspectRatio,5)))return resizedBox;var f=Math.sign(resizedBox.area-sourceBox.area)>0?Math.min:Math.max;return sourceBox.scale(f(resizedBox.dx/sourceBox.dx,resizedBox.dy/sourceBox.dy)).placeInSameOrigin(sourceBox,transformOrigin).clampByOuter(outerBox)}var useActualRef=__webpack_require__("./src/decorators/useActualRef.ts");function useResizeWithHandles(params){var onChange=params.onChange,onStart=params.onStart,onEnd=params.onEnd,_params$handlesKeys=params.handlesKeys,handlesKeys=void 0===_params$handlesKeys?resizingHandlesPreset.all:_params$handlesKeys,aspectRatioRef=(0,react.useRef)(null),paramsRef=(0,useActualRef.s)(params),handleItemStart=(0,react.useCallback)((function(_ref){var pressedKeys=_ref.pressedKeys,box=paramsRef.current.box;aspectRatioRef.current=box.aspectRatio,null==onStart||onStart({pressedKeys:pressedKeys,box:box})}),[paramsRef,onStart]),handleItemEnd=(0,react.useCallback)((function(_ref2){var pressedKeys=_ref2.pressedKeys,box=paramsRef.current.box;null==onEnd||onEnd({pressedKeys:pressedKeys,box:box})}),[paramsRef,onEnd]),handleItemDrag=(0,react.useCallback)((function(handle,event){var _paramsRef$current=paramsRef.current,box=_paramsRef$current.box,keepAspectRatio=_paramsRef$current.keepAspectRatio,sizeLimits=_paramsRef$current.sizeLimits,outerBox=_paramsRef$current.outerBox,point=event.point,pressedKeys=event.pressedKeys,resizedBox=handle.resizeBox(box,point),constraints={aspectRatio:keepAspectRatio||pressedKeys.shiftKey?aspectRatioRef.current:null,sizeLimits:sizeLimits,outerBox:outerBox},constrainedBox=constrainResizedBox(resizedBox,{sourceBox:box,transformOrigin:handle.mirroredPoint},constraints);onChange({pressedKeys:pressedKeys,box:constrainedBox})}),[paramsRef,onChange]);return handlesKeys.map((function(key){var handle=resizingHandlesPreset.get(key);return{key:String(key),value:params.box.denormalizePoint(handle),onChange:function onChange(event){handleItemDrag(handle,event)},onStart:handleItemStart,onEnd:handleItemEnd}}))}try{useResizeWithHandles.displayName="useResizeWithHandles",useResizeWithHandles.__docgenInfo={description:"",displayName:"useResizeWithHandles",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IResizeCallback"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IResizeCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IResizeCallback"}},handlesKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"handlesKeys",required:!1,type:{name:"readonly IResizeHandleKey[]"}},sizeLimits:{defaultValue:null,description:"",name:"sizeLimits",required:!0,type:{name:"SizeLimits"}},outerBox:{defaultValue:null,description:"",name:"outerBox",required:!0,type:{name:"BoundingBox"}},keepAspectRatio:{defaultValue:null,description:"",name:"keepAspectRatio",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/hooks/useResizeWithHandles.tsx#useResizeWithHandles"]={docgenInfo:useResizeWithHandles.__docgenInfo,name:"useResizeWithHandles",path:"src/components/Resizable/hooks/useResizeWithHandles.tsx#useResizeWithHandles"})}catch(__react_docgen_typescript_loader_error){}var styles=__webpack_require__("./src/utils/styles.ts"),decorators_theme=__webpack_require__("./src/decorators/theme.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Thumb=function Thumb(){var theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsx)("div",{style:{width:"10px",height:"10px",border:"1px solid ".concat(theme.strokeColor),borderRadius:theme.smallBorderRadius,background:theme.handleColor}})};try{Thumb.displayName="Thumb",Thumb.__docgenInfo={description:"",displayName:"Thumb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Thumb/index.tsx#Thumb"]={docgenInfo:Thumb.__docgenInfo,name:"Thumb",path:"src/components/Thumb/index.tsx#Thumb"})}catch(__react_docgen_typescript_loader_error){}var useDragBox=__webpack_require__("./src/components/DraggableBox/useDragBox.ts"),common=__webpack_require__("./src/utils/common.ts"),entities_sizeLimits=__webpack_require__("./src/entities/sizeLimits.ts"),useCallbackRef=__webpack_require__("./src/decorators/useCallbackRef.ts"),useDrag=__webpack_require__("./src/components/Draggable/useDrag.ts"),Draggable=function Draggable(_ref){var value=_ref.value,onStart=_ref.onStart,onChange=_ref.onChange,onEnd=_ref.onEnd,_ref$isCentered=_ref.isCentered,isCentered=void 0!==_ref$isCentered&&_ref$isCentered,children=_ref.children,style=_ref.style,_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];(0,useDrag.c)({element:element,onStart:onStart,onChange:onChange,onEnd:onEnd});var transform=isCentered?"translate(-50%, -50%)":void 0;return(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.sG)(value)),{},{position:"absolute",transform:transform},style),children:react.Children.only(children)})};try{Draggable.displayName="Draggable",Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Point"}},isCentered:{defaultValue:{value:"false"},description:"Установить origin элемента в центр",name:"isCentered",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragCallback"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/index.tsx#Draggable"]={docgenInfo:Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/index.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}var OutlineHighlighting=function OutlineHighlighting(_ref){var size=_ref.size,box=_ref.box,stage=_ref.stage,theme=(0,decorators_theme.Fg)();return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(box.expandEvenly(stage*size))),{},{position:"absolute",border:"5px solid ".concat(theme.strokeColor),borderRadius:theme.largeBorderRadius,boxSizing:"border-box",opacity:1-stage,visibility:0===stage?"hidden":"visible"})})};try{OutlineHighlighting.displayName="OutlineHighlighting",OutlineHighlighting.__docgenInfo={description:"",displayName:"OutlineHighlighting",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},stage:{defaultValue:null,description:"",name:"stage",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/OutlineHighlighting/index.tsx#OutlineHighlighting"]={docgenInfo:OutlineHighlighting.__docgenInfo,name:"OutlineHighlighting",path:"src/components/OutlineHighlighting/index.tsx#OutlineHighlighting"})}catch(__react_docgen_typescript_loader_error){}var useBooleanState=__webpack_require__("./src/decorators/useBooleanState.ts");var useWheelScaling=__webpack_require__("./src/decorators/useWheelScaling.ts");function useHighlightingOnSizeLimit(value,sizeLimits){var _useAnimationStage=function useAnimationStage(_ref){var _ref$duration=_ref.duration,duration=void 0===_ref$duration?1e3:_ref$duration,_ref$timeFunction=_ref.timeFunction,timeFunction=void 0===_ref$timeFunction?es.yRu:_ref$timeFunction,_ref$shouldInterruptP=_ref.shouldInterruptPrevious,shouldInterruptPrevious=void 0!==_ref$shouldInterruptP&&_ref$shouldInterruptP,_ref$shouldResetOnEnd=_ref.shouldResetOnEnd,shouldResetOnEnd=void 0!==_ref$shouldResetOnEnd&&_ref$shouldResetOnEnd,timer=(0,react.useRef)(),request=(0,react.useRef)(0),_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),stage=_useState2[0],setStage=_useState2[1],animate=(0,react.useCallback)((function(){if(0===request.current&&void 0===timer.current||shouldInterruptPrevious){timer.current&&clearTimeout(timer.current),cancelAnimationFrame(request.current);var prevTimestamp,elapsedTime=0;!function step(){request.current=requestAnimationFrame((function(timestamp){var _prevTimestamp,dt=timestamp-(null!==(_prevTimestamp=prevTimestamp)&&void 0!==_prevTimestamp?_prevTimestamp:timestamp);prevTimestamp=timestamp,elapsedTime=Math.min(elapsedTime+dt,duration);var nextStage=timeFunction(elapsedTime/duration);setStage(nextStage),1!==nextStage?step():(request.current=0,shouldResetOnEnd&&(timer.current=setTimeout((function(){timer.current=void 0,setStage(0)}))))}))}()}}),[duration,timeFunction,shouldInterruptPrevious,shouldResetOnEnd]);return(0,react.useEffect)((function(){return function(){return timer.current&&clearTimeout(timer.current)}}),[]),[stage,animate]}({duration:300,shouldResetOnEnd:!0}),_useAnimationStage2=(0,slicedToArray.Z)(_useAnimationStage,2),highlightingStage=_useAnimationStage2[0],highlight=_useAnimationStage2[1],prevValue=function usePrevious(value){var ref=(0,react.useRef)(null);return(0,react.useEffect)((function(){ref.current=value}),[value]),ref.current}(value);return(0,react.useEffect)((function(){prevValue&&value&&function wasConstrainedBySizeLimits(sourceBox,constrainedBox,sizeLimits){var dxLimits=sizeLimits.dxLimits,dyLimits=sizeLimits.dyLimits;dxLimits=dxLimits.map(Math.round),dyLimits=dyLimits.map(Math.round);var sourceDx=Math.round(sourceBox.dx),sourceDy=Math.round(sourceBox.dy),constrainedDx=Math.round(constrainedBox.dx),constrainedDy=Math.round(constrainedBox.dy);return!dxLimits.isEdge(sourceDx)&&dxLimits.isEdge(constrainedDx)||!dyLimits.isEdge(sourceDy)&&dyLimits.isEdge(constrainedDy)}(prevValue,value,sizeLimits)&&highlight()}),[value,prevValue,highlight,sizeLimits]),highlightingStage}var Resizable=function Resizable(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd,_ref$sizeLimits=_ref.sizeLimits,sizeLimits=void 0===_ref$sizeLimits?new entities_sizeLimits.r:_ref$sizeLimits,_ref$outerBox=_ref.outerBox,outerBox=void 0===_ref$outerBox?boundingBox.k.infinite():_ref$outerBox,_ref$keepAspectRatio=_ref.keepAspectRatio,keepAspectRatio=void 0!==_ref$keepAspectRatio&&_ref$keepAspectRatio,handlesKeys=_ref.handlesKeys,_ref$isDraggable=_ref.isDraggable,isDraggable=void 0===_ref$isDraggable||_ref$isDraggable,_ref$isScalableByWhee=_ref.isScalableByWheel,isScalableByWheel=void 0===_ref$isScalableByWhee||_ref$isScalableByWhee,children=_ref.children,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),element=_useState2[0],setElement=_useState2[1],_useActivityFlag=function useActivityFlag(onStart,onEnd){var _useBooleanState=(0,useBooleanState.z)(!1),_useBooleanState2=(0,slicedToArray.Z)(_useBooleanState,3),isActive=_useBooleanState2[0],setIsActive=_useBooleanState2[1],setIsInactive=_useBooleanState2[2];return[isActive,{onStart:(0,react.useCallback)((0,es.qCK)(setIsActive,onStart),[onStart]),onEnd:(0,react.useCallback)((0,es.qCK)(setIsInactive,onEnd),[onEnd])}]}(onStart,onEnd),_useActivityFlag2=(0,slicedToArray.Z)(_useActivityFlag,2),isActive=_useActivityFlag2[0],edgeCallbacks=_useActivityFlag2[1];(0,useDragBox.B)((0,objectSpread2.Z)({element:isDraggable?element:null,outerBox:outerBox,onChange:onChange},edgeCallbacks)),function useWheelScalableBox(_ref){var element=_ref.element,box=_ref.box,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd,outerBox=_ref.outerBox,sizeLimits=_ref.sizeLimits,keepAspectRatio=_ref.keepAspectRatio,actualBox=(0,useActualRef.s)(box),handleScaleStart=(0,react.useCallback)((function(_ref2){var pressedKeys=_ref2.pressedKeys;onStart({box:actualBox.current,pressedKeys:pressedKeys})}),[actualBox,onStart]),handleScaleEnd=(0,react.useCallback)((function(_ref3){var pressedKeys=_ref3.pressedKeys;onEnd({box:actualBox.current,pressedKeys:pressedKeys})}),[actualBox,onEnd]),handleScale=(0,react.useCallback)((function(_ref4){var pressedKeys=_ref4.pressedKeys,scalingK=_ref4.scalingK,origin=_ref4.origin,value=actualBox.current,scaledBox=value.scale(scalingK),nextBox=constrainResizedBox(scaledBox,{sourceBox:value,transformOrigin:origin},{aspectRatio:keepAspectRatio?scaledBox.aspectRatio:null,outerBox:outerBox,sizeLimits:sizeLimits});onChange({box:nextBox,pressedKeys:pressedKeys})}),[actualBox,onChange,outerBox,sizeLimits,keepAspectRatio]);(0,useWheelScaling.D)(element,{onChange:handleScale,onStart:handleScaleStart,onEnd:handleScaleEnd})}((0,objectSpread2.Z)({box:value,element:isScalableByWheel?element:null,sizeLimits:sizeLimits,outerBox:outerBox,onChange:onChange,keepAspectRatio:keepAspectRatio},edgeCallbacks));var handlesProps=useResizeWithHandles((0,objectSpread2.Z)({box:value,onChange:onChange,sizeLimits:sizeLimits,keepAspectRatio:keepAspectRatio,handlesKeys:handlesKeys,outerBox:outerBox},edgeCallbacks)),highlightingStage=useHighlightingOnSizeLimit(isActive?value:null,sizeLimits),displayedValue=value.sortAscCoordinates();return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(OutlineHighlighting,{box:displayedValue,stage:highlightingStage,size:10}),(0,jsx_runtime.jsx)("div",{ref:setElement,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(displayedValue)),{},{position:"absolute"}),children:react.Children.only(children)}),(0,jsx_runtime.jsx)("div",{children:handlesProps.map((function(handleProps){return(0,jsx_runtime.jsx)(Draggable,(0,objectSpread2.Z)((0,objectSpread2.Z)({isCentered:!0},handleProps),{},{children:(0,jsx_runtime.jsx)(Thumb,{})}))}))})]})};try{Resizable.displayName="Resizable",Resizable.__docgenInfo={description:"",displayName:"Resizable",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},isDraggable:{defaultValue:{value:"true"},description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},isScalableByWheel:{defaultValue:{value:"true"},description:"",name:"isScalableByWheel",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IResizeCallback"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"IResizeCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"IResizeCallback"}},handlesKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"handlesKeys",required:!1,type:{name:"readonly IResizeHandleKey[]"}},sizeLimits:{defaultValue:{value:"new SizeLimits()"},description:"",name:"sizeLimits",required:!1,type:{name:"SizeLimits"}},outerBox:{defaultValue:{value:"BoundingBox.infinite()"},description:"",name:"outerBox",required:!1,type:{name:"BoundingBox"}},keepAspectRatio:{defaultValue:{value:"false"},description:"",name:"keepAspectRatio",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/index.tsx#Resizable"]={docgenInfo:Resizable.__docgenInfo,name:"Resizable",path:"src/components/Resizable/index.tsx#Resizable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ResizableControl/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return ResizableControl}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/common.ts"),_entities_sizeLimits__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/sizeLimits.ts"),_Resizable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Resizable/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","onChange","onStart","onEnd","sizeLimits","outerBox"],ResizableControl=function ResizableControl(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?_utils_common__WEBPACK_IMPORTED_MODULE_4__.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?_utils_common__WEBPACK_IMPORTED_MODULE_4__.Z:_ref$onEnd,_ref$sizeLimits=_ref.sizeLimits,sizeLimits=void 0===_ref$sizeLimits?new _entities_sizeLimits__WEBPACK_IMPORTED_MODULE_1__.r:_ref$sizeLimits,outerBox=_ref.outerBox,rest=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_ref,_excluded),handleChange=useNormalizedCallback(onChange,outerBox),handleStart=useNormalizedCallback(onStart,outerBox),handleEnd=useNormalizedCallback(onEnd,outerBox);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Resizable__WEBPACK_IMPORTED_MODULE_2__.e,(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},rest),{},{value:outerBox.denormalizeInner(value),onChange:handleChange,onStart:handleStart,onEnd:handleEnd,sizeLimits:sizeLimits.denormalize(outerBox.dx,outerBox.dy),outerBox:outerBox}))};function useNormalizedCallback(callback,outerBox){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){return callback((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},event),{},{box:outerBox.normalizeInner(event.box)}))}),[callback,outerBox])}try{ResizableControl.displayName="ResizableControl",ResizableControl.__docgenInfo={description:"Resizable элемент, представленный в нормализованном виде",displayName:"ResizableControl",props:{outerBox:{defaultValue:null,description:"",name:"outerBox",required:!0,type:{name:"BoundingBox"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},isScalableByWheel:{defaultValue:null,description:"",name:"isScalableByWheel",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IResizeCallback"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"IResizeCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"IResizeCallback"}},handlesKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"handlesKeys",required:!1,type:{name:"readonly IResizeHandleKey[]"}},sizeLimits:{defaultValue:{value:"new SizeLimits()"},description:"",name:"sizeLimits",required:!1,type:{name:"SizeLimits"}},keepAspectRatio:{defaultValue:null,description:"",name:"keepAspectRatio",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ResizableControl/index.tsx#ResizableControl"]={docgenInfo:ResizableControl.__docgenInfo,name:"ResizableControl",path:"src/components/ResizableControl/index.tsx#ResizableControl"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Slider/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return Slider}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),entities_direction=__webpack_require__("./src/entities/direction.ts"),numbersRange=__webpack_require__("./src/entities/numbersRange.ts"),ResizableControl=__webpack_require__("./src/components/ResizableControl/index.tsx"),common=__webpack_require__("./src/utils/common.ts"),sizeLimits=__webpack_require__("./src/entities/sizeLimits.ts"),styles=__webpack_require__("./src/utils/styles.ts"),decorators_theme=__webpack_require__("./src/decorators/theme.ts"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),useCallbackRef=__webpack_require__("./src/decorators/useCallbackRef.ts"),dom=__webpack_require__("./src/utils/dom.ts"),entities_size=__webpack_require__("./src/entities/size.ts");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),AutoSizer=function AutoSizer(_ref){var children=_ref.children,_ref$disableHeight=_ref.disableHeight,disableHeight=void 0!==_ref$disableHeight&&_ref$disableHeight,_ref$disableWidth=_ref.disableWidth,disableWidth=void 0!==_ref$disableWidth&&_ref$disableWidth,_useCallbackRef=(0,useCallbackRef.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1],size=function useElementSize(element){var _useState=(0,react.useState)((function(){return entities_size.$.nullish()})),_useState2=(0,slicedToArray.Z)(_useState,2),size=_useState2[0],setSize=_useState2[1];return(0,react.useEffect)((function(){if(element){var observer=new ResizeObserver((function(entries){var _entries$,rect=null===(_entries$=entries[0])||void 0===_entries$?void 0:_entries$.contentRect;rect&&setSize((0,dom.x)(rect).size)}));return observer.observe(element),function(){return observer.unobserve(element)}}}),[element]),size}(element);return(0,jsx_runtime.jsx)("div",{style:{height:disableHeight?void 0:"100%",width:disableWidth?void 0:"100%",minWidth:0,minHeight:0},ref:setElement,children:children(size)})};try{AutoSizer.displayName="AutoSizer",AutoSizer.__docgenInfo={description:"",displayName:"AutoSizer",props:{disableHeight:{defaultValue:{value:"false"},description:"",name:"disableHeight",required:!1,type:{name:"boolean"}},disableWidth:{defaultValue:{value:"false"},description:"",name:"disableWidth",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/autosizer.tsx#AutoSizer"]={docgenInfo:AutoSizer.__docgenInfo,name:"AutoSizer",path:"src/decorators/autosizer.tsx#AutoSizer"})}catch(__react_docgen_typescript_loader_error){}var Slider=function Slider(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd,_ref$direction=_ref.direction,direction=void 0===_ref$direction?entities_direction.N.horizontal:_ref$direction,_ref$handlesKeys=_ref.handlesKeys,handlesKeys=void 0===_ref$handlesKeys?[0,1]:_ref$handlesKeys,thickness=_ref.thickness,isDraggable=_ref.isDraggable,_ref$sizeLimits=_ref.sizeLimits,sizeLimits=void 0===_ref$sizeLimits?numbersRange.K.infinite():_ref$sizeLimits,handleChange=useDirectedCallback(onChange,direction),handleStart=useDirectedCallback(onStart,direction),handleEnd=useDirectedCallback(onEnd,direction),theme=(0,decorators_theme.Fg)(),orientation=direction.orientation;return(0,jsx_runtime.jsx)(AutoSizer,{disableHeight:orientation===entities_direction.X.horizontal,disableWidth:orientation===entities_direction.X.vertical,children:function children(size){var outerBox=direction.boxFromRanges(numbersRange.K.byOnlyDelta(direction.length(size)),numbersRange.K.byOnlyDelta(thickness));return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)({position:"relative",background:theme.backgroundColor,borderRadius:theme.largeBorderRadius},(0,styles.b8)(outerBox)),children:(0,jsx_runtime.jsx)(ResizableControl.E,{isDraggable:isDraggable,outerBox:outerBox,value:direction.boxFromRanges(directRange(value,direction),numbersRange.K.normalizationBounds()),onChange:handleChange,onStart:handleStart,onEnd:handleEnd,sizeLimits:directSizeBounds(sizeLimits,direction),handlesKeys:direction.sides.filter((function(_,i){return handlesKeys.includes(i)})),isScalableByWheel:!1,children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),styles.FV),{},{borderRadius:theme.largeBorderRadius,background:theme.primaryColor})})})})}})};function directSizeBounds(bounds,direction){var boxOfBounds=direction.boxFromRanges(bounds,numbersRange.K.infinite());return new sizeLimits.r(boxOfBounds.xsRange,boxOfBounds.ysRange)}function directRange(range,direction){return direction.isReversed?range.map((function(a){return 1-a})).invert():range}function useDirectedCallback(callback,direction){return(0,react.useCallback)((function(_ref2){var box=_ref2.box,range=direction.rangesOfBox(box)[0];callback(directRange(range,direction))}),[callback,direction])}try{Slider.displayName="Slider",Slider.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"Нормированный диапазон (от 0 до 1)",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"ISliderCallback"}},onStart:{defaultValue:{value:"() => {}"},description:"",name:"onStart",required:!1,type:{name:"ISliderCallback"}},onEnd:{defaultValue:{value:"() => {}"},description:"",name:"onEnd",required:!1,type:{name:"ISliderCallback"}},thickness:{defaultValue:null,description:"",name:"thickness",required:!0,type:{name:"number"}},isDraggable:{defaultValue:null,description:"",name:"isDraggable",required:!1,type:{name:"boolean"}},direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},handlesKeys:{defaultValue:{value:"[0, 1]"},description:"",name:"handlesKeys",required:!1,type:{name:"[0] | [1] | [0, 1]"}},sizeLimits:{defaultValue:{value:"NumbersRange.infinite()"},description:"",name:"sizeLimits",required:!1,type:{name:"NumbersRange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/index.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/Slider/index.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Space/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:function(){return Space}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_entities_direction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/direction.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),Space=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var _ref$direction=_ref.direction,direction=void 0===_ref$direction?_entities_direction__WEBPACK_IMPORTED_MODULE_1__.N.horizontal:_ref$direction,size=_ref.size,children=_ref.children,align=_ref.align,style=_ref.style;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{ref:ref,style:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_4__.Z)({display:"flex",alignItems:align,flexDirection:direction.cssValues.direction},direction.cssKeys.gap,size),style),children:children})}));try{Space.displayName="Space",Space.__docgenInfo={description:"",displayName:"Space",props:{direction:{defaultValue:{value:"Directions.horizontal"},description:"",name:"direction",required:!1,type:{name:"IDirection"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"AlignItems"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Space/index.tsx#Space"]={docgenInfo:Space.__docgenInfo,name:"Space",path:"src/components/Space/index.tsx#Space"})}catch(__react_docgen_typescript_loader_error){}},"./src/decorators/theme.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Fg:function(){return useTheme}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),defaultTheme={primaryColor:"purple",backgroundColor:"grey",textColor:"white",largeIndent:8,smallIndent:4,scrollColor:"white",handleColor:"white",largeBorderRadius:8,smallBorderRadius:2,overlayColor:"rgba(0,0,0,0.5)",strokeColor:"grey"},ThemeContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultTheme);function useTheme(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ThemeContext)}},"./src/decorators/useActualRef.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return useActualRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useActualRef(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return ref.current=value,ref}},"./src/decorators/useBooleanState.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{z:function(){return useBooleanState}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useBooleanState(initialValue){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue),_useState2=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),value=_useState2[0],setValue=_useState2[1];return[value,(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setValue(!0)}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setValue(!1)}),[])]}},"./src/decorators/useCallbackRef.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return useCallbackRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useCallbackRef(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null)}},"./src/decorators/useSmoothControl.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return useSmoothControl}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_useActualRef__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/decorators/useActualRef.ts");function useSmoothControl(_ref){var originalValue=_ref.value,onChange=_ref.onChange,converter=_ref.converter,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),_useState2=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState,2),isActive=_useState2[0],setIsActive=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((function(){return converter.normalize(originalValue)})),_useState4=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_useState3,2),smoothValue=_useState4[0],setSmoothValue=_useState4[1],actualExternalValue=(0,_useActualRef__WEBPACK_IMPORTED_MODULE_2__.s)(originalValue),handleControlChange=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(nextSmoothValue){setIsActive(!0),setSmoothValue(nextSmoothValue);var outputValue=converter.denormalize(nextSmoothValue);(0,ramda__WEBPACK_IMPORTED_MODULE_0__.fS0)(actualExternalValue.current,outputValue)||onChange(outputValue)}),[actualExternalValue,converter,onChange]),handleControlEnd=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(){setIsActive(!1)}),[]);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){isActive||setSmoothValue(converter.normalize(originalValue))}),[isActive,originalValue,converter]),{smoothValue:smoothValue,onChange:handleControlChange,onEnd:handleControlEnd}}},"./src/decorators/useWheelScaling.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D:function(){return useWheelScaling}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/common.ts"),_utils_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/dom.ts");function useWheelScaling(element,_ref){var onChange=_ref.onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?_utils_common__WEBPACK_IMPORTED_MODULE_2__.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?_utils_common__WEBPACK_IMPORTED_MODULE_2__.Z:_ref$onEnd,_ref$delayToEnd=_ref.delayToEnd,delayToEnd=void 0===_ref$delayToEnd?400:_ref$delayToEnd,timerId=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),handleChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){var wheelEvent=event;wheelEvent.stopPropagation(),wheelEvent.preventDefault();var targetBox=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.RR)(wheelEvent.currentTarget),offsetPoint=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.oR)(wheelEvent),origin=targetBox.resetOrigin().normalizePoint(offsetPoint),pressedKeys=(0,_utils_dom__WEBPACK_IMPORTED_MODULE_1__.QS)(wheelEvent);void 0===timerId.current&&onStart({scalingK:0,origin:origin,pressedKeys:pressedKeys}),onChange({scalingK:defineWheelScalingK(wheelEvent.deltaY),origin:origin,pressedKeys:pressedKeys}),timerId.current&&clearTimeout(timerId.current),timerId.current=setTimeout((function(){timerId.current=void 0,onEnd({scalingK:0,origin:origin,pressedKeys:pressedKeys})}),delayToEnd)}),[onChange,onStart,onEnd,delayToEnd]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(element)return element.addEventListener("wheel",handleChange),function(){element.removeEventListener("wheel",handleChange)}}),[element,handleChange])}function defineWheelScalingK(wheelDeltaY){var sensitivity=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;return 1+wheelDeltaY*sensitivity}},"./src/entities/boundingBox.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return BoundingBox},y:function(){return EBoxSide}});var EBoxSide,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),_numbersRange__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/numbersRange.ts"),_point__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/entities/point.ts"),_size__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/entities/size.ts");!function(EBoxSide){EBoxSide.top="top",EBoxSide.bottom="bottom",EBoxSide.left="left",EBoxSide.right="right"}(EBoxSide||(EBoxSide={}));var BoundingBox=function(){function BoundingBox(x1,x2,y1,y2){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,BoundingBox),this.x1=x1,this.x2=x2,this.y1=y1,this.y2=y2}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.Z)(BoundingBox,[{key:"x0",get:function get(){return this.x1}},{key:"y0",get:function get(){return this.y1}},{key:"origin",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.x0,this.y0)}},{key:"dx",get:function get(){return this.x2-this.x1}},{key:"dy",get:function get(){return this.y2-this.y1}},{key:"size",get:function get(){return new _size__WEBPACK_IMPORTED_MODULE_5__.$(this.dx,this.dy)}},{key:"width",get:function get(){return Math.abs(this.dx)}},{key:"height",get:function get(){return Math.abs(this.dy)}},{key:"xsRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.x1,this.x2)}},{key:"ysRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.y1,this.y2)}},{key:"center",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E((this.x1+this.x2)/2,(this.y1+this.y2)/2)}},{key:"area",get:function get(){return this.dx*this.dy}},{key:"setX1",value:function setX1(value){return new BoundingBox(value,this.x2,this.y1,this.y2)}},{key:"setX2",value:function setX2(value){return new BoundingBox(this.x1,value,this.y1,this.y2)}},{key:"setY1",value:function setY1(value){return new BoundingBox(this.x1,this.x2,value,this.y2)}},{key:"setY2",value:function setY2(value){return new BoundingBox(this.x1,this.x2,this.y1,value)}},{key:"clipInner",value:function clipInner(inner){return new BoundingBox((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x2),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y2))}},{key:"clipByOuter",value:function clipByOuter(outer){return outer.clipInner(this)}},{key:"clampInner",value:function clampInner(inner){return BoundingBox.byRanges(this.xsRange.clampInner(inner.xsRange),this.ysRange.clampInner(inner.ysRange))}},{key:"clampByOuter",value:function clampByOuter(outer){return outer.clampInner(this)}},{key:"shift",value:function shift(offsets){var p=this.origin.add(offsets);return BoundingBox.byDeltas(p.x,p.y,this.dx,this.dy)}},{key:"moveTo",value:function moveTo(p){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_point__WEBPACK_IMPORTED_MODULE_2__.E.nullish;return this.shift(p.subtract(this.denormalizePoint(origin)))}},{key:"resetOrigin",value:function resetOrigin(){return BoundingBox.byDeltas(0,0,this.dx,this.dy)}},{key:"constrainSize",value:function constrainSize(dxLimits,dyLimits){var dx=dxLimits.clampNumber(this.dx),dy=dyLimits.clampNumber(this.dy);return BoundingBox.byDeltas(this.x0,this.y0,dx,dy)}},{key:"addToDeltas",value:function addToDeltas(offsetX,offsetY){return BoundingBox.byDeltas(this.x0,this.y0,this.dx+offsetX,this.dy+offsetY)}},{key:"scale",value:function scale(k){return BoundingBox.byRanges(this.xsRange.scale(k),this.ysRange.scale(k))}},{key:"expandEvenly",value:function expandEvenly(value){return BoundingBox.byRanges(this.xsRange.expandEvenly(value),this.ysRange.expandEvenly(value))}},{key:"intersectionArea",value:function intersectionArea(box){var left=Math.max(this.x1,box.x1),bottom=Math.min(this.y2,box.y2),width=Math.min(this.x2,box.x2)-left,height=bottom-Math.max(this.y1,box.y1);return width<0||height<0?0:width*height}},{key:"isIntersect",value:function isIntersect(box){return this.intersectionArea(box)>0}},{key:"aspectRatio",get:function get(){return this.dx/this.dy}},{key:"setAspectRatio",value:function setAspectRatio(ratio){var dy=(this.dx+this.dy)/(ratio+1),dx=ratio*dy;return BoundingBox.byDeltas(this.x0,this.y0,dx,dy)}},{key:"normalizeInner",value:function normalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.normalizeNumber(inner.x1),xsRange.normalizeNumber(inner.x2),ysRange.normalizeNumber(inner.y1),ysRange.normalizeNumber(inner.y2))}},{key:"denormalizeInner",value:function denormalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.denormalizeNumber(inner.x1),xsRange.denormalizeNumber(inner.x2),ysRange.denormalizeNumber(inner.y1),ysRange.denormalizeNumber(inner.y2))}},{key:"normalizePoint",value:function normalizePoint(point){return point.subtract(this.origin).div(this.deltasVector)}},{key:"denormalizePoint",value:function denormalizePoint(point){return this.origin.add(point.mul(this.deltasVector))}},{key:"sortAscCoordinates",value:function sortAscCoordinates(){return BoundingBox.byRanges(this.xsRange.sortAsc(),this.ysRange.sortAsc())}},{key:"deltasVector",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.dx,this.dy)}},{key:"placeOutside",value:function placeOutside(box){return box.shift(this.origin)}},{key:"placeInside",value:function placeInside(box){var origin=box.origin.subtract(this.origin);return box.moveTo(origin)}},{key:"isEqual",value:function isEqual(_ref){var x1=_ref.x1,x2=_ref.x2,y1=_ref.y1,y2=_ref.y2;return x1===this.x1&&x2===this.x2&&y1===this.y1&&y2===this.y2}},{key:"map",value:function map(f){return new BoundingBox(f(this.x1),f(this.x2),f(this.y1),f(this.y2))}},{key:"placeInSameOrigin",value:function placeInSameOrigin(box,normalizedOrigin){var realOrigin=box.denormalizePoint(normalizedOrigin);return this.moveTo(realOrigin,normalizedOrigin)}}],[{key:"square",value:function square(x0,y0,a){return this.byDeltas(x0,y0,a,a)}},{key:"byOnlyDeltas",value:function byOnlyDeltas(dx,dy){return BoundingBox.byDeltas(0,0,dx,dy)}},{key:"byDeltas",value:function byDeltas(x0,y0,dx,dy){return new BoundingBox(x0,x0+dx,y0,y0+dy)}},{key:"byRanges",value:function byRanges(xRange,yRange){return new BoundingBox(xRange.start,xRange.end,yRange.start,yRange.end)}},{key:"infinite",value:function infinite(){return new BoundingBox(-1/0,1/0,-1/0,1/0)}}]),BoundingBox}()},"./src/entities/direction.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{N:function(){return Directions},X:function(){return EOrientation}});var EOrientation,Directions,_Directions,horizontal,vertical,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/entities/boundingBox.ts"),_point__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/point.ts");!function(EOrientation){EOrientation.horizontal="horizontal",EOrientation.vertical="vertical"}(EOrientation||(EOrientation={})),_Directions=Directions||(Directions={}),horizontal=_Directions.horizontal={orientation:EOrientation.horizontal,length:function length(_ref){return _ref.width},thickness:function thickness(_ref2){return _ref2.height},rangesOfBox:function rangesOfBox(box){return[box.xsRange,box.ysRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.byRanges(parallelRange,normalRange)},coordinatesOfPoint:function coordinatesOfPoint(_ref3){return[_ref3.x,_ref3.y]},pointOfCoordinates:function pointOfCoordinates(x,y){return new _point__WEBPACK_IMPORTED_MODULE_1__.E(x,y)},sides:[_boundingBox__WEBPACK_IMPORTED_MODULE_0__.y.left,_boundingBox__WEBPACK_IMPORTED_MODULE_0__.y.right],cssKeys:{length:"width",thickness:"height",coordinate:"left",normalCoordinate:"top",gap:"columnGap"},cssValues:{direction:"row"},get regular(){return Directions.horizontal},get opposite(){return Directions.vertical},get reversed(){return Directions.horizontalReversed},isReversed:!1},vertical=_Directions.vertical={orientation:EOrientation.vertical,length:function length(_ref4){return _ref4.height},thickness:function thickness(_ref5){return _ref5.width},rangesOfBox:function rangesOfBox(box){return[box.ysRange,box.xsRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.byRanges(normalRange,parallelRange)},coordinatesOfPoint:function coordinatesOfPoint(_ref6){var x=_ref6.x;return[_ref6.y,x]},pointOfCoordinates:function pointOfCoordinates(y,x){return new _point__WEBPACK_IMPORTED_MODULE_1__.E(x,y)},sides:[_boundingBox__WEBPACK_IMPORTED_MODULE_0__.y.top,_boundingBox__WEBPACK_IMPORTED_MODULE_0__.y.bottom],cssKeys:{length:"height",thickness:"width",coordinate:"top",normalCoordinate:"left",gap:"rowGap"},cssValues:{direction:"column"},get regular(){return Directions.vertical},get opposite(){return Directions.horizontal},get reversed(){return Directions.verticalReversed},isReversed:!1},_Directions.horizontalReversed=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},horizontal),{},{cssValues:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},horizontal.cssValues),{},{direction:"row-reverse"}),cssKeys:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},horizontal.cssKeys),{},{coordinate:"right",normalCoordinate:"bottom"}),get opposite(){return Directions.verticalReversed},get reversed(){return Directions.horizontal},isReversed:!0}),_Directions.verticalReversed=(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},vertical),{},{cssValues:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},vertical.cssValues),{},{direction:"column-reverse"}),cssKeys:(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},vertical.cssKeys),{},{coordinate:"bottom",normalCoordinate:"right"}),get opposite(){return Directions.horizontalReversed},get reversed(){return Directions.vertical},isReversed:!0})},"./src/entities/numbersRange.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return NumbersRange}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ramda/es/index.js"),NumbersRange=function(_Symbol$iterator){function NumbersRange(start,end){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,NumbersRange),this.start=start,this.end=end}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__.Z)(NumbersRange,[{key:"delta",get:function get(){return this.end-this.start}},{key:"size",get:function get(){return Math.abs(this.delta)}},{key:"dir",get:function get(){return Math.sign(this.delta)}},{key:"min",get:function get(){return Math.min(this.start,this.end)}},{key:"max",get:function get(){return Math.max(this.start,this.end)}},{key:"sortAsc",value:function sortAsc(){return new NumbersRange(this.min,this.max)}},{key:"sortDesc",value:function sortDesc(){return new NumbersRange(this.max,this.min)}},{key:"setDir",value:function setDir(sign){return 0===sign?this:sign>0?this.sortAsc():this.sortDesc()}},{key:"setMin",value:function setMin(value){return this.sortAsc().setStart(value).setDir(this.dir)}},{key:"setMax",value:function setMax(value){return this.sortAsc().setEnd(value).setDir(this.dir)}},{key:"setStart",value:function setStart(value){return new NumbersRange(value,this.end)}},{key:"setEnd",value:function setEnd(value){return new NumbersRange(this.start,value)}},{key:"shift",value:function shift(offset){return this.map((function(n){return n+offset}))}},{key:"constrainSize",value:function constrainSize(bounds){var delta=bounds.clampNumber(this.delta);return NumbersRange.byDelta(this.start,delta)}},{key:"clipInner",value:function clipInner(inner){var _this=this;return inner.map((function(a){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(_this.start,_this.end,a)}))}},{key:"clampInner",value:function clampInner(_ref){var start=_ref.start,delta=_ref.delta;return NumbersRange.byDelta((0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end-delta,start),delta)}},{key:"clampNumber",value:function clampNumber(n){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end,n)}},{key:"denormalizeNumber",value:function denormalizeNumber(n){return this.start+n*this.delta}},{key:"normalizeNumber",value:function normalizeNumber(n){return(n-this.start)/this.delta}},{key:"scale",value:function scale(k){return NumbersRange.byDelta(this.start,this.delta*k)}},{key:"invert",value:function invert(){return new NumbersRange(this.end,this.start)}},{key:"moveTo",value:function moveTo(x){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isFinite(origin)?this.shift(x-this.denormalizeNumber(origin)):this}},{key:"includes",value:function includes(x){return this.start<=x&&x<=this.end}},{key:"isEdge",value:function isEdge(x){return x===this.start||x===this.end}},{key:"expandEvenly",value:function expandEvenly(value){return new NumbersRange(this.start-value,this.end+value)}},{key:"isEqual",value:function isEqual(_ref2){var start=_ref2.start,end=_ref2.end;return this.start===start&&this.end===end}},{key:"map",value:function map(f){return new NumbersRange(f(this.start),f(this.end))}},{key:_Symbol$iterator,value:_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function value(){return _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function value$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.start;case 2:return _context.next=4,this.end;case 4:case"end":return _context.stop()}}),value,this)}))}],[{key:"byDelta",value:function byDelta(start,delta){return new NumbersRange(start,start+delta)}},{key:"byOnlyDelta",value:function byOnlyDelta(delta){return NumbersRange.byDelta(0,delta)}},{key:"infinite",value:function infinite(){return new NumbersRange(-1/0,1/0)}},{key:"endless",value:function endless(){return NumbersRange.byOnlyDelta(1/0)}},{key:"normalizationBounds",value:function normalizationBounds(){return NumbersRange.byOnlyDelta(1)}}]),NumbersRange}(Symbol.iterator)},"./src/entities/point.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return Point}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),Point=function(){function Point(x,y){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.Z)(this,Point),this.x=x,this.y=y}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Point,[{key:"map",value:function map(f){return new Point(f(this.x),f(this.y))}},{key:"setX",value:function setX(value){return new Point(value,this.y)}},{key:"setY",value:function setY(value){return new Point(this.x,value)}},{key:"shiftX",value:function shiftX(offset){return this.setX(this.x+offset)}},{key:"shiftY",value:function shiftY(offset){return this.setY(this.y+offset)}},{key:"add",value:function add(p){return new Point(this.x+p.x,this.y+p.y)}},{key:"subtract",value:function subtract(p){return new Point(this.x-p.x,this.y-p.y)}},{key:"mulK",value:function mulK(k){return new Point(this.x*k,this.y*k)}},{key:"mul",value:function mul(p){return new Point(this.x*p.x,this.y*p.y)}},{key:"div",value:function div(p){return new Point(this.x/p.x,this.y/p.y)}},{key:"dot",value:function dot(p){var _this$mul=this.mul(p);return _this$mul.x+_this$mul.y}},{key:"clampX",value:function clampX(min,max){return new Point((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.x),this.y)}},{key:"clampY",value:function clampY(min,max){return new Point(this.x,(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.y))}},{key:"negate",value:function negate(){return this.mulK(-1)}},{key:"reflectAroundPoint",value:function reflectAroundPoint(p){return p.subtract(this.subtract(p))}},{key:"distance",value:function distance(p){var _this$subtract=this.subtract(p),dx=_this$subtract.x,dy=_this$subtract.y;return Math.sqrt(dx*dx+dy*dy)}}],[{key:"nullish",get:function get(){return new Point(0,0)}}]),Point}()},"./src/entities/size.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$:function(){return Size}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),Size=function(){function Size(dx,dy){(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_0__.Z)(this,Size),this.dx=dx,this.dy=dy}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_1__.Z)(Size,[{key:"width",get:function get(){return Math.abs(this.dx)}},{key:"height",get:function get(){return Math.abs(this.dy)}}],[{key:"nullish",value:function nullish(){return new Size(0,0)}}]),Size}()},"./src/entities/sizeLimits.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{r:function(){return SizeLimits}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_numbersRange__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/entities/numbersRange.ts"),SizeLimits=function(){function SizeLimits(){var dxLimits=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_numbersRange__WEBPACK_IMPORTED_MODULE_0__.K.infinite(),dyLimits=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_numbersRange__WEBPACK_IMPORTED_MODULE_0__.K.infinite();(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.Z)(this,SizeLimits),this.dxLimits=dxLimits,this.dyLimits=dyLimits}return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(SizeLimits,[{key:"denormalize",value:function denormalize(dx,dy){return new SizeLimits(this.dxLimits.map((function(a){return a*dx})),this.dyLimits.map((function(a){return a*dy})))}}]),SizeLimits}()},"./src/utils/common.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return noop}});var noop=function noop(){}},"./src/utils/dom.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{QS:function(){return extractPressedKeys},RR:function(){return getBoxOnViewport},_b:function(){return getMousePoint},aC:function(){return getPointOnViewport},oR:function(){return getMouseOffsetPoint},x:function(){return mapDomRectToBox}});var _entities_boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/entities/boundingBox.ts"),_entities_point__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/entities/point.ts");function getPointOnViewport(element){var _element$getBoundingC=element.getBoundingClientRect(),x=_element$getBoundingC.x,y=_element$getBoundingC.y;return new _entities_point__WEBPACK_IMPORTED_MODULE_1__.E(x,y)}function getOriginOnViewport(element){return getPointOnViewport(element).subtract(function getOriginOffset(element){var transform=getComputedStyle(element).transform,_DOMMatrixReadOnly=new DOMMatrixReadOnly(transform),translateX=_DOMMatrixReadOnly.m41,translateY=_DOMMatrixReadOnly.m42;return new _entities_point__WEBPACK_IMPORTED_MODULE_1__.E(translateX,translateY)}(element))}function mapDomRectToBox(_ref){var x=_ref.x,y=_ref.y,width=_ref.width,height=_ref.height;return _entities_boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.byDeltas(x,y,width,height)}function getBoxOnViewport(element){return mapDomRectToBox(element.getBoundingClientRect())}function getMouseOffsetPoint(mouseEvent){var targetOrigin=getOriginOnViewport(mouseEvent.currentTarget);return getMousePoint(mouseEvent).subtract(targetOrigin)}function getMousePoint(event){return new _entities_point__WEBPACK_IMPORTED_MODULE_1__.E(event.clientX,event.clientY)}function extractPressedKeys(_ref3){return{altKey:_ref3.altKey,shiftKey:_ref3.shiftKey,ctrlKey:_ref3.ctrlKey}}},"./src/utils/styles.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$K:function(){return stretchStyle},FV:function(){return centererStyle},b8:function(){return getBoxStyle},sG:function(){return getPointStyle}});var _home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");__webpack_require__("./node_modules/ramda/es/index.js");function getPointStyle(_ref){var x=_ref.x,y=_ref.y;return{left:"".concat(x,"px"),top:"".concat(y,"px")}}function getBoxStyle(box){return(0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_dmitry_p_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},getPointStyle(box.origin)),{},{width:"".concat(box.dx,"px"),height:"".concat(box.dy,"px")})}var stretchStyle={width:"100%",height:"100%"},centererStyle={display:"flex",justifyContent:"center",alignItems:"center"}},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/ImageViewer.stories.tsx":"./src/stories/ImageViewer.stories.tsx","./stories/ResizableBox.stories.tsx":"./src/stories/ResizableBox.stories.tsx","./stories/Sliders.stories.tsx":"./src/stories/Sliders.stories.tsx","./stories/SortableCards.stories.tsx":"./src/stories/SortableCards.stories.tsx","./stories/SwipeCards.stories.tsx":"./src/stories/SwipeCards.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[90],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);