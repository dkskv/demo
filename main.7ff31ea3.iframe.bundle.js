(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{"./src/stories/Carousel.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithMomentum:function(){return WithMomentum},WithResizable:function(){return WithResizable},WithSlider:function(){return WithSlider},__namedExportsOrder:function(){return Carousel_stories_namedExportsOrder},default:function(){return Carousel_stories}});var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),dnd=__webpack_require__("./src/decorators/dnd.ts"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),utils_orientation=__webpack_require__("./src/utils/orientation.ts"),styles=__webpack_require__("./src/utils/styles.ts"),es=__webpack_require__("./node_modules/ramda/es/index.js");function getRenderingIndexes(bounds,slotSize,overscanCount){var _expandEvenly=function expandEvenly(_ref,overscan){var start=_ref.start,end=_ref.end;return new numbersRange.K(start-overscan,end+overscan)}(bounds,overscanCount),start=_expandEvenly.start,end=_expandEvenly.end;return(0,es.w6H)(fits(start,slotSize),fits(end,slotSize)+1)}function fits(x,valueOfDivision){return Math.floor(x/valueOfDivision)}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),VirtualList=function VirtualList(_ref){var viewBox=_ref.viewBox,itemSize=_ref.itemSize,coordinate=_ref.coordinate,renderItem=_ref.renderItem,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?utils_orientation.h.horizontal:_ref$orientation,_orientation$rangesOf=orientation.rangesOfBox(viewBox),_orientation$rangesOf2=(0,slicedToArray.Z)(_orientation$rangesOf,2),viewRange=_orientation$rangesOf2[0],thicknessRange=_orientation$rangesOf2[1],indexes=getRenderingIndexes(numbersRange.K.createByDelta(coordinate,viewRange.size),itemSize,1);return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(viewBox)),{},{overflow:"hidden",position:"relative"}),children:indexes.map((function(index){var itemRange=numbersRange.K.createByDelta(index*itemSize-coordinate,itemSize),itemBox=orientation.boxFromRanges(itemRange,thicknessRange);return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)({position:"absolute"},(0,styles.b8)(itemBox)),children:renderItem(index)},index)}))})};try{VirtualList.displayName="VirtualList",VirtualList.__docgenInfo={description:"Контейнер для отображения элементов",displayName:"VirtualList",props:{coordinate:{defaultValue:null,description:"",name:"coordinate",required:!0,type:{name:"number"}},viewBox:{defaultValue:null,description:"",name:"viewBox",required:!0,type:{name:"BoundingBox"}},itemSize:{defaultValue:null,description:"",name:"itemSize",required:!0,type:{name:"number"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(index: number) => ReactNode"}},orientation:{defaultValue:{value:"Orientations.horizontal"},description:"",name:"orientation",required:!1,type:{name:"IOrientation"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VirtualList/index.tsx#VirtualList"]={docgenInfo:VirtualList.__docgenInfo,name:"VirtualList",path:"src/components/VirtualList/index.tsx#VirtualList"})}catch(__react_docgen_typescript_loader_error){}var hooks=__webpack_require__("./src/hooks.ts"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),point=__webpack_require__("./src/utils/point.ts"),Slider=__webpack_require__("./src/components/Slider/index.tsx"),dom=__webpack_require__("./src/utils/dom.ts");function useScale(element,onChange){var handleChange=(0,react.useCallback)((function(event){event.stopPropagation(),event.preventDefault();var deltaY=event.deltaY,targetBox=(0,dom.Zt)(event.currentTarget),offsetPoint=(0,dom.oR)(event);onChange(deltaY,targetBox.normalizePoint(offsetPoint))}),[onChange]);(0,react.useEffect)((function(){if(element)return element.addEventListener("wheel",handleChange),function(){element.removeEventListener("wheel",handleChange)}}),[element,handleChange])}var VirtualGrid=function VirtualGrid(_ref){var viewBox=_ref.viewBox,dx=_ref.dx,dy=_ref.dy,coordinates=_ref.coordinates,renderItem=_ref.renderItem,rowBox=boundingBox.k.createByDimensions(0,0,viewBox.dx,dy);return(0,jsx_runtime.jsx)(VirtualList,{orientation:utils_orientation.h.vertical,viewBox:viewBox,coordinate:coordinates.y,itemSize:dy,renderItem:function(_renderItem2){function renderItem(_x2){return _renderItem2.apply(this,arguments)}return renderItem.toString=function(){return _renderItem2.toString()},renderItem}((function(rowIndex){return(0,jsx_runtime.jsx)(VirtualList,{orientation:utils_orientation.h.horizontal,viewBox:rowBox,coordinate:coordinates.x,itemSize:dx,renderItem:function(_renderItem){function renderItem(_x){return _renderItem.apply(this,arguments)}return renderItem.toString=function(){return _renderItem.toString()},renderItem}((function(columnIndex){return renderItem(rowIndex,columnIndex)}))})}))})};try{VirtualGrid.displayName="VirtualGrid",VirtualGrid.__docgenInfo={description:"Контейнер для отображения элементов",displayName:"VirtualGrid",props:{coordinates:{defaultValue:null,description:"",name:"coordinates",required:!0,type:{name:"Point"}},dx:{defaultValue:null,description:"",name:"dx",required:!0,type:{name:"number"}},dy:{defaultValue:null,description:"",name:"dy",required:!0,type:{name:"number"}},viewBox:{defaultValue:null,description:"",name:"viewBox",required:!0,type:{name:"BoundingBox"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!0,type:{name:"(rowIndex: number, columnIndex: number) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/VirtualGrid/index.tsx#VirtualGrid"]={docgenInfo:VirtualGrid.__docgenInfo,name:"VirtualGrid",path:"src/components/VirtualGrid/index.tsx#VirtualGrid"})}catch(__react_docgen_typescript_loader_error){}var ResizableControl=__webpack_require__("./src/components/ResizableControl/index.tsx"),Carousel_stories={title:"Demo/Carousel",component:VirtualList,parameters:{}},WithSlider=function Template(args){var renderer=useCellRenderer(),viewBox=boundingBox.k.createByDimensions(0,0,500,70),_useState=(0,react.useState)(new numbersRange.K(0,.3)),_useState2=(0,slicedToArray.Z)(_useState,2),sliderValue=_useState2[0],setSliderValue=_useState2[1],_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setElement=_useCallbackRef2[1],viewSize=viewBox.dx,totalSize=viewSize/sliderValue.size,sizeBounds=(0,react.useMemo)((function(){return new numbersRange.K(.2,1)}),[]),handleDrag=(0,react.useCallback)((function(delta){setSliderValue((function(prevValue){return numbersRange.K.normalizationBounds().clampInner(prevValue.shift(-delta.x/totalSize))}))}),[totalSize]);(0,dnd.eM)({element:element,onChange:handleDrag});var handleScale=(0,react.useCallback)((function(delta,point){setSliderValue((function(prevValue){var bounds=numbersRange.K.normalizationBounds(),k=-.001*delta;return bounds.clipInner(prevValue.scale(k).constrainSize(sizeBounds).moveTo(prevValue.denormalizeNumber(point.x),point.x))}))}),[sizeBounds]);useScale(element,handleScale);var renderItem=function renderItem(columnIndex){return renderer.renderItem(0,columnIndex)};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:setElement,style:{display:"inline-block",background:"orange",userSelect:"none",cursor:"grab"},children:(0,jsx_runtime.jsx)(VirtualList,{viewBox:viewBox,coordinate:sliderValue.start*totalSize,itemSize:totalSize/renderer.columnsCount,renderItem:renderItem})}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)({position:"relative"},(0,styles.b8)(viewBox)),children:[(0,jsx_runtime.jsx)(VirtualList,{viewBox:viewBox,coordinate:0,itemSize:viewSize/renderer.columnsCount,renderItem:renderItem}),(0,jsx_runtime.jsx)(Slider.Z,{value:sliderValue,onChange:setSliderValue,sizeBounds:sizeBounds,children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:(0,styles._T)("#FFFFFF",.3),border:"1px solid orange"})})})]})]})}.bind({});var WithMomentum=function WithMomentum(args){var renderer=useCellRenderer(CellRenderer.manyColors),viewBox=boundingBox.k.createByDimensions(0,0,500,70),_useState5=(0,react.useState)(0),_useState6=(0,slicedToArray.Z)(_useState5,2),value=_useState6[0],setValue=_useState6[1],_useCallbackRef3=(0,hooks.W)(),_useCallbackRef4=(0,slicedToArray.Z)(_useCallbackRef3,2),element=_useCallbackRef4[0],setElement=_useCallbackRef4[1],_useSlowdown=function useSlowdown(){var _useState3=(0,react.useState)(0),_useState4=(0,slicedToArray.Z)(_useState3,2),speed=_useState4[0],setSpeed=_useState4[1],request=(0,react.useRef)(null),k=(0,react.useRef)(0),slow=(0,react.useCallback)((function(){request.current=requestAnimationFrame((function(timestamp){setSpeed((function(prevSpeed){var nextSpeed=prevSpeed*k.current;return Math.abs(nextSpeed)<.1?(request.current=null,0):(slow(),nextSpeed)}))}))}),[]),handleChange=(0,react.useCallback)((function(value){setSpeed(value),null===request.current&&slow()}),[slow]),setK=(0,react.useCallback)((function(value){k.current=value}),[]);return(0,react.useEffect)((function(){return function(){request.current&&cancelAnimationFrame(request.current)}}),[]),[speed,handleChange,setK]}(),_useSlowdown2=(0,slicedToArray.Z)(_useSlowdown,3),speed=_useSlowdown2[0],setSpeed=_useSlowdown2[1],slowdown=_useSlowdown2[2],isGrabRef=(0,react.useRef)(!1),maxValue=100*renderer.columnsCount-viewBox.dx;(0,react.useEffect)((function(){isGrabRef.current||setValue((function(prevValue){return(0,es.uZ5)(0,maxValue,prevValue+speed)}))}),[speed,renderer,maxValue]);var handleDragEnd=(0,react.useCallback)((function(){isGrabRef.current=!1,slowdown(.98)}),[slowdown]);(0,dnd.eM)({element:element,onChange:function handleDrag(delta){isGrabRef.current=!0,setSpeed(-delta.x),slowdown(.9),setValue((function(prevValue){return(0,es.uZ5)(0,maxValue,prevValue-delta.x)}))},onEnd:handleDragEnd});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:setElement,style:{display:"inline-block",background:"orange",userSelect:"none",cursor:"grab"},children:(0,jsx_runtime.jsx)(VirtualList,{viewBox:viewBox,coordinate:value,itemSize:100,renderItem:function renderItem(columnIndex){return renderer.renderItem(0,columnIndex)}})}),(0,jsx_runtime.jsxs)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(boundingBox.k.createByDimensions(0,0,500,10))),{},{background:"grey",position:"relative"}),children:[speed>0&&(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(boundingBox.k.createByDimensions(250,0,250*speed/20,10))),{},{background:"purple",position:"absolute"})}),speed<0&&(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(new boundingBox.k(250+250*speed/20,250,0,10))),{},{background:"purple",position:"absolute"})})]})]})},WithResizable=function WithResizable(args){var renderer=useCellRenderer(),_useState7=(0,react.useState)(boundingBox.k.createByDimensions(0,0,.2,.2)),_useState8=(0,slicedToArray.Z)(_useState7,2),controlValue=_useState8[0],setControlValue=_useState8[1],outer=boundingBox.k.createByDimensions(0,0,1,1),lengthBounds=new numbersRange.K(.2,1),_useCallbackRef5=(0,hooks.W)(),_useCallbackRef6=(0,slicedToArray.Z)(_useCallbackRef5,2),element=_useCallbackRef6[0],setElement=_useCallbackRef6[1];useScale(element,(function handleScale(delta,p){setControlValue((function(prevValue){return prevValue.scale(-.001*delta).constrainSize(lengthBounds,lengthBounds).moveTo(prevValue.denormalizePoint(p),p).clampByOuter(outer)}))}));var viewBox=boundingBox.k.createByDimensions(0,0,500,500),totalSizeVector=new point.E(viewBox.dx/controlValue.dx,viewBox.dy/controlValue.dy);return(0,dnd.eM)({element:element,onChange:function handleDrag(delta){setControlValue((function(prevValue){return prevValue.shift(delta.div(totalSizeVector).negate()).clampByOuter(outer)}))}}),(0,jsx_runtime.jsxs)("div",{style:{display:"flex"},children:[(0,jsx_runtime.jsx)("div",{ref:setElement,style:{position:"relative",display:"inline-block",background:"orange",userSelect:"none",cursor:"grab"},children:(0,jsx_runtime.jsx)(VirtualGrid,{viewBox:viewBox,dx:totalSizeVector.x/renderer.columnsCount,dy:totalSizeVector.y/renderer.rowsCount,coordinates:controlValue.origin.mul(totalSizeVector),renderItem:renderer.renderItem})}),(0,jsx_runtime.jsxs)("div",{style:{position:"relative",display:"inline-block",background:"blue",userSelect:"none"},children:[(0,jsx_runtime.jsx)(VirtualGrid,{viewBox:viewBox,dx:viewBox.dx/renderer.columnsCount,dy:viewBox.dy/renderer.rowsCount,coordinates:new point.E(0,0),renderItem:renderer.renderItem}),(0,jsx_runtime.jsx)(ResizableControl.Z,{value:controlValue,onChange:setControlValue,sizeBounds:{width:lengthBounds,height:lengthBounds},children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:(0,styles._T)("#FFFFFF",.3),border:"1px solid orange"})})})]})]})};function useCellRenderer(colors){return(0,react.useMemo)((function(){return new CellRenderer(colors)}),[colors])}var CellRenderer=(0,createClass.Z)((function CellRenderer(){var _this=this,items=arguments.length>0&&void 0!==arguments[0]?arguments[0]:CellRenderer.colorsPreset;(0,classCallCheck.Z)(this,CellRenderer),this.items=items,this.columnsCount=this.items.length,this.rowsCount=20,this.renderItem=function(rowIndex,columnIndex){if(rowIndex<0||rowIndex>=_this.rowsCount)return null;var color=_this.items[columnIndex];return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{padding:"".concat(8,"%"),boxSizing:"border-box"}),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.FV),styles.$K),{},{padding:"".concat(8,"%"),boxSizing:"border-box",backgroundColor:color}),children:(0,jsx_runtime.jsx)("div",{style:styles.Dx,children:color})})})}}));CellRenderer.colorsPreset=["lavender","thistle","plum","violet","orchid","fuchsia","magenta","mediumOrchid","mediumPurple","blueViolet","darkViolet","darkOrchid","darkMagenta","purple","indigo","slateBlue","darkSlateBlue"],CellRenderer.manyColors=[].concat((0,toConsumableArray.Z)(CellRenderer.colorsPreset),(0,toConsumableArray.Z)(CellRenderer.colorsPreset),(0,toConsumableArray.Z)(CellRenderer.colorsPreset),(0,toConsumableArray.Z)(CellRenderer.colorsPreset)),WithSlider.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n  const renderer = useCellRenderer();\r\n\r\n  const viewBox = BoundingBox.createByDimensions(0, 0, 500, 70);\r\n\r\n  const [sliderValue, setSliderValue] = useState<NumbersRange>(\r\n    new NumbersRange(0, 0.3)\r\n  );\r\n  const [element, setElement] = useCallbackRef();\r\n\r\n  const viewSize = viewBox.dx;\r\n  const totalSize = viewSize / sliderValue.size;\r\n\r\n  const sizeBounds = useMemo(() => new NumbersRange(0.2, 1), []);\r\n\r\n  const handleDrag = useCallback(\r\n    (delta: Point) => {\r\n      setSliderValue((prevValue) => {\r\n        const bounds = NumbersRange.normalizationBounds();\r\n        return bounds.clampInner(prevValue.shift(-delta.x / totalSize));\r\n      });\r\n    },\r\n    [totalSize]\r\n  );\r\n\r\n  useDragMovement({ element, onChange: handleDrag });\r\n\r\n  const handleScale = useCallback(\r\n    (delta: number, point: Point) => {\r\n      setSliderValue((prevValue) => {\r\n        const bounds = NumbersRange.normalizationBounds();\r\n\r\n        const k = delta * WheelScalingK;\r\n\r\n        return bounds.clipInner(\r\n          prevValue\r\n            .scale(k)\r\n            .constrainSize(sizeBounds)\r\n            .moveTo(prevValue.denormalizeNumber(point.x), point.x)\r\n        );\r\n      });\r\n    },\r\n    [sizeBounds]\r\n  );\r\n\r\n  useScale(element, handleScale);\r\n\r\n  const renderItem = (columnIndex: number) =>\r\n    renderer.renderItem(0, columnIndex);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={setElement}\r\n        style={{\r\n          display: "inline-block",\r\n          background: "orange",\r\n          userSelect: "none",\r\n          cursor: "grab",\r\n        }}\r\n      >\r\n        <VirtualList\r\n          viewBox={viewBox}\r\n          coordinate={sliderValue.start * totalSize}\r\n          itemSize={totalSize / renderer.columnsCount}\r\n          renderItem={renderItem}\r\n        />\r\n      </div>\r\n      <div style={{ position: "relative", ...getBoxStyle(viewBox) }}>\r\n        <VirtualList\r\n          viewBox={viewBox}\r\n          coordinate={0}\r\n          itemSize={viewSize / renderer.columnsCount}\r\n          renderItem={renderItem}\r\n        />\r\n        <Slider\r\n          value={sliderValue}\r\n          onChange={setSliderValue}\r\n          sizeBounds={sizeBounds}\r\n        >\r\n          <div\r\n            style={{\r\n              ...stretchStyle,\r\n              background: getRgbaColor("#FFFFFF", 0.3),\r\n              border: "1px solid orange",\r\n            }}\r\n          />\r\n        </Slider>\r\n      </div>\r\n    </>\r\n  );\r\n}'}},WithSlider.parameters),WithMomentum.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n  const renderer = useCellRenderer(CellRenderer.manyColors);\r\n\r\n  const viewBox = BoundingBox.createByDimensions(0, 0, 500, 70);\r\n\r\n  const [value, setValue] = useState<number>(0);\r\n  const [element, setElement] = useCallbackRef();\r\n\r\n  const [speed, setSpeed, slowdown] = useSlowdown();\r\n\r\n  const isGrabRef = useRef(false);\r\n\r\n  const itemSize = 100;\r\n\r\n  const maxValue = itemSize * renderer.columnsCount - viewBox.dx;\r\n\r\n  useEffect(() => {\r\n    if (!isGrabRef.current) {\r\n      setValue((prevValue) => {\r\n        return clamp(0, maxValue, prevValue + speed);\r\n      });\r\n    }\r\n  }, [speed, renderer, maxValue]);\r\n\r\n  function handleDrag(delta: Point) {\r\n    isGrabRef.current = true;\r\n    setSpeed(-delta.x);\r\n    slowdown(0.9);\r\n\r\n    setValue((prevValue) => {\r\n      return clamp(0, maxValue, prevValue - delta.x);\r\n    });\r\n  }\r\n\r\n  const handleDragEnd = useCallback(() => {\r\n    isGrabRef.current = false;\r\n    slowdown(0.98);\r\n  }, [slowdown]);\r\n\r\n  useDragMovement({ element, onChange: handleDrag, onEnd: handleDragEnd });\r\n\r\n  const renderItem = (columnIndex: number) =>\r\n    renderer.renderItem(0, columnIndex);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        ref={setElement}\r\n        style={{\r\n          display: "inline-block",\r\n          background: "orange",\r\n          userSelect: "none",\r\n          cursor: "grab",\r\n        }}\r\n      >\r\n        <VirtualList\r\n          viewBox={viewBox}\r\n          coordinate={value}\r\n          itemSize={itemSize}\r\n          renderItem={renderItem}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          ...getBoxStyle(BoundingBox.createByDimensions(0, 0, 500, 10)),\r\n          background: "grey",\r\n          position: "relative",\r\n        }}\r\n      >\r\n        {speed > 0 && (\r\n          <div\r\n            style={{\r\n              ...getBoxStyle(\r\n                BoundingBox.createByDimensions(250, 0, (250 * speed) / 20, 10)\r\n              ),\r\n              background: "purple",\r\n              position: "absolute",\r\n            }}\r\n          />\r\n        )}\r\n        {speed < 0 && (\r\n          <div\r\n            style={{\r\n              ...getBoxStyle(\r\n                new BoundingBox(250 + (250 * speed) / 20, 250, 0, 10)\r\n              ),\r\n              background: "purple",\r\n              position: "absolute",\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}'}},WithMomentum.parameters),WithResizable.parameters=(0,objectSpread2.Z)({storySource:{source:'(args) => {\r\n  const renderer = useCellRenderer();\r\n\r\n  const [controlValue, setControlValue] = useState<BoundingBox>(\r\n    BoundingBox.createByDimensions(0, 0, 0.2, 0.2)\r\n  );\r\n\r\n  const outer = BoundingBox.createByDimensions(0, 0, 1, 1);\r\n\r\n  const lengthBounds = new NumbersRange(0.2, 1);\r\n\r\n  const [element, setElement] = useCallbackRef();\r\n\r\n  function handleScale(delta: number, p: Point) {\r\n    setControlValue((prevValue) => {\r\n      return prevValue\r\n        .scale(delta * WheelScalingK)\r\n        .constrainSize(lengthBounds, lengthBounds)\r\n        .moveTo(prevValue.denormalizePoint(p), p)\r\n        .clampByOuter(outer);\r\n    });\r\n  }\r\n\r\n  useScale(element, handleScale);\r\n\r\n  const viewBox = BoundingBox.createByDimensions(0, 0, 500, 500);\r\n  const totalSizeVector = new Point(\r\n    viewBox.dx / controlValue.dx,\r\n    viewBox.dy / controlValue.dy\r\n  );\r\n\r\n  const handleDrag = function (delta: Point) {\r\n    setControlValue((prevValue) =>\r\n      prevValue.shift(delta.div(totalSizeVector).negate()).clampByOuter(outer)\r\n    );\r\n  };\r\n\r\n  useDragMovement({ element, onChange: handleDrag });\r\n\r\n  return (\r\n    <div style={{ display: "flex" }}>\r\n      <div\r\n        ref={setElement}\r\n        style={{\r\n          position: "relative",\r\n          display: "inline-block",\r\n          background: "orange",\r\n          userSelect: "none",\r\n          cursor: "grab",\r\n        }}\r\n      >\r\n        <VirtualGrid\r\n          viewBox={viewBox}\r\n          dx={totalSizeVector.x / renderer.columnsCount}\r\n          dy={totalSizeVector.y / renderer.rowsCount}\r\n          coordinates={controlValue.origin.mul(totalSizeVector)}\r\n          renderItem={renderer.renderItem}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          position: "relative",\r\n          display: "inline-block",\r\n          background: "blue",\r\n          userSelect: "none",\r\n        }}\r\n      >\r\n        <VirtualGrid\r\n          viewBox={viewBox}\r\n          dx={viewBox.dx / renderer.columnsCount}\r\n          dy={viewBox.dy / renderer.rowsCount}\r\n          coordinates={new Point(0, 0)}\r\n          renderItem={renderer.renderItem}\r\n        />\r\n        <ResizableControl\r\n          value={controlValue}\r\n          onChange={setControlValue}\r\n          sizeBounds={{ width: lengthBounds, height: lengthBounds }}\r\n        >\r\n          <div\r\n            style={{\r\n              ...stretchStyle,\r\n              background: getRgbaColor("#FFFFFF", 0.3),\r\n              border: "1px solid orange",\r\n            }}\r\n          />\r\n        </ResizableControl>\r\n      </div>\r\n    </div>\r\n  );\r\n}'}},WithResizable.parameters);var Carousel_stories_namedExportsOrder=["WithSlider","WithMomentum","WithResizable"]},"./src/stories/Draggable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Simple:function(){return Simple},__namedExportsOrder:function(){return __namedExportsOrder}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_Draggable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Draggable/index.tsx"),_utils_point__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/point.ts"),_utils_styles__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/styles.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Demo/Draggable",component:_components_Draggable__WEBPACK_IMPORTED_MODULE_1__.FZ,parameters:{}};var Simple=function Template(args){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState2=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState,2),isDragging=_useState2[0],setDragging=_useState2[1],handleStart=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return setDragging(!0)}),[]),handleEnd=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return setDragging(!1)}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_Draggable__WEBPACK_IMPORTED_MODULE_1__.FZ,(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},args),{},{onStart:handleStart,onEnd:handleEnd,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},_utils_styles__WEBPACK_IMPORTED_MODULE_3__.FV),{},{width:"100px",height:"60px",background:"purple",color:"white",cursor:"pointer",opacity:isDragging?.5:1}),children:"Drag me"})}))}.bind({});Simple.args={initialValue:new _utils_point__WEBPACK_IMPORTED_MODULE_2__.E(20,20)},Simple.parameters=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({storySource:{source:'(args) => {\r\n  const [isDragging, setDragging] = useState(false);\r\n\r\n  const handleStart = useCallback(() => setDragging(true), []);\r\n  const handleEnd = useCallback(() => setDragging(false), []);\r\n\r\n  return (\r\n    <StatefulDraggable {...args} onStart={handleStart} onEnd={handleEnd}>\r\n      <div\r\n        style={{\r\n          ...centererStyle,\r\n          width: "100px",\r\n          height: "60px",\r\n          background: "purple",\r\n          color: "white",\r\n          cursor: "pointer",\r\n          opacity: isDragging ? 0.5 : 1,\r\n        }}\r\n      >\r\n        Drag me\r\n      </div>\r\n    </StatefulDraggable>\r\n  );\r\n}'}},Simple.parameters);var __namedExportsOrder=["Simple"]},"./src/stories/NumberRangeInput.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithSlider:function(){return WithSlider},__namedExportsOrder:function(){return NumberRangeInput_stories_namedExportsOrder},default:function(){return NumberRangeInput_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),makeStateful=__webpack_require__("./src/decorators/makeStateful.tsx"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),NumbersRangeInput=function NumbersRangeInput(_ref){var range=_ref.value,_ref$bounds=_ref.bounds,bounds=void 0===_ref$bounds?numbersRange.K.infinite():_ref$bounds,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?numbersRange.K.infinite():_ref$sizeBounds,onChange=_ref.onChange,children=_ref.children,handleChangeStart=(0,react.useCallback)((function(event){var value=Number(event.target.value);onChange(range.setStart(value).constrainSize(sizeBounds).moveTo(range.start))}),[range,sizeBounds,onChange]),handleChangeEnd=(0,react.useCallback)((function(event){var value=Number(event.target.value);onChange(range.setEnd(value).constrainSize(sizeBounds))}),[range,sizeBounds,onChange]);return(0,jsx_runtime.jsxs)("div",{style:{display:"flex",columnGap:"12px"},children:[(0,jsx_runtime.jsx)("input",{type:"number",onChange:handleChangeStart,value:range.start,min:bounds.start,max:bounds.end}),children,(0,jsx_runtime.jsx)("input",{type:"number",onChange:handleChangeEnd,value:range.end,min:bounds.start,max:bounds.end})]})},components_NumbersRangeInput=NumbersRangeInput;try{NumbersRangeInput.displayName="NumbersRangeInput",NumbersRangeInput.__docgenInfo={description:"",displayName:"NumbersRangeInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},bounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Диапазон минимального и максимального значений",name:"bounds",required:!1,type:{name:"NumbersRange"}},sizeBounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Минимальный и максимальный размер диапазона",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"]={docgenInfo:NumbersRangeInput.__docgenInfo,name:"NumbersRangeInput",path:"src/components/NumbersRangeInput/index.tsx#NumbersRangeInput"})}catch(__react_docgen_typescript_loader_error){}var Slider=__webpack_require__("./src/components/Slider/index.tsx"),normalization=__webpack_require__("./src/utils/normalization.ts"),es=__webpack_require__("./node_modules/ramda/es/index.js");var NumberRangeInputWithSlider=function NumberRangeInputWithSlider(props){var value=props.value,onChange=props.onChange,bounds=props.bounds,_props$sizeBounds=props.sizeBounds,sizeBounds=void 0===_props$sizeBounds?numbersRange.K.endless(0):_props$sizeBounds,_props$isDiscreteSlid=props.isDiscreteSlider,isDiscreteSlider=void 0!==_props$isDiscreteSlid&&_props$isDiscreteSlid,sliderWrapper=props.sliderWrapper,children=props.children,converter=(0,react.useMemo)((function(){return function createConverter(bounds){return{toDestination:function toDestination(normalizedRange){return normalizedRange.map((function(n){return Math.round(bounds.denormalizeNumber(n))}))},fromDestination:function fromDestination(numbersRange){return numbersRange.map((function(n){return bounds.normalizeNumber(n)}))}}}(bounds)}),[bounds]),_useSmoothControl=function useSmoothControl(_ref){var value=_ref.value,onChange=_ref.onChange,converter=_ref.converter,_ref$isDiscrete=_ref.isDiscrete,isDiscrete=void 0!==_ref$isDiscrete&&_ref$isDiscrete,_ref$isChanged=_ref.isChanged,isChanged=void 0===_ref$isChanged?es.fS0:_ref$isChanged,_useState=(0,react.useState)(converter.fromDestination(value)),_useState2=(0,slicedToArray.Z)(_useState,2),controlValue=_useState2[0],setControlValue=_useState2[1],handleControlChange=(0,react.useCallback)((function(value){setControlValue((function(prevValue){var outputValue=converter.toDestination(value);return isChanged(outputValue,converter.toDestination(prevValue))&&onChange(outputValue),value}))}),[converter,isChanged,onChange]),handleChange=(0,react.useCallback)((function(value){onChange(value),setControlValue(converter.fromDestination(value))}),[converter,onChange]);return[isDiscrete?converter.fromDestination(value):controlValue,handleControlChange,handleChange]}({value:value,onChange:onChange,converter:converter,isDiscrete:isDiscreteSlider}),_useSmoothControl2=(0,slicedToArray.Z)(_useSmoothControl,3),sliderValue=_useSmoothControl2[0],handleSliderChange=_useSmoothControl2[1],handleInputChange=_useSmoothControl2[2];return(0,jsx_runtime.jsx)(components_NumbersRangeInput,{value:value,onChange:handleInputChange,bounds:bounds,sizeBounds:sizeBounds,children:react.cloneElement(sliderWrapper,{children:(0,jsx_runtime.jsx)(Slider.Z,{value:sliderValue,onChange:handleSliderChange,sizeBounds:(0,normalization.Fv)(sizeBounds,bounds.size),children:children})})})},components_NumberRangeInputWithSlider=(0,makeStateful.Z)(NumberRangeInputWithSlider);try{NumberRangeInputWithSlider.displayName="NumberRangeInputWithSlider",NumberRangeInputWithSlider.__docgenInfo={description:"",displayName:"NumberRangeInputWithSlider",props:{bounds:{defaultValue:null,description:"Диапазон минимального и максимального значений",name:"bounds",required:!0,type:{name:"NumbersRange"}},isDiscreteSlider:{defaultValue:null,description:"Если true, слайдер движется скачками по числовым отметкам",name:"isDiscreteSlider",required:!1,type:{name:"boolean"}},sliderWrapper:{defaultValue:null,description:"",name:"sliderWrapper",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},sizeBounds:{defaultValue:null,description:"Минимальный и максимальный размер диапазона",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: NumbersRange, options: unknown) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"NumbersRange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"]={docgenInfo:NumberRangeInputWithSlider.__docgenInfo,name:"NumberRangeInputWithSlider",path:"src/components/NumberRangeInputWithSlider/index.tsx#NumberRangeInputWithSlider"})}catch(__react_docgen_typescript_loader_error){}var boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),styles=__webpack_require__("./src/utils/styles.ts"),NumberRangeInput_stories={title:"Demo/NumberRangeInput",component:components_NumberRangeInputWithSlider,parameters:{}},WithSlider=function Template(args){return(0,jsx_runtime.jsx)(components_NumberRangeInputWithSlider,(0,objectSpread2.Z)({},args))}.bind({});WithSlider.args={initialValue:new numbersRange.K(1,7),bounds:new numbersRange.K(-10,10),sliderWrapper:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{position:"relative",background:"lavender"},(0,styles.b8)(boundingBox.k.createByDimensions(0,0,500,25)))}),children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:"purple"})})},WithSlider.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => (\r\n  <NumberRangeInputWithSlider {...args} />\r\n)"}},WithSlider.parameters);var NumberRangeInput_stories_namedExportsOrder=["WithSlider"]},"./src/stories/Resizable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{GridGlue:function(){return GridGlue},Simple:function(){return Simple},__namedExportsOrder:function(){return Resizable_stories_namedExportsOrder},default:function(){return Resizable_stories}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),orientation=__webpack_require__("./src/utils/orientation.ts"),styles=__webpack_require__("./src/utils/styles.ts"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function getMarking(patternKey){return(0,jsx_runtime.jsx)("line",{x1:"".concat(0,"%"),x2:"".concat(100,"%"),y1:"".concat(50,"%"),y2:"".concat(50,"%"),stroke:"url(#".concat(patternKey,")"),strokeWidth:"100%"},patternKey)}try{getMarking.displayName="getMarking",getMarking.__docgenInfo={description:"",displayName:"getMarking",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/utils.tsx#getMarking"]={docgenInfo:getMarking.__docgenInfo,name:"getMarking",path:"src/components/Grid/utils.tsx#getMarking"})}catch(__react_docgen_typescript_loader_error){}var Grid=function Grid(_ref){var step=_ref.step,thickness=_ref.thickness,color=_ref.color,id=_ref.id;function getPatternKey(orientation){return"".concat(id,"_").concat(orientation.key)}var orientations=[orientation.h.horizontal,orientation.h.vertical],patterns=[{step:step,thickness:thickness},{step:step,thickness:thickness}];return(0,jsx_runtime.jsxs)("svg",{id:id,style:styles.$K,children:[(0,jsx_runtime.jsx)("defs",{children:(0,es.yL_)((function(orientation,pattern){return function createDef(patternKey,orientation,_ref,color){var _patternProps,_rectProps,step=_ref.step,thickness=_ref.thickness,patternProps=(_patternProps={},(0,defineProperty.Z)(_patternProps,orientation.cssKeys.length,"".concat(step,"px")),(0,defineProperty.Z)(_patternProps,orientation.cssKeys.thickness,"1"),_patternProps),rectProps=(_rectProps={},(0,defineProperty.Z)(_rectProps,orientation.cssKeys.length,"".concat(thickness,"px")),(0,defineProperty.Z)(_rectProps,orientation.cssKeys.thickness,"1"),_rectProps);return(0,react.createElement)("pattern",(0,objectSpread2.Z)((0,objectSpread2.Z)({},patternProps),{},{id:patternKey,key:patternKey,patternUnits:"userSpaceOnUse"}),(0,jsx_runtime.jsx)("rect",(0,objectSpread2.Z)((0,objectSpread2.Z)({},rectProps),{},{fill:color})))}(getPatternKey(orientation),orientation,pattern,color)}),orientations,patterns)}),orientations.map((function(orientation){return getMarking(getPatternKey(orientation))}))]},id)};try{Grid.displayName="Grid",Grid.__docgenInfo={description:"",displayName:"Grid",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"string"}},step:{defaultValue:null,description:"Шаг между линиями, в %",name:"step",required:!0,type:{name:"number"}},thickness:{defaultValue:null,description:"Толщина каждой линии, в px",name:"thickness",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Grid/index.tsx#Grid"]={docgenInfo:Grid.__docgenInfo,name:"Grid",path:"src/components/Grid/index.tsx#Grid"})}catch(__react_docgen_typescript_loader_error){}var Resizable=__webpack_require__("./src/components/Resizable/index.tsx"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),numbersRange=__webpack_require__("./src/utils/numbersRange.ts"),Resizable_stories={title:"Demo/Resizable",component:Resizable.Z,parameters:{}},child=(0,jsx_runtime.jsx)("span",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),styles.FV),{},{background:"purple",color:"white",cursor:"pointer"}),children:"Resize me"}),initialValue=boundingBox.k.createByDimensions(50,60,200,150),commonProps={sizeBounds:{width:new numbersRange.K(100,600),height:new numbersRange.K(80,400)},children:child},Simple=function Simple(){return(0,jsx_runtime.jsx)(Resizable.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{initialValue:initialValue}))},GridGlue=function GridGlue(){var mainStep=20;function magnetize(n){return Math.round(n/mainStep)*mainStep}var _useState=(0,react.useState)(initialValue.map(magnetize)),_useState2=(0,slicedToArray.Z)(_useState,2),value=_useState2[0],setValue=_useState2[1],handleEnd=(0,react.useCallback)((function(){setValue((function(box){return box.map(magnetize)}))}),[]),grid=[[mainStep,1],[4*mainStep,2]].map((function(_ref,index){var _ref2=(0,slicedToArray.Z)(_ref,2),step=_ref2[0],thickness=_ref2[1];return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)({position:"absolute",opacity:.5},(0,styles.b8)(boundingBox.k.createByDimensions(-thickness/2,-thickness/2,700,450))),children:(0,jsx_runtime.jsx)(Grid,{id:String(index),step:step,thickness:thickness,color:"lightgrey"})},index)}));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[grid,(0,jsx_runtime.jsx)(Resizable.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonProps),{},{value:value,onChange:setValue,onEnd:handleEnd}))]})};Simple.parameters=(0,objectSpread2.Z)({storySource:{source:"() => (\r\n  <Resizable {...commonProps} initialValue={initialValue} />\r\n)"}},Simple.parameters),GridGlue.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const mainStep = 20;\r\n\r\n  function magnetize(n: number) {\r\n    return Math.round(n / mainStep) * mainStep;\r\n  }\r\n\r\n  const [value, setValue] = useState(initialValue.map(magnetize));\r\n\r\n  const handleEnd = useCallback(() => {\r\n    setValue((box: BoundingBox) => box.map(magnetize));\r\n  }, []);\r\n\r\n  const grid = [\r\n    [mainStep, 1],\r\n    [mainStep * 4, 2],\r\n  ].map(([step, thickness], index) => (\r\n    <div\r\n      key={index}\r\n      style={{\r\n        position: "absolute",\r\n        opacity: 0.5,\r\n        ...getBoxStyle(\r\n          BoundingBox.createByDimensions(\r\n            -thickness / 2,\r\n            -thickness / 2,\r\n            700,\r\n            450\r\n          )\r\n        ),\r\n      }}\r\n    >\r\n      <Grid\r\n        id={String(index)}\r\n        step={step}\r\n        thickness={thickness}\r\n        color="lightgrey"\r\n      />\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <>\r\n      {grid}\r\n      <Resizable\r\n        {...commonProps}\r\n        value={value}\r\n        onChange={setValue}\r\n        onEnd={handleEnd}\r\n      />\r\n    </>\r\n  );\r\n}'}},GridGlue.parameters);var Resizable_stories_namedExportsOrder=["Simple","GridGlue"]},"./src/stories/Sortable.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Double2:function(){return Double2},Only:function(){return Only},__namedExportsOrder:function(){return Sortable_stories_namedExportsOrder},default:function(){return Sortable_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),dom=__webpack_require__("./src/utils/dom.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),defaultResponse={canDrop:!1};var DndContext=(0,react.createContext)({register:common.Z,unregister:common.Z,onDrag:(0,es.Bxt)(defaultResponse),onDrop:(0,es.Bxt)(defaultResponse)});var DndConnector=function DndConnector(_ref2){var children=_ref2.children,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),containers=_useState2[0],setContainers=_useState2[1],register=(0,react.useCallback)((function(item){return setContainers((0,es.R3I)(item))}),[]),unregister=(0,react.useCallback)((function(key){return setContainers((0,es.d1t)((0,es.OH4)("key",key)))}),[]),handleDndEvent=(0,react.useCallback)((function(containerKey,item){var sourceContainer=(0,es.sEJ)((0,es.OH4)("key",containerKey),containers);if(!sourceContainer)throw new Error("Контейнер с ключом ".concat(containerKey," не зарегистрирован. Убедитесь, что ref связан с элементом"));var itemBoxOnPage=(0,dom.Zt)(sourceContainer.element).placeOutside(item.box),targetContainer=containers.find(function isContainerOverlapWith(box){return function(_ref){var element=_ref.element;return(0,dom.Zt)(element).intersectionArea(box)>0}}(itemBoxOnPage));return sourceContainer===targetContainer?{itemBoxOnPage:itemBoxOnPage}:{targetContainer:targetContainer,itemBoxOnPage:itemBoxOnPage}}),[containers]),onDrag=(0,react.useCallback)((function(containerKey,item){var _handleDndEvent=handleDndEvent(containerKey,item),itemBoxOnPage=_handleDndEvent.itemBoxOnPage,targetContainer=_handleDndEvent.targetContainer;return targetContainer?targetContainer.onDragIn((0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{box:(0,dom.Zt)(targetContainer.element).placeInside(itemBoxOnPage)})):defaultResponse}),[handleDndEvent]),onDrop=(0,react.useCallback)((function(containerKey,item){var _handleDndEvent2=handleDndEvent(containerKey,item),itemBoxOnPage=_handleDndEvent2.itemBoxOnPage,targetContainer=_handleDndEvent2.targetContainer;return targetContainer?targetContainer.onDropIn((0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{box:(0,dom.Zt)(targetContainer.element).placeInside(itemBoxOnPage)})):defaultResponse}),[handleDndEvent]),value=(0,react.useMemo)((function(){return{register:register,unregister:unregister,onDrag:onDrag,onDrop:onDrop}}),[register,unregister,onDrag,onDrop]);return(0,jsx_runtime.jsx)(DndContext.Provider,{value:value,children:children})};try{DndConnector.displayName="DndConnector",DndConnector.__docgenInfo={description:"Компонент выступает в роли сервера между контейнерами, которые хотят обменяться элементами",displayName:"DndConnector",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/dndConnection.tsx#DndConnector"]={docgenInfo:DndConnector.__docgenInfo,name:"DndConnector",path:"src/decorators/dndConnection.tsx#DndConnector"})}catch(__react_docgen_typescript_loader_error){}function useTemporarySet(){var collectionRef=(0,react.useRef)(new Set),timeoutRef=(0,react.useRef)();(0,react.useEffect)((function(){return function(){void 0!==timeoutRef.current&&clearTimeout(timeoutRef.current)}}),[]);var forceUpdate=function useForceUpdate(){return(0,react.useReducer)(es.aEe,0)[1]}();return{add:(0,react.useCallback)((function(value,dur){collectionRef.current.add(value),forceUpdate(),timeoutRef.current=setTimeout((function(){collectionRef.current.delete(value),forceUpdate()}),dur)}),[forceUpdate]),has:(0,react.useCallback)((function(value){return collectionRef.current.has(value)}),[])}}var boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),styles=__webpack_require__("./src/utils/styles.ts"),hooks=__webpack_require__("./src/hooks.ts"),dnd=__webpack_require__("./src/decorators/dnd.ts"),_excluded=["value","children","style"],DraggableBox=function DraggableBox(_ref){var value=_ref.value,children=_ref.children,style=_ref.style,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];return(0,dnd.BU)((0,objectSpread2.Z)({element:element},rest)),(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(value)),{},{position:"absolute"},style),children:react.Children.only(children)})};try{DraggableBox.displayName="DraggableBox",DraggableBox.__docgenInfo={description:"",displayName:"DraggableBox",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},outerBox:{defaultValue:null,description:"Внешний бокс, в чьих пределах может перемещаться данный",name:"outerBox",required:!1,type:{name:"BoundingBox"}},element:{defaultValue:null,description:"Перемещаемый элемент",name:"element",required:!1,type:{name:"HTMLElement | null"}},isInOwnCoordinates:{defaultValue:null,description:"Оповещать об изменении координат элемента относительно его `offsetParent`",name:"isInOwnCoordinates",required:!1,type:{name:"boolean"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DraggableBox/index.tsx#DraggableBox"]={docgenInfo:DraggableBox.__docgenInfo,name:"DraggableBox",path:"src/components/DraggableBox/index.tsx#DraggableBox"})}catch(__react_docgen_typescript_loader_error){}var DroppableContainer=function DroppableContainer(_ref){var id=_ref.id,initialItems=_ref.initialItems,_useTemporarySet=useTemporarySet(),add=_useTemporarySet.add,has=_useTemporarySet.has,handleDragIn=(0,react.useCallback)((function(item){return{canDrop:!0}}),[]),placeSmoothly=(0,react.useCallback)((function(key){add(key,300),setTimeout((function(){setItems((function(state){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},(0,defineProperty.Z)({},key,state[key].resetOrigin()))}))}))}),[add]),handleDropIn=(0,react.useCallback)((function(item){return setItems((function(state){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},(0,defineProperty.Z)({},item.key,item.box))})),placeSmoothly(item.key),{canDrop:!0}}),[placeSmoothly]),_useDndConnection=function useDndConnection(key,input){var _useContext=(0,react.useContext)(DndContext),onDrag=_useContext.onDrag,onDrop=_useContext.onDrop,register=_useContext.register,unregister=_useContext.unregister,ref=(0,react.useRef)();return(0,react.useEffect)((function(){if(ref.current)return register((0,objectSpread2.Z)({key:key,element:ref.current},input)),function(){return unregister(key)}}),[]),{ref:ref,onDrag:onDrag,onDrop:onDrop}}(id,{onDragIn:handleDragIn,onDropIn:handleDropIn}),ref=_useDndConnection.ref,onDrag=_useDndConnection.onDrag,onDrop=_useDndConnection.onDrop,_useState=(0,react.useState)(initialItems),_useState2=(0,slicedToArray.Z)(_useState,2),items=_useState2[0],setItems=_useState2[1],handleDrag=(0,react.useCallback)((function(item){onDrag(id,item),setItems((function(state){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},state),{},(0,defineProperty.Z)({},item.key,item.box))}))}),[id,onDrag]),handleDrop=(0,react.useCallback)((function(key){setItems((function(state){if(onDrop(id,{key:key,box:state[key]}).canDrop){state[key];return(0,objectWithoutProperties.Z)(state,[key].map(toPropertyKey.Z))}return placeSmoothly(key),state}))}),[id,onDrop,placeSmoothly]);return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(boundingBox.k.createByDimensions(0,0,200,600))),{},{background:"grey",position:"relative"}),ref:ref,children:Object.entries(items).map((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),key=_ref3[0],box=_ref3[1];return(0,jsx_runtime.jsx)(DraggableBox,{value:box,onChange:function onChange(box){return handleDrag({key:key,box:box})},onEnd:function onEnd(){return handleDrop(key)},style:{zIndex:1,userSelect:"none",transitionDuration:has(key)?"".concat(300,"ms"):void 0,transitionProperty:"top left"},children:(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:"orange",cursor:"pointer"}),children:key})},key)}))})};try{DroppableContainer.displayName="DroppableContainer",DroppableContainer.__docgenInfo={description:"",displayName:"DroppableContainer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},initialItems:{defaultValue:null,description:"",name:"initialItems",required:!0,type:{name:"Record<string, BoundingBox>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DroppableContainer/index.tsx#DroppableContainer"]={docgenInfo:DroppableContainer.__docgenInfo,name:"DroppableContainer",path:"src/components/DroppableContainer/index.tsx#DroppableContainer"})}catch(__react_docgen_typescript_loader_error){}var createForOfIteratorHelper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"),point=__webpack_require__("./src/utils/point.ts");function reorder(action,items){var targetIndex=function defineTargetIndex(_ref,items){var point=_ref.point,sourceIndex=_ref.sourceIndex,sourceBox=items[sourceIndex].box,actionBox=sourceBox.moveTo(point),dir=Math.sign(point.y-sourceBox.y0),shiftedIndex=sourceIndex;for(;;){if(shiftedIndex<0){shiftedIndex=0;break}if(shiftedIndex>items.length-1){shiftedIndex=items.length-1;break}var boxCy=getBoxCy(items[shiftedIndex].box),y1=actionBox.y1,y2=actionBox.y2;if(!(-1===dir&&y1<boxCy||1===dir&&y2>boxCy)){shiftedIndex-=dir;break}shiftedIndex+=dir}return shiftedIndex}(action,items);return function moveItem(from,to,items){return positionInChain((0,es.pBW)(from,to,items))}(action.sourceIndex,targetIndex,items)}function getBoxCy(box){return box.ysRange.denormalizeNumber(.5)}function positionInChain(items){var _step,nextItems=[],lastY=0,_iterator=(0,createForOfIteratorHelper.Z)(items);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=_step.value,key=_step$value.key,box=_step$value.box;nextItems.push({key:key,box:box.moveTo(new point.E(box.x0,lastY))}),lastY+=box.height}}catch(err){_iterator.e(err)}finally{_iterator.f()}return nextItems}var SortableContainer=function SortableContainer(_ref){var box=_ref.box,items=_ref.items,_ref$transitionDurati=_ref.transitionDuration,transitionDuration=void 0===_ref$transitionDurati?0:_ref$transitionDurati,style=_ref.style,renderItem=_ref.children,completedItems=useTemporarySet(),_useState=(0,react.useState)(items),_useState2=(0,slicedToArray.Z)(_useState,2),values=_useState2[0],setValues=_useState2[1],_useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.Z)(_useState3,2),movingItem=_useState4[0],setMovingItem=_useState4[1],handleChange=(0,react.useCallback)((function(item){setMovingItem(item),setValues((function(values){return reorder({sourceIndex:values.findIndex((0,es.OH4)("key",item.key)),point:item.box.origin},values)}))}),[]),handleEnd=(0,react.useCallback)((function(key){setMovingItem(null),completedItems.add(key,transitionDuration)}),[completedItems,transitionDuration]),sortedValues=(0,react.useMemo)((function(){return(0,es.MRu)((0,es.vgT)("key"),values)}),[values]);return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(box)),{},{position:"relative"},style),children:sortedValues.map((function(item){var key=item.key,box=item.box,isActive=(null==movingItem?void 0:movingItem.key)===key,isCompleted=completedItems.has(key),commonStyle={zIndex:isActive?2:isCompleted?1:0};return(0,jsx_runtime.jsx)(DraggableBox,{value:isActive?movingItem.box:box,onChange:function onChange(box){return handleChange({key:key,box:box})},onEnd:function onEnd(){return handleEnd(key)},style:isActive?commonStyle:(0,objectSpread2.Z)((0,objectSpread2.Z)({},commonStyle),{},{transitionDuration:"".concat(transitionDuration,"ms"),transitionProperty:"top left"}),children:renderItem(item)},key)}))})};try{SortableContainer.displayName="SortableContainer",SortableContainer.__docgenInfo={description:"",displayName:"SortableContainer",props:{box:{defaultValue:null,description:"",name:"box",required:!0,type:{name:"BoundingBox"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ISortableItem[]"}},transitionDuration:{defaultValue:{value:"0"},description:"Время анимации в ms",name:"transitionDuration",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},children:{defaultValue:null,description:"Item renderer",name:"children",required:!1,type:{name:"((item: ISortableItem) => ReactNode) & ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/SortableContainer/index.tsx#SortableContainer"]={docgenInfo:SortableContainer.__docgenInfo,name:"SortableContainer",path:"src/components/SortableContainer/index.tsx#SortableContainer"})}catch(__react_docgen_typescript_loader_error){}var Sortable_stories={title:"Demo/Sortable",parameters:{}};function renderer(_ref){var key=_ref.key;return(0,jsx_runtime.jsx)("div",{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},styles.$K),{},{background:key,cursor:"pointer"})})}var Only=function Only(){var items=function getItems(colors,sizes){return positionInChain((0,es.yL_)((function(color,height){return{key:color,box:boundingBox.k.createByDimensions(0,0,200,height)}}),colors,sizes))}(["red","blue","green","purple"],[50,150,150,150]);return(0,jsx_runtime.jsx)(SortableContainer,{items:items,transitionDuration:300,box:boundingBox.k.createByDimensions(0,0,200,600),style:{background:"grey"},children:renderer})},initialItems1={test_1:boundingBox.k.square(0,0,50),test_2:boundingBox.k.square(0,300,50)},initialItems2={test_3:boundingBox.k.square(0,0,50),test_4:boundingBox.k.square(0,300,50)},Double2=function Double2(){return(0,jsx_runtime.jsx)("div",{style:{display:"flex",columnGap:300,position:"relative"},children:(0,jsx_runtime.jsxs)(DndConnector,{children:[(0,jsx_runtime.jsx)(DroppableContainer,{id:"first",initialItems:initialItems1}),(0,jsx_runtime.jsx)(DroppableContainer,{id:"second",initialItems:initialItems2})]})})};Only.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  const items = getItems(\r\n    ["red", "blue", "green", "purple"],\r\n    [50, 150, 150, 150]\r\n  );\r\n\r\n  return (\r\n    <SortableContainer\r\n      items={items}\r\n      transitionDuration={300}\r\n      box={BoundingBox.createByDimensions(0, 0, width, 600)}\r\n      style={{ background: "grey" }}\r\n    >\r\n      {renderer}\r\n    </SortableContainer>\r\n  );\r\n}'}},Only.parameters),Double2.parameters=(0,objectSpread2.Z)({storySource:{source:'() => {\r\n  return (\r\n    <div style={{ display: "flex", columnGap: 300, position: "relative" }}>\r\n      <DndConnector>\r\n        <DroppableContainer id="first" initialItems={initialItems1} />\r\n        <DroppableContainer id="second" initialItems={initialItems2} />\r\n      </DndConnector>\r\n    </div>\r\n  );\r\n}'}},Double2.parameters);var Sortable_stories_namedExportsOrder=["Only","Double2"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/components/Draggable/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_l:function(){return Draggable_Draggable},FZ:function(){return StatefulDraggable}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),makeStateful=__webpack_require__("./src/decorators/makeStateful.tsx"),hooks=__webpack_require__("./src/hooks.ts"),styles=__webpack_require__("./src/utils/styles.ts"),dnd=__webpack_require__("./src/decorators/dnd.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Draggable_Draggable=function Draggable(_ref){var value=_ref.value,onStart=_ref.onStart,onChange=_ref.onChange,onEnd=_ref.onEnd,_ref$isCentered=_ref.isCentered,isCentered=void 0!==_ref$isCentered&&_ref$isCentered,children=_ref.children,style=_ref.style,_useCallbackRef=(0,hooks.W)(),_useCallbackRef2=(0,slicedToArray.Z)(_useCallbackRef,2),element=_useCallbackRef2[0],setRef=_useCallbackRef2[1];(0,dnd.c0)({element:element,onStart:onStart,onChange:onChange,onEnd:onEnd});var transform=isCentered?"translate(-50%, -50%)":void 0;return(0,jsx_runtime.jsx)("div",{ref:setRef,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.sG)(value)),{},{position:"absolute",transform:transform},style),children:react.Children.only(children)})},StatefulDraggable=(0,makeStateful.Z)(Draggable_Draggable);try{Draggable_Draggable.displayName="Draggable",Draggable_Draggable.__docgenInfo={description:"",displayName:"Draggable",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"Point"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragCallback"}},isCentered:{defaultValue:{value:"false"},description:"Установить origin элемента в центр",name:"isCentered",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/index.tsx#Draggable"]={docgenInfo:Draggable_Draggable.__docgenInfo,name:"Draggable",path:"src/components/Draggable/index.tsx#Draggable"})}catch(__react_docgen_typescript_loader_error){}try{StatefulDraggable.displayName="StatefulDraggable",StatefulDraggable.__docgenInfo={description:"",displayName:"StatefulDraggable",props:{onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragCallback"}},isCentered:{defaultValue:{value:"false"},description:"Установить origin элемента в центр",name:"isCentered",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"Point"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: Point, options: IPressedKeys) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"Point"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Draggable/index.tsx#StatefulDraggable"]={docgenInfo:StatefulDraggable.__docgenInfo,name:"StatefulDraggable",path:"src/components/Draggable/index.tsx#StatefulDraggable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Resizable/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return components_Resizable}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),makeStateful=__webpack_require__("./src/decorators/makeStateful.tsx"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),Draggable=__webpack_require__("./src/components/Draggable/index.tsx"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),point=__webpack_require__("./src/utils/point.ts"),boxParams=__webpack_require__("./src/utils/boxParams.ts"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),ResizingPoint=function(_Point){(0,inherits.Z)(ResizingPoint,_Point);var _super=(0,createSuper.Z)(ResizingPoint);function ResizingPoint(){return(0,classCallCheck.Z)(this,ResizingPoint),_super.apply(this,arguments)}return(0,createClass.Z)(ResizingPoint,[{key:"mirroredPoint",get:function get(){return this.reflectAroundPoint(new point.E(.5,.5))}},{key:"getSigns",value:function getSigns(origin){return this.subtract(origin).map(Math.sign)}},{key:"resizeBox",value:function resizeBox(box,target){var origin=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mirroredPoint,source=box.denormalizePoint(this),signs=this.getSigns(origin),moveVector=target.subtract(source).mul(signs);return box.shiftDeltas(moveVector.x,moveVector.y)}},{key:"keepTransformOrigin",value:function keepTransformOrigin(prevBox,nextBox){var origin=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mirroredPoint,prevOrigin=prevBox.denormalizePoint(origin);return nextBox.moveTo(prevOrigin,origin)}}]),ResizingPoint}(point.E),resizingPointsPreset=new(function(){function ResizingPointsPreset(){(0,classCallCheck.Z)(this,ResizingPointsPreset),this.get=this.get.bind(this)}return(0,createClass.Z)(ResizingPointsPreset,[{key:"all",get:function get(){return[].concat((0,toConsumableArray.Z)(this.edges),(0,toConsumableArray.Z)(this.corners))}},{key:"edges",get:function get(){return[].concat((0,toConsumableArray.Z)(this.verticalSides),(0,toConsumableArray.Z)(this.horizontalSides))}},{key:"corners",get:function get(){return(0,es.icZ)(this.verticalSides,this.horizontalSides).map((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),s1=_ref2[0],s2=_ref2[1];return"".concat(s1,"-").concat(s2)}))}},{key:"horizontalSides",get:function get(){return[boxParams.y.top,boxParams.y.bottom]}},{key:"verticalSides",get:function get(){return[boxParams.y.left,boxParams.y.right]}},{key:"get",value:function get(key){var _ref3=this.isCorner(key)?this.getCornerPoint(key):this.getEdgePoint(key),x=_ref3.x,y=_ref3.y;return new ResizingPoint(x,y)}},{key:"getCornerPoint",value:function getCornerPoint(key){var _map=key.split("-").map(this.getEdgePoint),_map2=(0,slicedToArray.Z)(_map,2),p1=_map2[0],p2=_map2[1];return p1.mul(p2).map(Math.round)}},{key:"getEdgePoint",value:function getEdgePoint(key){switch(key){case boxParams.y.left:return new point.E(0,.5);case boxParams.y.right:return new point.E(1,.5);case boxParams.y.top:return new point.E(.5,0);case boxParams.y.bottom:return new point.E(.5,1);default:throw new Error("Incorrect thumb key")}}},{key:"isCorner",value:function isCorner(key){return key.includes("-")}}]),ResizingPointsPreset}()),numbersRange=__webpack_require__("./src/utils/numbersRange.ts");function updateBox(_ref){var prevBox=_ref.prevBox,resizingPoint=_ref.resizingPoint,resizingPointTarget=_ref.resizingPointTarget,aspectRatio=_ref.aspectRatio,sizeBounds=_ref.sizeBounds,outerBox=_ref.outerBox,nextBox=resizingPoint.resizeBox(prevBox,resizingPointTarget),keepAspectRatio=null!==aspectRatio;if(keepAspectRatio&&(nextBox=nextBox.setAspectRatio(aspectRatio)),nextBox=function constrainSize(box,_ref2){var width=_ref2.width,height=_ref2.height,withoutBounds=numbersRange.K.infinite();return box.constrainSize(null!=width?width:withoutBounds,null!=height?height:withoutBounds)}(nextBox,sizeBounds),nextBox=resizingPoint.keepTransformOrigin(prevBox,nextBox),nextBox=outerBox.clipInner(nextBox),keepAspectRatio){if(aspectRatio.toPrecision(5)!==nextBox.aspectRatio.toPrecision(5))return prevBox}return nextBox}var useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function useResize(params){var onChange=params.onChange,onStart=params.onStart,onEnd=params.onEnd,thumbKeys=params.thumbKeys,ThumbComponent=params.ThumbComponent,aspectRatioRef=(0,react.useRef)(null),paramsRef=(0,useActualRef.s)(params),handleStart=(0,react.useCallback)((function(_,pk){var box=paramsRef.current.box;aspectRatioRef.current=box.aspectRatio,null==onStart||onStart(box,pk)}),[paramsRef,onStart]),handleEnd=(0,react.useCallback)((function(_,pk){var box=paramsRef.current.box;null==onEnd||onEnd(box,pk)}),[paramsRef,onEnd]),handleChangeSize=(0,react.useCallback)((function(resizingPoint,resizingPointTarget,pressedKeys){var _paramsRef$current=paramsRef.current,box=_paramsRef$current.box,keepAspectRatio=_paramsRef$current.keepAspectRatio,sizeBounds=_paramsRef$current.sizeBounds,outerBox=_paramsRef$current.outerBox,updatedBox=updateBox({prevBox:box,resizingPoint:resizingPoint,resizingPointTarget:resizingPointTarget,aspectRatio:keepAspectRatio||pressedKeys.shiftKey?aspectRatioRef.current:null,sizeBounds:sizeBounds,outerBox:outerBox});onChange(updatedBox,pressedKeys)}),[paramsRef,onChange]);return thumbKeys.map((function(key){var resizingPoint=resizingPointsPreset.get(key),box=paramsRef.current.box;return(0,jsx_runtime.jsx)(Draggable._l,{isCentered:!0,value:box.denormalizePoint(resizingPoint),onChange:function onChange(point,pressedKeys){return handleChangeSize(resizingPoint,point,pressedKeys)},onStart:handleStart,onEnd:handleEnd,children:(0,jsx_runtime.jsx)(ThumbComponent,{})},String(key))}))}try{useResize.displayName="useResize",useResize.__docgenInfo={description:"",displayName:"useResize",props:{box:{defaultValue:null,description:"Текущее состояние бокса",name:"box",required:!0,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},sizeBounds:{defaultValue:null,description:"Ограничения размера сторон",name:"sizeBounds",required:!0,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!0,type:{name:"boolean"}},outerBox:{defaultValue:null,description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!0,type:{name:"BoundingBox"}},thumbKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!0,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!0,type:{name:"ComponentType<{}>"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/hooks.tsx#useResize"]={docgenInfo:useResize.__docgenInfo,name:"useResize",path:"src/components/Resizable/hooks.tsx#useResize"})}catch(__react_docgen_typescript_loader_error){}var styles=__webpack_require__("./src/utils/styles.ts"),Thumb_Thumb=function Thumb(){return(0,jsx_runtime.jsx)("div",{className:"Thumb"})};try{Thumb_Thumb.displayName="Thumb",Thumb_Thumb.__docgenInfo={description:"",displayName:"Thumb",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Thumb/index.tsx#Thumb"]={docgenInfo:Thumb_Thumb.__docgenInfo,name:"Thumb",path:"src/components/Thumb/index.tsx#Thumb"})}catch(__react_docgen_typescript_loader_error){}var dnd=__webpack_require__("./src/decorators/dnd.ts"),Resizable=function Resizable(_ref){var value=_ref.value,onChange=_ref.onChange,callbackRef=_ref.callbackRef,onStart=_ref.onStart,onEnd=_ref.onEnd,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?{}:_ref$sizeBounds,_ref$outerBox=_ref.outerBox,outerBox=void 0===_ref$outerBox?boundingBox.k.infinite():_ref$outerBox,_ref$keepAspectRatio=_ref.keepAspectRatio,keepAspectRatio=void 0!==_ref$keepAspectRatio&&_ref$keepAspectRatio,_ref$thumbKeys=_ref.thumbKeys,thumbKeys=void 0===_ref$thumbKeys?resizingPointsPreset.all:_ref$thumbKeys,_ref$ThumbComponent=_ref.ThumbComponent,ThumbComponent=void 0===_ref$ThumbComponent?Thumb_Thumb:_ref$ThumbComponent,children=_ref.children,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),element=_useState2[0],setElement=_useState2[1],handleRefChange=(0,react.useCallback)((function(el){setElement(el),null==callbackRef||callbackRef(el)}),[callbackRef]);(0,dnd.BU)({element:element,outerBox:outerBox,onChange:onChange,onStart:onStart,onEnd:onEnd});var thumbsElements=useResize({box:value,onChange:onChange,onStart:onStart,onEnd:onEnd,sizeBounds:sizeBounds,keepAspectRatio:keepAspectRatio,thumbKeys:thumbKeys,outerBox:outerBox,ThumbComponent:ThumbComponent});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{ref:handleRefChange,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,styles.b8)(value)),{},{position:"absolute"}),children:react.Children.only(children)}),thumbsElements]})},components_Resizable=(0,makeStateful.Z)(Resizable);try{Resizable.displayName="Resizable",Resizable.__docgenInfo={description:"",displayName:"Resizable",props:{onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}},sizeBounds:{defaultValue:{value:"{}"},description:"Ограничения размера сторон",name:"sizeBounds",required:!1,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:{value:"false"},description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:{value:"resizingPointsPreset.all"},description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!1,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:{value:'() => {\r\n  return <div className="Thumb" />;\r\n}'},description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}},outerBox:{defaultValue:{value:"BoundingBox.infinite()"},description:"Внешний бокс, за пределы которого нельзя выходить",name:"outerBox",required:!1,type:{name:"BoundingBox"}},callbackRef:{defaultValue:null,description:"",name:"callbackRef",required:!1,type:{name:"((instance: HTMLElement | null) => void)"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"BoundingBox"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: BoundingBox, options: IPressedKeys) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"BoundingBox"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Resizable/index.tsx#Resizable"]={docgenInfo:Resizable.__docgenInfo,name:"Resizable",path:"src/components/Resizable/index.tsx#Resizable"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/ResizableControl/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return components_ResizableControl}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),boundingBox=__webpack_require__("./src/utils/boundingBox.ts"),dom=__webpack_require__("./src/utils/dom.ts"),Resizable=__webpack_require__("./src/components/Resizable/index.tsx"),normalization=__webpack_require__("./src/utils/normalization.ts");function denormalizeSizeBounds(sizeBounds,outerBox){var denormalizedSizeBounds={};return sizeBounds.width&&(denormalizedSizeBounds.width=(0,normalization.cY)(sizeBounds.width,outerBox.dx)),sizeBounds.height&&(denormalizedSizeBounds.height=(0,normalization.cY)(sizeBounds.height,outerBox.dy)),denormalizedSizeBounds}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","onChange","sizeBounds"],ResizableControl=function ResizableControl(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?{}:_ref$sizeBounds,rest=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),element=_useState2[0],setElement=_useState2[1],outerBox=(0,react.useMemo)((function(){return element?(0,dom.fF)(element):boundingBox.k.infinite()}),[element]),handleChange=(0,react.useCallback)((function(box,pressedKeys){onChange(outerBox.normalizeInner(box),pressedKeys)}),[onChange,outerBox]);return(0,jsx_runtime.jsx)(Resizable.Z,(0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),{},{callbackRef:setElement,outerBox:outerBox,value:outerBox.denormalizeInner(value),onChange:handleChange,sizeBounds:denormalizeSizeBounds(sizeBounds,outerBox)}))},components_ResizableControl=ResizableControl;try{ResizableControl.displayName="ResizableControl",ResizableControl.__docgenInfo={description:"Resizable элемент, представленный в нормализованном виде",displayName:"ResizableControl",props:{onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"IDragBoxCallback"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"IDragBoxCallback"}},onEnd:{defaultValue:null,description:"",name:"onEnd",required:!1,type:{name:"IDragBoxCallback"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"BoundingBox"}},sizeBounds:{defaultValue:{value:"{}"},description:"Ограничения размера сторон",name:"sizeBounds",required:!1,type:{name:"Partial<Record<EBoxLength, NumbersRange>>"}},keepAspectRatio:{defaultValue:null,description:"Сохранять соотношении сторон",name:"keepAspectRatio",required:!1,type:{name:"boolean"}},thumbKeys:{defaultValue:null,description:"Ключи отображаемых кнопок, за которые производится resize",name:"thumbKeys",required:!1,type:{name:"readonly IResizeThumbKey[]"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ResizableControl/index.tsx#ResizableControl"]={docgenInfo:ResizableControl.__docgenInfo,name:"ResizableControl",path:"src/components/ResizableControl/index.tsx#ResizableControl"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Slider/index.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_utils_orientation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/orientation.ts"),_utils_numbersRange__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/numbersRange.ts"),_ResizableControl__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ResizableControl/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["value","onChange","sizeBounds","orientation"],Slider=function Slider(_ref){var value=_ref.value,onChange=_ref.onChange,_ref$sizeBounds=_ref.sizeBounds,sizeBounds=void 0===_ref$sizeBounds?_utils_numbersRange__WEBPACK_IMPORTED_MODULE_2__.K.infinite():_ref$sizeBounds,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?_utils_orientation__WEBPACK_IMPORTED_MODULE_1__.h.horizontal:_ref$orientation,rest=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_ref,_excluded),handleChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(box){onChange(orientation.rangesOfBox(box)[0])}),[onChange,orientation]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_ResizableControl__WEBPACK_IMPORTED_MODULE_3__.Z,(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},rest),{},{value:orientation.boxFromRanges(value,_utils_numbersRange__WEBPACK_IMPORTED_MODULE_2__.K.normalizationBounds()),onChange:handleChange,sizeBounds:(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},orientation.lengthKey,sizeBounds),thumbKeys:orientation.sides}))};__webpack_exports__.Z=Slider;try{Slider.displayName="Slider",Slider.__docgenInfo={description:"",displayName:"Slider",props:{value:{defaultValue:null,description:"Нормированный диапазон (в пределах от 0 до 1)",name:"value",required:!0,type:{name:"NumbersRange"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: NumbersRange) => void"}},sizeBounds:{defaultValue:{value:"NumbersRange.infinite()"},description:"Диапазон возможных размеров трека",name:"sizeBounds",required:!1,type:{name:"NumbersRange"}},orientation:{defaultValue:{value:"Orientations.horizontal"},description:"",name:"orientation",required:!1,type:{name:"IOrientation"}},ThumbComponent:{defaultValue:null,description:"React компонент кнопки, за которую производится resize",name:"ThumbComponent",required:!1,type:{name:"ComponentType<{}>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Slider/index.tsx#Slider"]={docgenInfo:Slider.__docgenInfo,name:"Slider",path:"src/components/Slider/index.tsx#Slider"})}catch(__react_docgen_typescript_loader_error){}},"./src/decorators/dnd.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c0:function(){return useDrag},BU:function(){return useDragBox},eM:function(){return useDragMovement}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),es=__webpack_require__("./node_modules/ramda/es/index.js"),react=__webpack_require__("./node_modules/react/index.js"),common=__webpack_require__("./src/utils/common.ts"),dom=__webpack_require__("./src/utils/dom.ts"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),utils_point=__webpack_require__("./src/utils/point.ts"),DragListener=function(){function DragListener(element){(0,classCallCheck.Z)(this,DragListener),this.element=element,this.callbacks={onStart:common.Z,onChange:common.Z,onEnd:common.Z},this.handleDown=this.handleDown.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this)}return(0,createClass.Z)(DragListener,[{key:"setCallbacks",value:function setCallbacks(callbacks){this.callbacks=callbacks}},{key:"launch",value:function launch(){var _this=this;return this.element.addEventListener("mousedown",this.handleDown),function(){return _this.dispose()}}},{key:"dispose",value:function dispose(){this.element.removeEventListener("mousedown",this.handleDown),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleEnd),document.removeEventListener("mouseleave",this.handleEnd)}},{key:"handleDown",value:function handleDown(event){var downEvent=event;downEvent.preventDefault(),downEvent.stopPropagation(),this.handleStart(downEvent),document.addEventListener("mousemove",this.handleMove),document.addEventListener("mouseup",this.handleEnd,{once:!0}),document.addEventListener("mouseleave",this.handleEnd,{once:!0})}}]),DragListener}(),DragCoordinatesListener=function(_DragListener){(0,inherits.Z)(DragCoordinatesListener,_DragListener);var _super=(0,createSuper.Z)(DragCoordinatesListener);function DragCoordinatesListener(){var _this2;(0,classCallCheck.Z)(this,DragCoordinatesListener);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this2=_super.call.apply(_super,[this].concat(args))).offset=utils_point.E.nullish,_this2}return(0,createClass.Z)(DragCoordinatesListener,[{key:"handleStart",value:function handleStart(downEvent){this.offset=(0,dom.oR)(downEvent),this.callbacks.onStart((0,dom._b)(downEvent),extractPressedKeys(downEvent))}},{key:"handleMove",value:function handleMove(moveEvent){var point=(0,dom._b)(moveEvent).subtract(this.offset);this.callbacks.onChange(point,extractPressedKeys(moveEvent))}},{key:"handleEnd",value:function handleEnd(upEvent){this.callbacks.onEnd((0,dom._b)(upEvent),extractPressedKeys(upEvent)),document.removeEventListener("mousemove",this.handleMove)}}]),DragCoordinatesListener}(DragListener),DragMovementListener=function(_DragListener2){(0,inherits.Z)(DragMovementListener,_DragListener2);var _super2=(0,createSuper.Z)(DragMovementListener);function DragMovementListener(){return(0,classCallCheck.Z)(this,DragMovementListener),_super2.apply(this,arguments)}return(0,createClass.Z)(DragMovementListener,[{key:"handleStart",value:function handleStart(downEvent){this.callbacks.onStart(utils_point.E.nullish,extractPressedKeys(downEvent))}},{key:"handleMove",value:function handleMove(moveEvent){var point=new utils_point.E(moveEvent.movementX,moveEvent.movementY);this.callbacks.onChange(point,extractPressedKeys(moveEvent))}},{key:"handleEnd",value:function handleEnd(upEvent){this.callbacks.onEnd(utils_point.E.nullish,extractPressedKeys(upEvent)),document.removeEventListener("mousemove",this.handleMove)}}]),DragMovementListener}(DragListener);function extractPressedKeys(_ref){return{altKey:_ref.altKey,shiftKey:_ref.shiftKey,ctrlKey:_ref.ctrlKey}}var useActualRef=__webpack_require__("./src/decorators/useActualRef.ts"),_excluded=["onStart","onChange","onEnd"];function useDndListener(Listener,element,callbacks){var instance=(0,react.useMemo)((function(){return element&&new Listener(element)}),[Listener,element]);(0,react.useEffect)((function(){return null==instance?void 0:instance.launch()}),[instance]),null==instance||instance.setCallbacks(callbacks)}function useDragMovement(_ref){var element=_ref.element,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?common.Z:_ref$onChange,_ref$onStart=_ref.onStart,onStart=void 0===_ref$onStart?common.Z:_ref$onStart,_ref$onEnd=_ref.onEnd,onEnd=void 0===_ref$onEnd?common.Z:_ref$onEnd;useDndListener(DragMovementListener,element,{onStart:onStart,onChange:onChange,onEnd:onEnd})}function useDrag(_ref2){var element=_ref2.element,_ref2$isInOwnCoordina=_ref2.isInOwnCoordinates,isInOwnCoordinates=void 0===_ref2$isInOwnCoordina||_ref2$isInOwnCoordina,_ref2$onStart=_ref2.onStart,onStart=void 0===_ref2$onStart?common.Z:_ref2$onStart,_ref2$onChange=_ref2.onChange,onChange=void 0===_ref2$onChange?common.Z:_ref2$onChange,_ref2$onEnd=_ref2.onEnd,onEnd=void 0===_ref2$onEnd?common.Z:_ref2$onEnd,offsetParentDecorator=(0,react.useCallback)((function(dndCallback){return function(point,pressedKeys){if(element){var offsetParent=element.offsetParent;if(!offsetParent)return console.error("Не найден offsetParent"),void dndCallback(point,pressedKeys);var offset=(0,dom.uf)(offsetParent);dndCallback(point.subtract(offset),pressedKeys)}}}),[element]),wrapper=isInOwnCoordinates?offsetParentDecorator:es.yRu;useDndListener(DragCoordinatesListener,element,(0,es.IDH)(wrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd}))}function useDragBox(_ref3){var _ref3$onStart=_ref3.onStart,onStart=void 0===_ref3$onStart?common.Z:_ref3$onStart,_ref3$onChange=_ref3.onChange,onChange=void 0===_ref3$onChange?common.Z:_ref3$onChange,_ref3$onEnd=_ref3.onEnd,onEnd=void 0===_ref3$onEnd?common.Z:_ref3$onEnd,rest=(0,objectWithoutProperties.Z)(_ref3,_excluded),paramsRef=(0,useActualRef.s)(rest),addBoxWrapper=(0,react.useCallback)((function(dndCallback){return function(point,pressedKeys){var _paramsRef$current=paramsRef.current,outerBox=_paramsRef$current.outerBox,element=_paramsRef$current.element,box=(0,dom.Zt)(element).moveTo(point);dndCallback(outerBox?outerBox.clampInner(box):box,pressedKeys)}}),[paramsRef]);return useDrag((0,objectSpread2.Z)((0,objectSpread2.Z)({},rest),(0,es.IDH)(addBoxWrapper,{onStart:onStart,onChange:onChange,onEnd:onEnd})))}},"./src/decorators/makeStateful.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return makeStateful}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["initialValue","onChange","value"];function makeStateful(Component){return function(props){props.initialValue;var onChange=props.onChange,propsValue=props.value,restProps=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(props,_excluded),isStateful=!(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("value",props);(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("value",props)&&(0,ramda__WEBPACK_IMPORTED_MODULE_0__.e$l)("initialValue",props)&&console.error("both arguments 'value' and 'initialValue' cannot be passed at the same time");var _useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(props.initialValue),_useState2=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),stateValue=_useState2[0],setStateValue=_useState2[1],handleChange=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((function(nextValue,options){isStateful&&setStateValue(nextValue),null==onChange||onChange(nextValue,options)}),[isStateful,onChange]),value=isStateful?stateValue:propsValue;if(void 0===value)throw new Error("At least one argument 'value' or 'initialValue' must be passed");var newProps=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},restProps),{},{value:value,onChange:handleChange});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component,(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},newProps))}}try{makeStateful.displayName="makeStateful",makeStateful.__docgenInfo={description:"Добавляет возможность переместить управление состоянием внутрь компонента\n- Принимает компонент с обязательными пропсами: value и onChange.\n- Возвращает компонент с необязательными пропсами: value, onChange, initialValue",displayName:"makeStateful",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/decorators/makeStateful.tsx#makeStateful"]={docgenInfo:makeStateful.__docgenInfo,name:"makeStateful",path:"src/decorators/makeStateful.tsx#makeStateful"})}catch(__react_docgen_typescript_loader_error){}},"./src/decorators/useActualRef.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{s:function(){return useActualRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useActualRef(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return ref.current=value,ref}},"./src/hooks.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{W:function(){return useCallbackRef}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useCallbackRef(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null)}},"./src/utils/boundingBox.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{k:function(){return BoundingBox}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),_numbersRange__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/numbersRange.ts"),_point__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/point.ts"),BoundingBox=function(){function BoundingBox(x1,x2,y1,y2){(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_3__.Z)(this,BoundingBox),this.x1=x1,this.x2=x2,this.y1=y1,this.y2=y2}return(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.Z)(BoundingBox,[{key:"x0",get:function get(){return this.x1}},{key:"y0",get:function get(){return this.y1}},{key:"origin",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.x0,this.y0)}},{key:"dx",get:function get(){return this.x2-this.x1}},{key:"dy",get:function get(){return this.y2-this.y1}},{key:"width",get:function get(){return Math.abs(this.dx)}},{key:"height",get:function get(){return Math.abs(this.dy)}},{key:"xsRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.x1,this.x2)}},{key:"ysRange",get:function get(){return new _numbersRange__WEBPACK_IMPORTED_MODULE_1__.K(this.y1,this.y2)}},{key:"center",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E((this.x1+this.x2)/2,(this.y1+this.y2)/2)}},{key:"setX1",value:function setX1(value){return new BoundingBox(value,this.x2,this.y1,this.y2)}},{key:"setX2",value:function setX2(value){return new BoundingBox(this.x1,value,this.y1,this.y2)}},{key:"setY1",value:function setY1(value){return new BoundingBox(this.x1,this.x2,value,this.y2)}},{key:"setY2",value:function setY2(value){return new BoundingBox(this.x1,this.x2,this.y1,value)}},{key:"clipInner",value:function clipInner(inner){return new BoundingBox((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.x1,this.x2,inner.x2),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y1),(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(this.y1,this.y2,inner.y2))}},{key:"clampInner",value:function clampInner(inner){return BoundingBox.createByRanges(this.xsRange.clampInner(inner.xsRange),this.ysRange.clampInner(inner.ysRange))}},{key:"clampByOuter",value:function clampByOuter(outer){return outer.clampInner(this)}},{key:"shift",value:function shift(offsets){var p=this.origin.add(offsets);return BoundingBox.createByDimensions(p.x,p.y,this.dx,this.dy)}},{key:"moveTo",value:function moveTo(p){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_point__WEBPACK_IMPORTED_MODULE_2__.E.nullish;return this.shift(p.subtract(this.denormalizePoint(origin)))}},{key:"resetOrigin",value:function resetOrigin(){return BoundingBox.createByDimensions(0,0,this.dx,this.dy)}},{key:"constrainSize",value:function constrainSize(dxBounds,dyBounds){var dx=dxBounds.clampNumber(this.dx),dy=dyBounds.clampNumber(this.dy);return BoundingBox.createByDimensions(this.x0,this.y0,dx,dy)}},{key:"shiftDeltas",value:function shiftDeltas(offsetX,offsetY){return BoundingBox.createByDimensions(this.x0,this.y0,this.dx+offsetX,this.dy+offsetY)}},{key:"scale",value:function scale(k){return BoundingBox.createByRanges(this.xsRange.scale(k),this.ysRange.scale(k))}},{key:"intersectionArea",value:function intersectionArea(box){var left=Math.max(this.x1,box.x1),bottom=Math.min(this.y2,box.y2),width=Math.min(this.x2,box.x2)-left,height=bottom-Math.max(this.y1,box.y1);return width<0||height<0?0:width*height}},{key:"aspectRatio",get:function get(){return this.dx/this.dy}},{key:"setAspectRatio",value:function setAspectRatio(ratio){var dy=(this.dx+this.dy)/(ratio+1),dx=ratio*dy;return BoundingBox.createByDimensions(this.x0,this.y0,dx,dy)}},{key:"normalizeInner",value:function normalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.normalizeNumber(inner.x1),xsRange.normalizeNumber(inner.x2),ysRange.normalizeNumber(inner.y1),ysRange.normalizeNumber(inner.y2))}},{key:"denormalizeInner",value:function denormalizeInner(inner){var xsRange=this.xsRange,ysRange=this.ysRange;return new BoundingBox(xsRange.denormalizeNumber(inner.x1),xsRange.denormalizeNumber(inner.x2),ysRange.denormalizeNumber(inner.y1),ysRange.denormalizeNumber(inner.y2))}},{key:"normalizePoint",value:function normalizePoint(point){return point.subtract(this.origin).div(this.deltasVector)}},{key:"denormalizePoint",value:function denormalizePoint(point){return this.origin.add(point.mul(this.deltasVector))}},{key:"deltasVector",get:function get(){return new _point__WEBPACK_IMPORTED_MODULE_2__.E(this.dx,this.dy)}},{key:"placeOutside",value:function placeOutside(box){return box.shift(this.origin)}},{key:"placeInside",value:function placeInside(box){var origin=box.origin.subtract(this.origin);return box.moveTo(origin)}},{key:"isEqual",value:function isEqual(_ref){var x1=_ref.x1,x2=_ref.x2,y1=_ref.y1,y2=_ref.y2;return x1===this.x1&&x2===this.x2&&y1===this.y1&&y2===this.y2}},{key:"map",value:function map(f){return new BoundingBox(f(this.x1),f(this.x2),f(this.y1),f(this.y2))}}],[{key:"square",value:function square(x0,y0,a){return this.createByDimensions(x0,y0,a,a)}},{key:"fromOrigin",value:function fromOrigin(dx,dy){return BoundingBox.createByDimensions(0,0,dx,dy)}},{key:"createByDimensions",value:function createByDimensions(x0,y0,dx,dy){return new BoundingBox(x0,x0+dx,y0,y0+dy)}},{key:"createByRanges",value:function createByRanges(xRange,yRange){return new BoundingBox(xRange.start,xRange.end,yRange.start,yRange.end)}},{key:"nullish",value:function nullish(){return new BoundingBox(0,0,0,0)}},{key:"infinite",value:function infinite(){return new BoundingBox(-1/0,1/0,-1/0,1/0)}}]),BoundingBox}()},"./src/utils/boxParams.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var EBoxSide,EBoxLength;__webpack_require__.d(__webpack_exports__,{E:function(){return EBoxLength},y:function(){return EBoxSide}}),function(EBoxSide){EBoxSide.top="top",EBoxSide.bottom="bottom",EBoxSide.left="left",EBoxSide.right="right"}(EBoxSide||(EBoxSide={})),function(EBoxLength){EBoxLength.width="width",EBoxLength.height="height"}(EBoxLength||(EBoxLength={}))},"./src/utils/common.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return noop}});var noop=function noop(){}},"./src/utils/dom.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Zt:function(){return getBoxOnPage},_b:function(){return getMousePoint},fF:function(){return getOffsetBox},oR:function(){return getMouseOffsetPoint},uf:function(){return getPointOnPage}});var _boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/boundingBox.ts"),_point__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/point.ts");function getPointOnPage(element){var _element$getBoundingC=element.getBoundingClientRect(),x=_element$getBoundingC.x,y=_element$getBoundingC.y;return new _point__WEBPACK_IMPORTED_MODULE_1__.E(x,y)}function getOriginOnPage(element){return getPointOnPage(element).subtract(function getOriginOffset(element){var transform=getComputedStyle(element).transform,_DOMMatrixReadOnly=new DOMMatrixReadOnly(transform),translateX=_DOMMatrixReadOnly.m41,translateY=_DOMMatrixReadOnly.m42;return new _point__WEBPACK_IMPORTED_MODULE_1__.E(translateX,translateY)}(element))}function getBoxOnPage(element){var _element$getBoundingC2=element.getBoundingClientRect(),x=_element$getBoundingC2.x,y=_element$getBoundingC2.y,width=_element$getBoundingC2.width,height=_element$getBoundingC2.height;return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByDimensions(x,y,width,height)}function getOffsetBox(element){var parent=null==element?void 0:element.offsetParent;return parent?getBoxOnPage(parent).resetOrigin():_boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.infinite()}function getMouseOffsetPoint(mouseEvent){var targetOrigin=getOriginOnPage(mouseEvent.currentTarget);return getMousePoint(mouseEvent).subtract(targetOrigin)}function getMousePoint(event){return new _point__WEBPACK_IMPORTED_MODULE_1__.E(event.pageX,event.pageY)}},"./src/utils/normalization.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Fv:function(){return normalize},cY:function(){return denormalize}});__webpack_require__("./node_modules/ramda/es/index.js");function normalize(obj,size){return obj.map((function(a){return a/size}))}function denormalize(obj,size){return obj.map((function(a){return a*size}))}},"./src/utils/numbersRange.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{K:function(){return NumbersRange}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ramda/es/index.js"),NumbersRange=function(_Symbol$iterator){function NumbersRange(start,end){(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.Z)(this,NumbersRange),this.start=start,this.end=end}return(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_3__.Z)(NumbersRange,[{key:"delta",get:function get(){return this.end-this.start}},{key:"size",get:function get(){return Math.abs(this.delta)}},{key:"direction",get:function get(){return Math.sign(this.delta)}},{key:"setStart",value:function setStart(value){return new NumbersRange(value,this.end)}},{key:"setEnd",value:function setEnd(value){return new NumbersRange(this.start,value)}},{key:"shift",value:function shift(offset){return this.map((function(n){return n+offset}))}},{key:"constrainSize",value:function constrainSize(bounds){var delta=bounds.clampNumber(this.delta);return NumbersRange.createByDelta(this.start,delta)}},{key:"clipInner",value:function clipInner(inner){var _this=this;return inner.map((function(a){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(_this.start,_this.end,a)}))}},{key:"clampInner",value:function clampInner(_ref){var start=_ref.start,delta=_ref.delta;return NumbersRange.createByDelta((0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end-delta,start),delta)}},{key:"clampNumber",value:function clampNumber(n){return(0,ramda__WEBPACK_IMPORTED_MODULE_1__.uZ5)(this.start,this.end,n)}},{key:"denormalizeNumber",value:function denormalizeNumber(n){return this.start+n*this.delta}},{key:"normalizeNumber",value:function normalizeNumber(n){return(n-this.start)/this.delta}},{key:"scale",value:function scale(k){var offset=this.size*k;return new NumbersRange(this.start+offset,this.end-offset)}},{key:"moveTo",value:function moveTo(x){var origin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.shift(x-this.denormalizeNumber(origin))}},{key:"includes",value:function includes(x){return this.start<=x&&x<=this.end}},{key:"isEqual",value:function isEqual(_ref2){var start=_ref2.start,end=_ref2.end;return this.start===start&&this.end===end}},{key:"map",value:function map(f){return new NumbersRange(f(this.start),f(this.end))}},{key:_Symbol$iterator,value:_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function value(){return _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function value$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.start;case 2:return _context.next=4,this.end;case 4:case"end":return _context.stop()}}),value,this)}))}],[{key:"createByDelta",value:function createByDelta(start,delta){return new NumbersRange(start,start+delta)}},{key:"infinite",value:function infinite(){return new NumbersRange(-1/0,1/0)}},{key:"endless",value:function endless(start){return new NumbersRange(start,1/0)}},{key:"normalizationBounds",value:function normalizationBounds(){return new NumbersRange(0,1)}}]),NumbersRange}(Symbol.iterator)},"./src/utils/orientation.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return Orientations}});var EOrientation,Orientations,_Orientations,_boundingBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/boundingBox.ts"),_boxParams__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/boxParams.ts");!function(EOrientation){EOrientation.horizontal="horizontal",EOrientation.vertical="vertical"}(EOrientation||(EOrientation={})),(_Orientations=Orientations||(Orientations={})).horizontal={key:EOrientation.horizontal,rangesOfBox:function rangesOfBox(box){return[box.xsRange,box.ysRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByRanges(parallelRange,normalRange)},lengthKey:_boxParams__WEBPACK_IMPORTED_MODULE_1__.E.width,sides:[_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.left,_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.right],cssKeys:{length:"width",thickness:"height",coordinate:"left",normalCoordinate:"top"}},_Orientations.vertical={key:EOrientation.vertical,rangesOfBox:function rangesOfBox(box){return[box.ysRange,box.xsRange]},boxFromRanges:function boxFromRanges(parallelRange,normalRange){return _boundingBox__WEBPACK_IMPORTED_MODULE_0__.k.createByRanges(normalRange,parallelRange)},lengthKey:_boxParams__WEBPACK_IMPORTED_MODULE_1__.E.height,sides:[_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.top,_boxParams__WEBPACK_IMPORTED_MODULE_1__.y.bottom],cssKeys:{length:"height",thickness:"width",coordinate:"top",normalCoordinate:"left"}}},"./src/utils/point.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return Point}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js"),Point=function(){function Point(x,y){(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.Z)(this,Point),this.x=x,this.y=y}return(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.Z)(Point,[{key:"map",value:function map(f){return new Point(f(this.x),f(this.y))}},{key:"setX",value:function setX(value){return new Point(value,this.y)}},{key:"setY",value:function setY(value){return new Point(this.x,value)}},{key:"shiftX",value:function shiftX(offset){return this.setX(this.x+offset)}},{key:"shiftY",value:function shiftY(offset){return this.setY(this.y+offset)}},{key:"add",value:function add(p){return new Point(this.x+p.x,this.y+p.y)}},{key:"subtract",value:function subtract(p){return new Point(this.x-p.x,this.y-p.y)}},{key:"mulK",value:function mulK(k){return new Point(this.x*k,this.y*k)}},{key:"mul",value:function mul(p){return new Point(this.x*p.x,this.y*p.y)}},{key:"div",value:function div(p){return new Point(this.x/p.x,this.y/p.y)}},{key:"dot",value:function dot(p){var _this$mul=this.mul(p);return _this$mul.x+_this$mul.y}},{key:"clampX",value:function clampX(min,max){return new Point((0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.x),this.y)}},{key:"clampY",value:function clampY(min,max){return new Point(this.x,(0,ramda__WEBPACK_IMPORTED_MODULE_0__.uZ5)(min,max,this.y))}},{key:"negate",value:function negate(){return this.mulK(-1)}},{key:"reflectAroundPoint",value:function reflectAroundPoint(p){return p.subtract(this.subtract(p))}}],[{key:"nullish",get:function get(){return new Point(0,0)}}]),Point}()},"./src/utils/styles.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$K:function(){return stretchStyle},Dx:function(){return ellipsisStyle},FV:function(){return centererStyle},_T:function(){return getRgbaColor},b8:function(){return getBoxStyle},sG:function(){return getPointStyle}});var _home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/index.js");function getPointStyle(_ref){var x=_ref.x,y=_ref.y;return{left:"".concat(x,"px"),top:"".concat(y,"px")}}function getBoxStyle(box){return(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},getPointStyle(box.origin)),{},{width:"".concat(box.dx,"px"),height:"".concat(box.dy,"px")})}var stretchStyle={width:"100%",height:"100%"},centererStyle={display:"flex",justifyContent:"center",alignItems:"center"},ellipsisStyle={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"};function getRgbaColor(hexColor,opacity){var _hexParts$map=(0,ramda__WEBPACK_IMPORTED_MODULE_0__.MeV)(2,(0,ramda__WEBPACK_IMPORTED_MODULE_0__.GbB)(hexColor)).map((function(n){return parseInt(n,16)})),_hexParts$map2=(0,_home_dkskv_projects_demo_ui_kit_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_hexParts$map,3),r=_hexParts$map2[0],g=_hexParts$map2[1],b=_hexParts$map2[2];return"rgba(".concat(r,", ").concat(g,", ").concat(b,", ").concat(opacity,")")}},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Carousel.stories.tsx":"./src/stories/Carousel.stories.tsx","./stories/Draggable.stories.tsx":"./src/stories/Draggable.stories.tsx","./stories/NumberRangeInput.stories.tsx":"./src/stories/NumberRangeInput.stories.tsx","./stories/Resizable.stories.tsx":"./src/stories/Resizable.stories.tsx","./stories/Sortable.stories.tsx":"./src/stories/Sortable.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[730],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);